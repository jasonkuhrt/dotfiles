{"id":"dotfiles-1gd","title":"Set up packages/linear with Graffle client for Linear API","description":"Create packages/linear/ in the Bun workspace. Add package.json (@jasonkuhrt/linear), tsconfig. Run graffle CLI to generate typed client from Linear's GraphQL schema (https://api.linear.app/graphql). Create src/client.ts that exports a configured Graffle client using LINEAR_API_TOKEN from env. Verify generation works and client can make a basic query.","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:15.899328-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T00:56:48.576121-05:00","closed_at":"2026-01-28T00:56:48.576121-05:00","close_reason":"packages/linear created with Graffle-generated typed client and configured client.ts"}
{"id":"dotfiles-36y","title":"Apply gh_ namespace to gh-* and merge pr-* under gh_","description":"Rename all gh-* skill directories and merge pr-* skills under the gh_ namespace.\n\ngh-* skills (dir rename + frontmatter update):\n- gh-cli → gh_cli (gh:cli)\n- gh-ci-action-ts → gh_ci-action-ts (gh:ci-action-ts)\n- gh-issue-read → gh_issue-read (gh:issue-read)\n- gh-pr-comment-write → gh_pr-comment-write (gh:pr-comment-write)\n\npr-* → gh_ (namespace change + dir rename):\n- pr-ai-reviewers → gh_pr-ai-reviewers (gh:pr-ai-reviewers)\n- pr-checks → gh_pr-checks (gh:pr-checks)\n- pr-resolve-review → gh_pr-resolve-review (gh:pr-resolve-review)\n- pr-test-resolve-review → gh_pr-test-resolve-review (gh:pr-test-resolve-review)\n\nFor each skill:\n1. Rename directory\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:16.056747-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.226857-05:00","closed_at":"2026-01-27T22:48:57.226857-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-36y","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:28.040287-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-421","title":"Save research: OSC 8 hyperlinks and Ghostty clickable paths","description":"Save research findings from session about OSC 8 hyperlinks, Ghostty clickable file path support, and Claude Code's OSC 8 integration. This is a save-research task to be completed immediately.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:44.355363-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:24:21.617723-05:00","closed_at":"2026-01-28T17:24:21.617723-05:00","close_reason":"Research saved to .claude/research/2026-01-28-2223-osc8-hyperlinks-ghostty-clickable-paths.md"}
{"id":"dotfiles-4u0","title":"Consolidate cc_* user skills into 3 router skills","description":"Merge 15 cc_* skills into 3 routers:\n- cc_authoring: writing-skills, writing-hooks, writing-rules, markers, ask-user-question, skills-tmp-dir\n- cc_ecosystem: managing-plugins, managing-mcp, managing-permissions, managing-marketplaces  \n- cc_core: internals, tasks, session-search, session-get-id, chrome-debugging, fork\n\ncc_writing-skills already has progressive disclosure (12 files). Its SKILL.md body becomes reference/writing-skills/overview.md, its reference/ files move to reference/writing-skills/.\n\nRegistry savings: ~12 entries (~550 tokens). Largest single cluster savings.","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 15 cc_* skills → 3 router skills\n\n#### Router 1: `cc_authoring/` (name: `cc:authoring`)\n\nSkills about CREATING Claude Code artifacts.\n\n**Source skills:**\n- `cc_writing-skills` — **HAS PROGRESSIVE DISCLOSURE** (11 reference files: pattern-progressive-disclosure.md, pattern-script-bundling.md, pattern-code-examples.md, tool-ask-user-question.md, tool-todo-write.md, config-frontmatter.md, config-hooks.md, config-context-fork.md, config-allowed-tools.md, limitation-output-collapse.md, feature-status-line.md)\n- `cc_writing-hooks` — single file\n- `cc_writing-rules` — single file\n- `cc_markers` — has assets/ (grep-pattern.txt)\n- `cc_ask-user-question` — single file (or check for sub-files)\n- `cc_skills-tmp-dir` — single file\n\n**Target structure:**\n```\ncc_authoring/\n├── SKILL.md\n├── reference/\n│   ├── writing-skills/\n│   │   ├── overview.md                        # Former cc_writing-skills/SKILL.md body\n│   │   ├── pattern-progressive-disclosure.md  # Existing reference file\n│   │   ├── pattern-script-bundling.md\n│   │   ├── pattern-code-examples.md\n│   │   ├── tool-ask-user-question.md\n│   │   ├── tool-todo-write.md\n│   │   ├── config-frontmatter.md\n│   │   ├── config-hooks.md\n│   │   ├── config-context-fork.md\n│   │   ├── config-allowed-tools.md\n│   │   ├── limitation-output-collapse.md\n│   │   └── feature-status-line.md\n│   ├── writing-hooks/\n│   │   └── overview.md\n│   ├── writing-rules/\n│   │   └── overview.md\n│   ├── markers/\n│   │   └── overview.md\n│   ├── ask-user-question/\n│   │   └── overview.md\n│   └── skills-tmp-dir/\n│       └── overview.md\n├── assets/\n│   └── markers-grep-pattern.txt\n```\n\n**SKILL.md description:** `Use when creating or troubleshooting Claude Code skills, hooks, rules, markers, or AskUserQuestion calls. Covers platform gotchas, frontmatter config, progressive disclosure patterns, and known limitations.`\n\n**SKILL.md body must list ALL reference files per topic:**\n```markdown\n## Topics\n\n### Writing Skills\nPlatform gotchas and limitations for skill authoring.\n- [Overview](reference/writing-skills/overview.md)\n- [Progressive disclosure](reference/writing-skills/pattern-progressive-disclosure.md)\n- [Script bundling](reference/writing-skills/pattern-script-bundling.md)\n- [Code examples](reference/writing-skills/pattern-code-examples.md)\n- [AskUserQuestion tool](reference/writing-skills/tool-ask-user-question.md)\n- [TodoWrite tool](reference/writing-skills/tool-todo-write.md)\n- [Frontmatter config](reference/writing-skills/config-frontmatter.md)\n- [Hooks config](reference/writing-skills/config-hooks.md)\n- [Context fork](reference/writing-skills/config-context-fork.md)\n- [Allowed tools](reference/writing-skills/config-allowed-tools.md)\n- [Output collapse limitation](reference/writing-skills/limitation-output-collapse.md)\n- [Status line](reference/writing-skills/feature-status-line.md)\n\n### Writing Hooks\nHook debugging and known bugs (PreToolUse+AskUserQuestion).\n- [Overview](reference/writing-hooks/overview.md)\n\n### Writing Rules\nCreating .claude/rules/*.md files with path scoping.\n- [Overview](reference/writing-rules/overview.md)\n\n### Markers\nReviewing @claude/@c markers in code.\n- [Overview](reference/markers/overview.md)\n\n### AskUserQuestion\nSchema constraints, effectiveness patterns, known issues.\n- [Overview](reference/ask-user-question/overview.md)\n\n### Skills Tmp Dir\nConvention for skills writing temporary/local files.\n- [Overview](reference/skills-tmp-dir/overview.md)\n```\n\n#### Router 2: `cc_ecosystem/` (name: `cc:ecosystem`)\n\nSkills about MANAGING Claude Code extensions and configuration.\n\n**Source skills (verify each for sub-files before migrating):**\n- `cc_managing-plugins` — check for sub-files\n- `cc_managing-mcp` — check for sub-files\n- `cc_managing-permissions` — check for sub-files\n- `cc_managing-marketplaces` — check for sub-files\n\n**Target structure:**\n```\ncc_ecosystem/\n├── SKILL.md\n├── reference/\n│   ├── plugins/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── mcp/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── permissions/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── marketplaces/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when installing/managing Claude Code plugins, configuring MCP servers, setting permissions/allow-deny rules, or working with marketplace internals. Covers CLI commands, scoping, worktree behavior, and known bugs.`\n\n#### Router 3: `cc_core/` (name: `cc:core`)\n\nSkills about UNDERSTANDING and USING Claude Code.\n\n**Source skills (verify each for sub-files before migrating):**\n- `cc_internals` — check for sub-files\n- `cc_tasks` — has sub-files (details.md, references.md)\n- `cc_session-search` — check for sub-files\n- `cc_session-get-id` — single file\n- `cc_chrome-debugging` — check for sub-files\n- `cc_fork` — check for sub-files\n\n**Target structure:**\n```\ncc_core/\n├── SKILL.md\n├── reference/\n│   ├── internals/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── tasks/\n│   │   ├── overview.md\n│   │   ├── details.md\n│   │   └── references.md\n│   ├── session-search/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── session-get-id/\n│   │   └── overview.md\n│   ├── chrome-debugging/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── fork/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when asking how Claude Code works internally, managing tasks (TaskCreate/TaskUpdate), searching session history, getting session IDs, debugging Chrome extension issues, or forking parallel agents.`\n\n### Execution Steps\n\n1. For each of the 3 routers:\n   a. Create the new directory and SKILL.md with frontmatter + topic sections\n   b. For each source skill, read its directory contents (check for sub-files!)\n   c. Single-file skills: body → `reference/\u003ctopic\u003e/overview.md`\n   d. Multi-file skills: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, sub-files → `reference/\u003ctopic\u003e/`\n   e. List ALL reference files in the router SKILL.md under their topic section\n2. Delete all 15 old `cc_*` directories\n3. Verify each router: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`cc_authoring`, `cc_ecosystem`, `cc_core`)\n- Frontmatter name: colon delimiter (`cc:authoring`, `cc:ecosystem`, `cc:core`)\n- Topic subdirs: kebab-case matching former skill name without `cc_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:12.713544-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.795322-05:00","closed_at":"2026-01-28T15:07:10.795322-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-4wo","title":"Resolve rule: No Direct CC JSON Edits","description":"Decide where this draft rule belongs — bring into active rules, fold into a skill, or delete.\n\n## Draft Content\n\n**FORBIDDEN**: Never directly edit Claude Code's internal JSON files (`installed_plugins.json`, `settings.json`, `known_marketplaces.json`, `sessions-index.json`, etc.).\n\nThese files are managed by CC's CLI commands (`/plugin`, `/settings`, etc.). Direct edits can:\n- Produce invalid state that CC doesn't recognize\n- Be silently overwritten by the next CLI operation\n- Break plugin loading in ways that are hard to debug\n\n### What to Do Instead\n\n| Goal | Use |\n|------|-----|\n| Install/remove plugins | `/plugin install`, `/plugin remove` |\n| Change settings | `/settings`, or edit `.claude/settings.json` (the project one, not internal) |\n| Manage marketplaces | `/plugin marketplace` |\n\nIf a CLI command has a bug (e.g., scope detection), work around it at the CLI level or file an issue. Don't patch the JSON.\n\n### Exception: Manifest Corruption\n\nWhen the CLI itself is broken (e.g., `uninstall` can't find a plugin that `list` shows, cache directories missing on disk), editing JSON directly is acceptable as a **last resort**. Validate after: `jq empty ~/.claude/plugins/installed_plugins.json`\n\n### Frontmatter (paths scope)\n\n```yaml\npaths:\n  - \"**/.claude/**/*.json\"\n  - \"~/.claude/**/*.json\"\n```","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:35:47.068936-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:35:47.068936-05:00"}
{"id":"dotfiles-51h","title":"Consolidate research_* user skills into single router skill","description":"Merge 4 research_* skills (write, prune, format, flush-cc-thread) into single research router skill. All are single-file SKILL.md skills — straightforward merge. Each becomes a section in the router or a reference file.\n\nRegistry savings: ~3 entries (~140 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/`\n\n### Plan: 4 research_* skills → 1 router skill\n\n#### Router: `research/` (name: `research`)\n\n**Source skills:**\n- `research_write` — creating, importing, sorting, archiving research files\n- `research_prune` — removing conversational artifacts from research files\n- `research_format` — standardizing formatting, enriching GitHub links\n- `research_flush-cc-thread` — preserving learnings before context loss\n\nAll are single-file SKILL.md skills (no progressive disclosure).\n\n**Target structure:**\n```\nresearch/\n├── SKILL.md\n├── reference/\n│   ├── write/\n│   │   └── overview.md\n│   ├── prune/\n│   │   └── overview.md\n│   ├── format/\n│   │   └── overview.md\n│   └── flush-cc-thread/\n│       └── overview.md\n```\n\n**SKILL.md description:** `Use when working with .claude/research files — creating, importing, formatting, pruning conversational artifacts, or flushing session learnings before context loss. Covers research file lifecycle.`\n\n**Alternative (if all 4 source skills are short):** If each source SKILL.md body is under ~80 lines, consider inlining all 4 directly into the router SKILL.md as sections instead of using reference files. This avoids unnecessary indirection for small content. Use reference files only if the combined content would exceed 500 lines.\n\n### Execution Steps\n\n1. Read all 4 source SKILL.md files\n2. Assess total line count — if \u003c 500 combined, inline as sections; otherwise use reference files\n3. Create `research/` directory and SKILL.md\n4. Delete all 4 old `research_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all content accessible\n\n### Naming Conventions\n\n- Directory: `research/`\n- Frontmatter name: `research`\n- Topic subdirs (if used): kebab-case matching former skill name without `research_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:17.407058-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.863496-05:00","closed_at":"2026-01-28T15:07:10.863496-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-54h","title":"QA refactor pass: lint, type checks, CI hooks, and code quality for shan","description":"## Summary\n\nComprehensive quality pass on `packages/shan/` to establish a proper check pipeline, eliminate duplication, and wire checks into CC's workflow for automated enforcement.\n\n## Context\n\nShan has grown from a single transcript dump command to a multi-namespace CLI (transcript + task) with 11 source files and no automated quality checks. Several patterns were copied-then-modified during feature work, creating duplicated logic and inconsistent approaches.\n\n## Deliverables\n\n### 1. Check Scripts in package.json\n\nAdd scripts to `packages/shan/package.json`:\n\n- `typecheck` — `tsc --noEmit`\n- `lint` — biome or dprint (match dotfiles conventions)\n- `check` — runs all checks (typecheck + lint)\n\n### 2. CC Integration Hooks\n\nWire checks into Claude Code's workflow so they run automatically when working on shan:\n\n- Add `packages/shan/.claude/settings.json` (or project-level hooks) with PreCommit or PostToolUse hooks that run `bun run check` on relevant file changes\n- Consider a `.claude/rules/` file scoping shan-specific conventions (Effect patterns, Bun APIs, etc.)\n\n### 3. Deduplicate Shared Logic\n\nSeveral modules duplicate core concepts:\n\n- **Project directory encoding** — `toClaudeProjectDir` in `session-picker.ts` and inline `cwd.replace(/[/.]/g, \"-\")` in `task-resolver.ts`. Extract to a shared `claude-paths.ts` module.\n- **Current session ID** — `getCurrentSessionId()` exists in both `session-resolver.ts` and `task-resolver.ts` with identical implementations. Extract to shared module.\n- **Session discovery for project scoping** — `discoverSessions()` in `session-picker.ts` and `getProjectSessionIds()` in `task-resolver.ts` both scan `~/.claude/projects/\u003cdir\u003e/` with different return types. Unify the underlying scan logic.\n\n### 4. Consistent Effect Patterns\n\n- Some helpers use raw `async/await` (`discoverSessions`, `loadTasks`, `findSessionFile`) while command-level code uses `Effect.gen`. Decide on the boundary: raw async for pure I/O helpers is fine, but document the convention.\n- Error handling mixes `try/catch` (in async helpers) with `Effect.fail` (in generators). This is acceptable but should be explicit/documented.\n\n### 5. Type Safety Cleanup\n\n- `task-picker.ts` has an `as any` cast for Clack's `select` options due to `exactOptionalPropertyTypes` strictness. Investigate if there's a cleaner workaround (Clack type augmentation or explicit option type).\n- `transcript/dump.ts` uses `as` casts for entry type narrowing (lines 37, 66-67, 71). Could use proper Schema refinements.\n\n### 6. Package Exports\n\n`package.json` exports only `./transcript-schema`. Consider adding:\n- `./task-schema` — for external consumers of task types\n- Or decide exports aren't needed and document that decision\n\n### 7. Formatter Setup\n\nNo formatter is configured. Add dprint or biome config consistent with the broader dotfiles repo. Check if the root repo already has a formatter config that should be extended.\n\n## Key Patterns to Preserve\n\n- Effect monad for all command-level composition and error handling\n- `@clack/prompts` for interactive TUI\n- Bun-native APIs (Glob, Bun.file, Bun.spawn)\n- `#!/usr/bin/env bun` shebang for direct TS execution\n- KNUTH LITERAL style (public API first, helpers last)\n\n## Out of Scope\n\n- Tests (separate issue — shan is a CLI tool where manual testing is primary)\n- New features","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T16:31:34.700669-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T16:31:34.700669-05:00"}
{"id":"dotfiles-56v","title":"Improve gh PR comment viewing skill","description":"Three problems with current PR comment viewing:\n\n## 1. Output formatting for humans vs context\n\nTool output bloats context with raw JSON when human just needs readable summary.\n\nDesired output format:\n```\n@suchipi \u003cDate\u003e #650\n| I'm a little bit concerned about ESM module execution order stuff\n| (as noted here), but otherwise all the swc stuff looks good.\n```\n\nActual: Multiple gh API calls dumping 80+ line JSON blobs with truncation.\n\nSolution: Skill should use jq to format output for human readability, not raw JSON.\n\n## 2. Team member handle resolution\n\nClaude doesn't know \"lily\" → @suchipi mapping. Should:\n- Check a local state file for known name→handle mappings\n- If unknown, ask user once, then persist for future sessions\n- State file location: maybe .claude/state/github-handles.json or similar\n\n## 3. Know where to look\n\nClaude tried multiple endpoints before finding the comment:\n- .comments (issue comments)\n- /pulls/{id}/comments (line comments)\n- /pulls/{id}/reviews (review comments) ← where it actually was\n\nSkill should know the PR comment taxonomy and check the right places first, or check all three in parallel.\n\n---\nMigrated from spark: 2026-01-22-gh-pr-comment-skill-improvements.yml\nOriginal context: Asking Claude to show latest PR comment from teammate — got verbose JSON dumps instead of formatted output\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:59.146116-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:59.146116-05:00"}
{"id":"dotfiles-5cr","title":"Linear skill: replace MCPs with user-level skill + Bun TS scripts","description":"Replace all Linear MCP integrations and fragmented project-level skills with a single user-level skill backed by Bun TS scripts calling Linear's GraphQL API directly.\n\n## Context\n\nAudit found 3 problems:\n1. Two Linear MCPs configured in HB (StreamLinear + official plugin) — competing, confusing\n2. Three HB-level skills for one service (managing-linear-issues, current-linear-issue, uploading-to-linear) — fragmented\n3. Project-specific data (team members, UUIDs) hardcoded in skill prose instead of config\n\nStreamLinear's entire value is ~550 lines wrapping `fetch` to one GraphQL endpoint. No need for an MCP process, npx cold-start, or external dependency. Bun TS scripts do the same thing with zero deps.\n\nOfficial Linear MCP is closed-source, no public repo, no visible roadmap. Dead end.\n\n## Scope\n\nSpans dotfiles repo + all HB checkouts/worktrees (one-time migration).\n\n## Deliverables\n\n### 1. Create user-level skill (`~/.claude/skills/linear/`)\n\n- `SKILL.md` — unified skill with progressive disclosure\n  - Workflows: mention syntax (URL not @username), search-before-create, upload-then-embed\n  - Issue context resolution (branch → context file → search → ask)\n  - Reads project-level config for workspace-specific data\n  - References scripts for operations\n- Scripts (`scripts/`):\n  - `_linear.ts` — shared core: GraphQL fetch wrapper, ID resolution, state matching, formatters (rip from StreamLinear's linear-core.ts)\n  - `linear-search.ts` — search issues\n  - `linear-get.ts` — get issue details\n  - `linear-create.ts` — create issue\n  - `linear-comment.ts` — post comment\n  - `linear-fetch.ts` — download issue + attachments (HTTP binary, not GraphQL)\n  - `linear-upload.ts` — upload file for embed URL (HTTP binary)\n  - `linear-attach.ts` — upload file as issue attachment (HTTP binary)\n  - Or: consolidate CRUD into one `linear.ts \u003caction\u003e` entry point, keep file ops separate\n\n### 2. Design credential resolution\n\nOptions to spec out:\n- `LINEAR_API_TOKEN` env var (current, works)\n- `.env` file loading in scripts\n- `--token-cmd` pattern for 1Password / secrets managers\n- Should the skill document all three? Which is default?\n\n### 3. Design project-level config\n\n- `.claude/linear.yaml` — workspace slug, teams (name → UUID), members (name, displayName, UUID, role)\n- Checked into git (shared team knowledge) vs gitignored vs checked-in + .local override\n- Skill reads this at invocation time\n\n### 4. Remove from HB (all checkouts/worktrees)\n\n- Delete `.mcp.json` `linear` entry (StreamLinear)\n- Remove official Linear plugin from marketplace config\n- Clean `settings.json` / `settings.local.json` / `settings.local.json.example` — remove `mcp__linear`, `mcp__linear__linear` permissions\n- Delete `managing-linear-issues/` skill\n- Delete `current-linear-issue/` skill\n- Delete `uploading-to-linear/` skill\n- Create `.claude/linear.yaml` with HB's team data\n- Update CLAUDE.md reference from `managing-linear-issues` skill to `linear` skill\n\n## Design Decisions to Make\n\n1. Script granularity: one `linear.ts \u003caction\u003e` entry point vs multiple scripts vs shared core + thin entry points\n2. Config format: YAML vs JSON vs TOML\n3. Config git policy: checked in vs gitignored vs split\n4. Credential resolution: env var only vs multi-source\n5. Progressive disclosure: what goes in SKILL.md vs what Claude discovers via `help` action in scripts\n\n## References\n\n- StreamLinear source: /tmp/streamlinear/ (cloned for review)\n- StreamLinear repo: https://github.com/obra/streamlinear\n- Linear GraphQL API: https://api.linear.app/graphql\n- HB skills being replaced: .claude/skills/managing-linear-issues/, current-linear-issue/, uploading-to-linear/\n- Research conversation: this session (464610cc-f14e-421e-b211-aeea38dbc7af)","notes":"## Design Decisions (session ce759bf7)\n\n### Resolved\n1. **Script granularity** → Graffle package (packages/linear/) + thin upload/download helpers. No individual CLI scripts — skills use Graffle client directly.\n2. **Config format** → YAML (.claude/linear.yaml)\n3. **Config git policy** → Checked in + .local override (.claude/linear.local.yaml gitignored)\n4. **Credential resolution** → Env var only (LINEAR_API_TOKEN), document 1Password/direnv alternatives in skill\n5. **Progressive disclosure** → Thin SKILL.md + reference/ files for detailed docs\n\n### Architecture\n- packages/linear/ — Graffle-generated GraphQL client + file upload/download helpers\n- 4 skills in linear_* namespace: core, managing-issues, current-issue, uploading\n- Skills = workflow knowledge; package = typed API access\n- Graffle CLI generates typed client from Linear GraphQL schema introspection","status":"closed","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T18:36:07.889764-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:08:05.964524-05:00","closed_at":"2026-01-28T01:08:05.964524-05:00","close_reason":"All 7 child beads completed: Graffle client, 4 linear_* skills, upload/download helpers, HB migration","dependencies":[{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:32:01.894572-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-ret","type":"blocks","created_at":"2026-01-28T00:32:01.973216-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:32:02.042937-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-h9m","type":"blocks","created_at":"2026-01-28T00:32:02.10921-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-ern","type":"blocks","created_at":"2026-01-28T00:32:02.183419-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-le0","type":"blocks","created_at":"2026-01-28T00:32:02.250878-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-fn1","type":"blocks","created_at":"2026-01-28T00:32:02.321405-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-5h1","title":"Resolve rule: Effect Ref vs effect-docs MCP guidance","description":"Decide where this draft rule belongs — bring into active rules, fold into a skill, or delete.\n\n## Draft Content\n\n### Ref vs effect-docs MCP\n\n| Aspect               | Ref                       | effect-docs                 |\n| -------------------- | ------------------------- | --------------------------- |\n| __Search precision__ | Focused, few results      | Noisy, includes API refs    |\n| __Read targeting__   | Section-level via anchors | Whole page, paginated       |\n| __Token efficiency__ | ~2k for exact section     | Full page from beginning    |\n| __API coverage__     | Prose docs                | Prose + individual API refs |\n\n__Use Ref as primary__ — it's universal and token efficient. Fall back to effect-docs only when you need specific Effect API signatures (e.g., exact type params for `Schema.decodeUnknown`).","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:35:46.203567-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:35:46.203567-05:00"}
{"id":"dotfiles-6lb","title":"Create gh_actions skill with GitHub Actions conventions","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:41:49.536106-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:44:09.642626-05:00","closed_at":"2026-01-28T13:44:09.642626-05:00","close_reason":"Created gh_actions skill at claude/skills/gh_actions/SKILL.md with naming conventions, log group rules, and job summary guidelines. Tested with subagent baseline comparison."}
{"id":"dotfiles-6vu","title":"Package manager skill: lock conflicts and monorepo patterns","description":"Create a skill that teaches effective package manager usage.\n\n## Lock file conflict resolution\nUse built-in CLI features (not git checkout tricks):\n- npm: npm install --package-lock-only\n- pnpm: pnpm install --lockfile-only\n- yarn: yarn install --mode update-lockfile\n\nClaude bombed this by trying git checkout --theirs package-lock.json \u0026\u0026 npm install.\n\n## Monorepo: overrides vs root deps\n\nOverrides are better than moving runtime deps to workspace root because packages must be self-contained.\n\n| Approach     | How it works                                      | Self-contained? |\n|--------------|---------------------------------------------------|-----------------|\n| Root runtime | Put react at root, packages inherit via hoisting  | No              |\n| Overrides    | Each package declares deps, override forces version| Yes             |\n\nWhy self-containment matters:\n- Packages can be extracted to own repo\n- Clear dependency graphs\n- Works with pnpm deploy / publishing\n- Easier auditing\n\nWhen to use each:\n| Use case                       | Solution                                           |\n|--------------------------------|----------------------------------------------------|\n| Runtime deps (react, lodash)   | Declare in each package, override for consistency  |\n| Type defs (@types/*)           | Root devDeps (dev-only, hoisting fine)             |\n| Tooling (typescript, prettier) | Root devDeps (shared workspace tooling)            |\n\nOverrides specifically force transitive/peer deps to align — e.g. @types/react peer deps pulled in at different versions.\n\n---\nMigrated from spark: 2026-01-22-package-manager-lock-conflict-skill.yml\nOriginal context: Reviewing Claude transcripts showing poor package manager decisions\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"open","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:15.078259-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:15.078259-05:00"}
{"id":"dotfiles-7ej","title":"Convert capture-case-study command to skill","description":"Convert claude/commands/capture-case-study.md to a proper skill in claude/skills/. Captures case study examples from conversations.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.601361-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.601361-05:00"}
{"id":"dotfiles-7nv","title":"Consolidate git_* user skills into 1-2 router skills","description":"Merge 5 git_* skills (sync, worktree, commit, mode-control, parallel-commit) into 1-2 routers.\n\ngit_sync has heavy progressive disclosure (14 files: scripts/, schemas/, templates/, reference/). It becomes the primary topic. Simpler skills (commit, mode-control, parallel-commit) become reference files.\n\nConsider: git_sync may be complex enough to remain standalone. If so, merge only commit + mode-control + parallel-commit into git_commit.\n\nRegistry savings: ~3-4 entries (~140-180 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/` or root scripts/templates/schemas/\n\n### Plan: 5 git_* skills → 1-2 router skills\n\n**Decision point:** `git_sync` is heavy (14 files: 5 scripts, 2 schemas, 5 templates, 1 reference, 1 SKILL.md). It may warrant remaining standalone. Evaluate during execution:\n- If git_sync SKILL.md + the other 4 skills' content fits under 500 lines → 1 router\n- If not → keep git_sync standalone, merge the other 4 into `git_commit`\n\n#### Option A: Single router `git/` (name: `git`)\n\n**Source skills:**\n- `git_sync` — **HEAVY PROGRESSIVE DISCLOSURE** (scripts/: gather.sh, gather-static.sh, gather-worktrees.sh, gather-branches.sh, gather-tags.sh; schemas/: plan.schema.json, repository-state.schema.json; templates/: plan-preview.tpl.md, rescue-warning.tpl.md, results.tpl.md, tag-conflict.tpl.md, trunk-dirty.tpl.md; reference/: flow.d2)\n- `git_worktree` — check for sub-files\n- `git_commit` — check for sub-files\n- `git_mode-control` — check for sub-files\n- `git_parallel-commit` — check for sub-files\n\n**Target structure (Option A):**\n```\ngit/\n├── SKILL.md\n├── reference/\n│   ├── sync/\n│   │   ├── overview.md\n│   │   └── flow.d2\n│   ├── worktree/\n│   │   └── overview.md (+ any sub-files)\n│   ├── commit/\n│   │   └── overview.md (+ any sub-files)\n│   ├── mode-control/\n│   │   └── overview.md\n│   └── parallel-commit/\n│       └── overview.md\n├── scripts/\n│   ├── sync-gather.sh\n│   ├── sync-gather-static.sh\n│   ├── sync-gather-worktrees.sh\n│   ├── sync-gather-branches.sh\n│   └── sync-gather-tags.sh\n├── schemas/\n│   ├── sync-plan.schema.json\n│   └── sync-repository-state.schema.json\n└── templates/\n    ├── sync-plan-preview.tpl.md\n    ├── sync-rescue-warning.tpl.md\n    ├── sync-results.tpl.md\n    ├── sync-tag-conflict.tpl.md\n    └── sync-trunk-dirty.tpl.md\n```\n\n**SKILL.md description:** `Use when performing git operations — syncing with remote, managing worktrees, committing changes, controlling commit mode, or running parallel commits. Covers sync workflows, worktree lifecycle, and commit conventions.`\n\n#### Option B: Keep git_sync standalone, merge others into `git_commit/`\n\nOnly merge: `git_commit`, `git_mode-control`, `git_parallel-commit`, optionally `git_worktree`.\nKeep `git_sync` as-is.\n\n### Execution Steps\n\n1. Read all 5 source skill directories to assess total size\n2. Decide Option A vs B based on SKILL.md line count feasibility\n3. Create router(s) and migrate per merger rules\n4. Scripts/schemas/templates from git_sync go to root level with `sync-` prefix\n5. Delete old directories\n6. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `git/` (Option A) or keep `git_sync/` + create `git_commit/` (Option B)\n- Frontmatter name: `git` or `git:commit`\n- Topic subdirs: kebab-case matching former skill name without `git_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:16.66238-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.851001-05:00","closed_at":"2026-01-28T15:07:10.851001-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-7qk","title":"Fix git mode-control state persistence bug","description":"When user selects 'commit (enter mode)' in git mode-control, the mode is not persisted. Next commit attempt re-prompts. Root cause: skill instructions in step 3 say 'write to file' but are not explicit enough for Claude to actually mkdir + Write the .clauding/git_mode-control/git-mode.yaml file. The .clauding/ directory doesn't even exist.","status":"closed","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:22:20.594963-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T14:22:57.446394-05:00","closed_at":"2026-01-28T14:22:57.446394-05:00","close_reason":"Made skill step 3 explicit: mkdir + Write tool with concrete path .clauding/git_mode-control/git-mode.yaml. Also added .clauding/ to .gitignore (was missing)."}
{"id":"dotfiles-7st","title":"Add stdin support to linear_gql query.ts for shell escaping","description":"## Context\n\nGraphQL queries with `String\\!` (non-null types) get mangled by bash due to history expansion on `\\!`.\n\nCurrent workaround requires awkward escaping with double quotes and escaped dollar signs.\n\n## Design\n\nAdd `--stdin` flag to read query from stdin, sidestepping shell interpretation:\n\n```bash\necho 'mutation($id: String\\!) { issueDelete(id: $id) { success } }' | bun query.ts --stdin -v '{\"id\": \"...\"}'\n```\n\nOr with heredoc for multiline queries.\n\n## Tasks\n\n1. Add `--stdin` flag to `query.ts`\n2. When `--stdin` is set, read query from stdin instead of positional arg\n3. Update help text with stdin examples\n4. Update `linear_gql/SKILL.md` to document stdin usage for mutations","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:34:24.782271-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:42:46.545528-05:00","closed_at":"2026-01-28T11:42:46.545528-05:00","close_reason":"Closed"}
{"id":"dotfiles-8ux","title":"Review native OSC 8 hyperlink config for installed tools","description":"Audit current system tools and dotfiles for native OSC 8 hyperlink support opportunities. Known examples: ripgrep has --hyperlink-format=file (configurable via ~/.ripgreprc), eza/ls have hyperlink flags. Check what tools are installed and enable OSC 8 output where available.","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:42.073525-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:23:42.073525-05:00"}
{"id":"dotfiles-a0j","title":"Add sound effects to Claude Code workflows","description":"Investigate adding audio feedback to Claude Code workflows using\nhttps://github.com/shanraisshan/claude-code-voice-hooks\n\nPotential use cases:\n- Sound on hook events (tool start/complete)\n- Different sounds for success vs error\n- Audio cues for long-running operations completing\n- Ambient awareness without watching terminal\n\n---\nMigrated from spark: 2026-01-22-cc-sound-effects.yml\nOriginal context: Researching hook-based alternatives to skill-driven git-mode-control for better session latency\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/2aaf1839-dc74-4c0c-a0ae-46ba51d7aefa.jsonl","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:42.008058-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:42.008058-05:00"}
{"id":"dotfiles-asx","title":"Convert ghostty command to skill","description":"Convert claude/commands/ghostty.md to a proper skill in claude/skills/. Opens current session in new Ghostty window.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.778323-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.778323-05:00"}
{"id":"dotfiles-bls","title":"Create skill: ghostty config management","description":"Create a skill for managing Ghostty terminal configuration. Operations: (1) show — read current config from dotfiles source and display with commentary, (2) update — add/modify settings with proper section organization and comments, (3) diff — compare active config (symlinked) vs dotfiles source to detect drift, (4) validate — check symlink health, verify config is being read by Ghostty. The skill should know Ghostty config format (key = value, # comments, section grouping convention used in this repo). Source of truth: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/ghostty/config. Symlink target: ~/.config/ghostty/config.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:47:23.508377-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:47:23.508377-05:00"}
{"id":"dotfiles-c02","title":"Add linear_workspace-pull skill for cached workspace settings","description":"## Context\n\nLinear skills currently guess or fail on workspace-specific data (state names, user lookups). Skills must NEVER invent this data - they must operate from a downloaded, cached copy of workspace settings.\n\n## Design\n\n### Cache location\n\nPer `cc_skills-tmp-dir` convention:\n```\n.claude/tmp/linear/workspace.yaml   # READ-ONLY, pulled from Linear API\n```\n\n### Cache contents\n\n```yaml\nworkspace: heartbeat-chat\nteams:\n  - id: uuid\n    key: HEA\n    name: Engineering\n    states:\n      - id: uuid\n        name: \"In Dev\"\n        type: started\n        position: 1\n      # ...\n    labels:\n      - id: uuid\n        name: bug\n      # ...\nusers:\n  - id: uuid\n    name: \"Jason Kuhrt\"\n    displayName: jason\n    email: jason@example.com\n  # ...\npulledAt: 2026-01-28T12:00:00Z\n```\n\n### New skill: `linear_workspace-pull`\n\n- Single entry point for initialization AND refresh\n- Downloads teams, states, users, labels from Linear API\n- Writes to `.claude/tmp/linear/workspace.yaml`\n- Idempotent - safe to run multiple times\n\n### Skill dependency flow\n\n1. Any linear skill needs workspace data\n2. Check for `.claude/tmp/linear/workspace.yaml`\n3. If missing → invoke `linear_workspace-pull` → wait → continue\n4. Use cached data for validation/mapping\n\n### Human name → mention mapping\n\nWhen writing content (descriptions, comments) with human names:\n1. Look up name in cached `users` list\n2. **Match found** → convert to `https://linear.app/{workspace}/profiles/{displayName}`\n3. **No match** → keep as plaintext + notify user:\n   ```\n   ⚠️ Could not match \"Bob Smith\" to a Linear workspace member. Left as plaintext.\n   ```\n\n## Tasks\n\n1. Create `linear_workspace-pull` skill with `scripts/pull.ts`\n2. Update `linear_core` SKILL.md to document cache location and dependency\n3. Update `linear_managing-issues` scripts to check for cache before operations\n4. Update `linear_managing-issues/scripts/update.ts` to validate state against cache\n5. Update `linear_managing-issues/scripts/comment.ts` to map human names to mentions\n6. Update `linear_managing-issues/scripts/create.ts` to map human names to mentions","status":"closed","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:34:17.421356-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:42:46.567738-05:00","closed_at":"2026-01-28T11:42:46.567738-05:00","close_reason":"Closed"}
{"id":"dotfiles-c0c","title":"Hello world","status":"tombstone","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T12:01:47.501363-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T12:02:20.490547-05:00","deleted_at":"2026-01-27T12:02:20.490547-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-c8z","title":"Document namespace convention in cc-writing-skills","description":"Add a new section to cc-writing-skills/SKILL.md documenting the colon-namespace convention for skill names:\n\n- Directory name: use underscores as namespace delimiters (e.g. cc_internals, gh_pr-checks)\n- Frontmatter name: use colons instead of underscores (e.g. cc:internals, gh:pr-checks)\n- Hyphens remain as word separators within segments\n- Use this technique when there are multiple related skills that shouldn't all be crammed into one giant multi-operation skill\n- Update the 'Naming' line in File Structure section to reflect this\n- Update Facts section about how dir name maps to Skill() log output","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:25:56.146008-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:33:16.815382-05:00","closed_at":"2026-01-27T22:33:16.815382-05:00","close_reason":"Added Namespacing section to cc-writing-skills/SKILL.md documenting underscore/colon convention, updated Naming line and Facts section"}
{"id":"dotfiles-do0","title":"Fix research-write skill: too easily confused with issue/spec creation","description":"## Bug\n\nClaude used research-write skill when asked to create a bead spec. The user said \"flushed out spec of things to do in a new dotfiles bead\" and Claude reached for research-write instead of beads.\n\n## Root Cause\n\nThe research-* skills (research-write, research-format, research-prune, research-flush-cc-thread) don't clearly delineate their boundary. \"Write a spec\" pattern-matches to \"research-write\" because it involves writing a document. But research files are for storing findings, not driving work.\n\n## Symptoms\n\n- Claude created a research file (.claude/research/2026-01-27-2333-linear-skill-migration-spec.md) when it should have created a bead\n- The research-write skill's description doesn't explicitly say what it's NOT for\n- No guardrail distinguishing \"store findings\" from \"track work\"\n\n## Fix\n\nAudit and update research-* skill descriptions to include explicit negative triggers:\n- research-write: NOT for specs, issues, tasks, beads, or work tracking. Only for storing research findings.\n- Consider adding a \"## NOT For\" or anti-trigger section to research-write SKILL.md\n- Review other research skills for similar ambiguity\n\n## References\n\n- Session where this happened: 464610cc-f14e-421e-b211-aeea38dbc7af\n- Parent issue: dotfiles-5cr (the spec that should have been a bead)","status":"open","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T18:36:21.51094-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T18:36:21.51094-05:00"}
{"id":"dotfiles-dqa","title":"Create linear_core skill (config, auth, mention rules)","description":"Create claude/skills/linear_core/ with SKILL.md + reference/ files. SKILL.md covers: config resolution (.claude/linear.yaml + .claude/linear.local.yaml merge), credential handling (LINEAR_API_TOKEN env var + docs for 1Password/direnv alternatives), mention syntax (https://linear.app/{workspace}/profiles/{displayName} NOT @username), team data lookup patterns. reference/ holds: config schema docs, GraphQL query patterns for teams/users/states. This is the foundational skill all other linear_* skills reference. Uses packages/linear Graffle client.","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:18.064541-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:00:11.864777-05:00","closed_at":"2026-01-28T01:00:11.864777-05:00","close_reason":"linear_core skill created with SKILL.md + reference/ files covering config, auth, mentions, and team data","dependencies":[{"issue_id":"dotfiles-dqa","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:31:27.152607-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ds9","title":"Try CC 2.1.18 custom keybindings – can vim mode be customized?","description":"## Context\n\nCC 2.1.18 introduced custom keybindings: https://code.claude.com/docs/en/keybindings\nRun `/keybindings` to get started. Supports per-context config and chord sequences.\n\n## Question to Answer\n\nCan vim mode keybindings be customized, or only the component-level keybindings?\n\nThe docs are vague. They say vim mode and keybindings \"operate independently\":\n\n\u003e - Vim mode handles input at the text input level (cursor movement, modes, motions)\n\u003e - Keybindings handle actions at the component level (toggle todos, submit, etc.)\n\u003e - The Escape key in vim mode switches INSERT to NORMAL mode; it does not trigger chat:cancel\n\u003e - Most Ctrl+key shortcuts pass through vim mode to the keybinding system\n\u003e - In vim NORMAL mode, ? shows the help menu (vim behavior)\n\nThis suggests you can only customize component-level actions (chat:cancel, todo:toggle, etc.) but NOT the vim motions/modes themselves. But it's unclear — need to try it hands-on.\n\n## Tasks\n\n- [ ] Read the full keybindings docs page\n- [ ] Check if there's a keybindings config file or JSON schema\n- [ ] Try remapping a vim-level key (e.g. Escape, j/k) and see if it works\n- [ ] Try remapping a component-level key while vim mode is on\n- [ ] Document findings","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:14:04.620456-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:15:17.993032-05:00"}
{"id":"dotfiles-dxk","title":"Add pre-clear commit check hook","description":"Often clearing means work was done. If the user forgets to commit before clearing, post-clear they lose context — recovering requires finding the previous session ID or redoing context build just to make a good commit. Solution: a hook (likely PreToolUse or similar) that runs before /clear, checks git status for uncommitted changes, and warns/prompts the user to commit first.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:09:41.43657-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:09:41.43657-05:00"}
{"id":"dotfiles-e3x","title":"Track Ghostty custom link regex feature","description":"Ghostty's 'link' config option (custom regex patterns for clickable text) is documented but marked 'TODO: This can't currently be set\\!' as of Ghostty 1.2.3. Track this for when it ships — would enable terminal-side file path detection without needing OSC 8 tags from each program. Refs: https://ghostty.org/docs/config/reference, https://github.com/ghostty-org/ghostty/issues/1972, https://github.com/ghostty-org/ghostty/discussions/4379","status":"open","priority":4,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:43.523271-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:23:43.523271-05:00"}
{"id":"dotfiles-ern","title":"Create linear_current-issue skill (issue context resolution)","description":"Create claude/skills/linear_current-issue/ with SKILL.md. Resolution order: (1) check branch name for issue identifier pattern, (2) load .claude/issue.md context file if exists, (3) query Linear for user's assigned incomplete issues, (4) ask user as last resort. Port from HB's current-linear-issue skill. References linear_core for config/auth and packages/linear Graffle client for queries.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:19.63849-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:03:20.330285-05:00","closed_at":"2026-01-28T01:03:20.330285-05:00","close_reason":"linear_current-issue skill created with branch→context file→query→ask resolution chain","dependencies":[{"issue_id":"dotfiles-ern","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.300217-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-es4","title":"Convert qaloop command to skill","description":"Convert claude/commands/qaloop.md to a proper skill in claude/skills/. Runs structured Q\u0026A loop within current or selected role.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.860517-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.860517-05:00"}
{"id":"dotfiles-ewt","title":"Review imported skills/commands authoring content for cc_authoring skill","description":"Imported content covering Skills Authoring and Commands Authoring conventions needs triage before merging into the cc_authoring skill.\n\n## What needs review\n\nTwo sections of imported content:\n\n1. **Commands Authoring** - frontmatter rules, body conventions, heading purposes (Steps/Reference/Notes), file location/naming\n2. **Skills Authoring** - directory conventions, heading purposes table (CRITICAL/Use Cases/Requirements/Credentials/Steps/Operations/Examples/Reference/Notes/Appendix)\n\n## What to check\n\n- Deduplicate against the existing `writing-skills` superpowers skill (superpowers:writing-skills) which is a style guide for skill authoring\n- Determine what's net-new vs redundant\n- Decide what belongs in cc_authoring vs writing-skills vs both\n- The commands authoring section references `plugin-dev:command-development` and skills section references `plugin-dev:skill-development` — verify these are the right cross-references\n\n## Imported content\n\nSee the user message in session 4e09a377-ee15-4c40-afb1-150c12b776c4 for the full imported text.","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:15:52.858809-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:15:52.858809-05:00"}
{"id":"dotfiles-f7x","title":"Convert role-tech-lead command to skill","description":"Convert claude/commands/role-tech-lead.md to a proper skill in claude/skills/. Tech Lead role for implementation planning and delivery.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.026595-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.026595-05:00"}
{"id":"dotfiles-fjg","title":"Convert start command to skill","description":"Convert claude/commands/start.md to a proper skill in claude/skills/. Initializes Claude session with project awareness.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.10521-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.10521-05:00"}
{"id":"dotfiles-fn1","title":"Migrate HB: remove Linear MCP + old skills, add config, update refs","description":"In HB repo (heartbeat-chat/Heartbeat): (1) Delete .mcp.json 'linear' entry (StreamLinear). (2) Remove official Linear plugin from marketplace config if present. (3) Clean settings.json / settings.local.json / settings.local.json.example — remove mcp__linear permissions. (4) Delete skills: managing-linear-issues/, current-linear-issue/, uploading-to-linear/. (5) Create .claude/linear.yaml with HB team data (11 members with UUIDs, workspace slug 'heartbeat-chat', team IDs). (6) Create .claude/linear.local.yaml.example showing override pattern. (7) Update CLAUDE.md references from old skill names to new linear_* namespace. (8) Add .claude/linear.local.yaml to .gitignore.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:21.651367-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:07:34.988145-05:00","closed_at":"2026-01-28T01:07:34.988145-05:00","close_reason":"HB migrated: removed StreamLinear MCP, deleted 3 old skills, created linear.yaml, updated CLAUDE.md references","dependencies":[{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-h9m","type":"blocks","created_at":"2026-01-28T00:31:27.505229-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-ern","type":"blocks","created_at":"2026-01-28T00:31:27.573309-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-le0","type":"blocks","created_at":"2026-01-28T00:31:27.639721-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-fth","title":"Create skill: agent-mistake-analysis (human-invokable)","description":"Create a human-only invokable skill that formalizes the loop for analyzing agent mistakes/waste. When a user observes suboptimal agent behavior (wrong tool choice, token waste, unnecessary steps), this skill walks through: (1) What happened — detailed step-by-step of the agent's actions with timestamps/tool calls, (2) Why it happened — internal reasoning that led to the choice, (3) What should have happened — the optimal path, (4) Root cause — was it a missing rule, skill gap, ambiguous instruction, or wrong heuristic, (5) Fix — concrete rule/skill/config change to prevent recurrence. Frontmatter must include: invocable-by: human (not machine). The skill should produce actionable output: either a new rule, a skill update, or a config change.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:47:22.706666-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:47:22.706666-05:00"}
{"id":"dotfiles-h8v","title":"Implement shan task subcommand (dump + open)","description":"## Summary\n\nImplement `shan task dump` and `shan task open` subcommands in `packages/shan/`. Design finalized in dotfiles-ws1 (closed — read its conclusion for the full aligned spec).\n\n## Depends On\n\n- **dotfiles-ws1** (closed) — design spec. Read its close reason for the complete aligned design.\n\n## What to Build\n\n### 1. `src/lib/task-schema.ts` — Effect Schema for CC task JSON\n\nDrafted schema (copy to `packages/shan/src/lib/task-schema.ts`):\n\n```typescript\nimport { Schema } from \"effect\"\n\nexport const TaskStatus = Schema.Literal(\n  \"pending\",\n  \"in_progress\",\n  \"completed\",\n  \"deleted\",\n)\nexport type TaskStatus = typeof TaskStatus.Type\n\nexport const TaskMetadata = Schema.Record({\n  key: Schema.String,\n  value: Schema.Unknown,\n})\nexport type TaskMetadata = typeof TaskMetadata.Type\n\nexport const Task = Schema.Struct({\n  id: Schema.String,\n  subject: Schema.String,\n  description: Schema.String,\n  activeForm: Schema.String,\n  status: TaskStatus,\n  blocks: Schema.Array(Schema.String),\n  blockedBy: Schema.Array(Schema.String),\n  owner: Schema.optional(Schema.String),\n  metadata: Schema.optional(TaskMetadata),\n})\nexport type Task = typeof Task.Type\n```\n\n### 2. `src/lib/task-resolver.ts` — Target resolution\n\nParse `\u003clist\u003e@\u003ctask\u003e` syntax. Resolution order:\n1. Exact match on named list dir in `~/.claude/tasks/`\n2. UUID prefix match on task list dirs\n3. Substring match on task subjects across in-scope lists\n4. Fallback: current session (via `/tmp/claude-session-id-{cwdHash}`)\n\nFlags: `--global`/`-g` shows all lists. Default: project-scoped (UUID lists matching current project's session transcripts + all named lists).\n\n### 3. `src/lib/task-picker.ts` — Flat grouped Clack picker\n\nShow all tasks across in-scope lists, grouped by list name:\n```\n◆ Select a task or list:\n│ ▸ [e2e-testing]                    ← selectable (dir-level)\n│   ● #1  Run smoke tests\n│   ◌ #2  Add CI integration\n│ ▸ [dotfiles]                       ← selectable (dir-level)\n│   ● #2  Configure Playwright\n│   ◌ #3  Generate specs             (blocked: #2)\n```\n\nStatus icons: `●` in_progress, `◌` pending, `✓` completed.\nNamed lists: never truncated.\nSort: in_progress → pending → completed (most recent first).\nFreshness: show open + completed within 24h (via file mtime). v1 fallback: all states if tricky.\n\n### 4. `src/bin/task/dump.ts`\n\n| Target | Behavior |\n|--------|----------|\n| Dir (list) | Copy all `.json` files → `.claude/tasks/\u003clist\u003e/` in project |\n| File (task) | Copy single `.json` → `.claude/tasks/\u003clist\u003e/\u003cn\u003e.json` in project |\n| `--md` | Convert each task JSON to formatted markdown instead of raw JSON |\n\n### 5. `src/bin/task/open.ts`\n\n| Target | Behavior |\n|--------|----------|\n| Dir (list) | `zed ~/.claude/tasks/\u003clist\u003e/` |\n| File (task) | `zed ~/.claude/tasks/\u003clist\u003e/\u003cn\u003e.json` |\n\nUses `$EDITOR` with Zed as primary target.\n\n### 6. Wire into `src/bin/shan.ts`\n\nAdd `task` namespace alongside existing `transcript` namespace.\n\n### 7. Companion skill: `claude/skills/shan-tasks/SKILL.md`\n\nDocuments `shan task dump` / `shan task open` so Claude can suggest them for zero-cost task inspection outside CC. No slash command.\n\n## Key Patterns (from existing shan code)\n\n- Entry point: `#!/usr/bin/env bun`, namespace → command → positional args\n- Effect monad for composition and error handling\n- `@clack/prompts` for interactive TUI\n- Session resolver at `src/lib/session-resolver.ts` — reuse project-scoping logic\n- Arg parsing: simple flag extraction + positional collection (see shan.ts)","status":"in_progress","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T15:33:57.064151-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T16:02:21.038709-05:00","dependencies":[{"issue_id":"dotfiles-h8v","depends_on_id":"dotfiles-ws1","type":"blocks","created_at":"2026-01-27T15:34:00.793982-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-h9m","title":"Create linear_managing-issues skill (search, create, update, comment)","description":"Create claude/skills/linear_managing-issues/ with SKILL.md + reference/. Workflows: search issues (with canceled exclusion), create issues (search-before-create guard), update issue state/assignee/priority, comment on issues (with mention syntax from linear_core). Each workflow references the Graffle client from packages/linear for GraphQL operations. Port logic from HB's managing-linear-issues skill but as user-level skill. reference/ holds detailed GraphQL query examples for each operation.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:18.963191-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:04:04.945505-05:00","closed_at":"2026-01-28T01:04:04.945505-05:00","close_reason":"linear_managing-issues skill created with search, create, update, and comment workflows","dependencies":[{"issue_id":"dotfiles-h9m","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.231575-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-i83","title":"Build meta-skill: D2-driven skill authoring","description":"## Problem\n\nDesigning and maintaining complex skills (like git-sync) is manual layout work. You decide what's inline, what's in references, how to structure progressive disclosure, which format to use. These are repeatable decisions that should be derivable from a flow spec.\n\n## Core Insight\n\nProcedural logic is fundamentally a directed graph. Lists are linearizations. D2 expresses the graph directly — making it the natural **design format** for flow-based skills.\n\nLLMs execute best from sequential prose with conditionals — making linearized formats (speclist, markdown) the natural **execution format**.\n\nThese are different jobs. A meta-skill bridges them: reads D2 design intent, produces whatever skill layout CC will execute most reliably from.\n\n## What the Meta-Skill Does\n\n**Input:** A `.d2` file specifying flow intent (nodes, edges, containers, markdown block strings with tables/code/notes)\n\n**Output:** An optimal skill layout — file structure, format choices, progressive disclosure — that CC will execute reliably from.\n\n### Operations\n\n1. **Greenfield** — Generate a new skill from a D2 spec\n2. **Brownfield** — Update an existing skill after D2 spec changes (targeted edits, not full regeneration)\n3. **Validation** — Check that a skill's implementation aligns with its D2 spec, report drift\n\n## D2 as Spec Format\n\nD2 block strings make it expressive enough for skill specs:\n- `|md ... |` — markdown (headers, lists, bold)\n- `||md ... ||` — markdown with tables (double-pipe escapes inner pipes)\n- `|sh ... |` — shell commands with syntax highlighting\n- `|`md ... `|` — alternative delimiter for complex content\n- Container names = operation/procedure names\n- Diamond shapes = decision points\n- Edge labels = conditions\n- Terminal nodes = HALT / END exit points\n- Comments (#) = context not in the flow\n\nD2 source text (not rendered ASCII/SVG) is what agents read. ASCII rendering drops all rich content to empty boxes.\n\n## What We Don't Know Yet\n\nLayout decisions (progressive disclosure, file splitting, format selection, inline vs extracted content) need to be driven by **semantic meaning** — not by graph shape metrics like node count or nesting depth. The right heuristics are unknown and must be discovered empirically.\n\n**The writing-skills TDD principle applies:** Do this workflow manually 2-3 times before encoding as a skill. Each manual iteration should surface what layout decisions were made and WHY — building the heuristic vocabulary.\n\n### Suggested manual iterations\n1. Take git-sync's existing `reference/flow.d2` and try generating SKILL.md from it — note every decision and gap\n2. Design a NEW skill in D2 first, then produce the skill layout — note what D2 couldn't express and what layout choices felt obvious vs. ambiguous\n3. Edit the D2 for an existing skill and try brownfield sync — note where targeted edits worked and where full regeneration was needed\n\n## Dependencies\n\n- D2 skill (syntax, rendering, docs access via `gh api` against `terrastruct/d2-docs`)\n- speclist skill (flow format syntax — used when warranted, not always)\n- writing-skills (token budgets, CSO, anti-patterns, quality criteria)\n- writing-compact (formatting rules when compressing)\n\n## Prior Art\n\n- git-sync: complex flow-based skill (8 Plan steps, 6 Execute steps, 5 Procedures) — analyzed as test case\n- git-sync now has `reference/flow.d2` as a companion visual reference — candidate for first manual iteration\n- d2lang.com blocks automated fetches (403); use `gh api repos/terrastruct/d2-docs/contents/docs/tour/\u003cpage\u003e.md --jq '.content' | base64 -d` for docs","notes":"## Goal\n\nA validated design for the meta-skill, produced through manual iterations. **Done** means:\n\n1. 2-3 manual iterations completed (D2 → skill layout, each documenting decisions made and why)\n2. Heuristics for layout decisions discovered and documented (what drives format selection, progressive disclosure, file splitting — based on semantic meaning, not graph shape)\n3. A design doc describing the meta-skill's operations, inputs, outputs, and decision heuristics — ready to be encoded as a SKILL.md in a follow-up bead\n\n**Not in scope:** Building the actual skill. That's a follow-up after the design is validated.\n\n## Completed\n\nAll 3 iterations completed. Design doc written to `claude/skills/d2-skill-authoring/d2-skill-authoring.md`.\n\nIteration evidence in `claude/skills/d2-skill-authoring/reference/`:\n- `iteration-1-greenfield-git-sync.md` — Generated SKILL.md from git-sync's flow.d2\n- `iteration-2-d2-first-pr-ship.md` — Designed new pr-ship skill D2-first\n- `iteration-3-brownfield-sync.md` — Targeted edits after D2 modification\n\n### Key Discoveries\n1. D2 captures ~50% of skill info; enrichment gaps are predictable by node type\n2. Layout decisions are mostly mechanical (D2 structure → SKILL.md format)\n3. The hard part is enrichment, not layout\n4. Brownfield sync works for structural edits; topological edits need full regeneration\n5. Semantic signals (not graph shape metrics) should drive support file decisions","status":"closed","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T10:25:05.704533-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T12:45:24.142149-05:00","closed_at":"2026-01-27T12:45:24.142149-05:00","close_reason":"All 3 manual iterations completed. Design doc with heuristics written to claude/skills/d2-skill-authoring/d2-skill-authoring.md. Ready for follow-up bead to encode as SKILL.md."}
{"id":"dotfiles-ifu","title":"Add teacher/doctor naming convention to skills rules","description":"Add naming convention to .claude/rules/skills.md:\n\n**teacher**: Educational, documentation, explaining concepts, reference material\n**doctor**: Setup, config checking, onboarding, linting, debugging, diagnostics\n\nThen rename 4 high-confidence skills:\n- cc:internals → cc:teacher-internals\n- audit → dotfiles:doctor  \n- cc:chrome-debugging → cc:doctor-chrome\n- reviewing-skills → skills:doctor","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:39:09.123599-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:39:15.760326-05:00"}
{"id":"dotfiles-imp","title":"CC skill to spawn new sessions in split view or fullscreen space","description":"Create a CC skill to spawn new CC sessions intelligently — either in a new fullscreen space or split on the current space.\n\n## Research Findings\n\n### macOS Limitations\n- No native terminal API for Split View (Apple private API)\n- Spaces can be controlled via yabai but not native Split View\n- Split View = special fullscreen space with two apps side-by-side (green button)\n\n### Solution: Hammerspoon + SplitView Spoon\n- GitHub: https://github.com/jdtsmith/SplitView\n- Works by simulating UI gestures (long green-button click → tile menu → second window click)\n- Requirements: Hammerspoon v0.9.79+, spaces module (asmagill), macOS 14.1+\n- Supports CLI invocation (not just hotkeys)\n- Caveat: timing-dependent, can be flaky\n\n### Current Working Command (fullscreen)\n```bash\nopen --new --background -a Ghostty.app --args --fullscreen=true -e bash -c 'echo \"hello world\"; exec fish'\n```\n- --fullscreen=true already creates a new fullscreen space (Ghostty handles this)\n\n## Proposed Skill Design\n\n```\n/spawn [--split | --fullscreen] [--prompt \"task description\"]\n```\n\n### Fullscreen mode (easy, no deps)\n```bash\nopen --new --background -a Ghostty.app --args --fullscreen=true -e bash -c 'claude --resume ... ; exec fish'\n```\n\n### Split mode (requires Hammerspoon)\n1. Launch Ghostty normally (not fullscreen)\n2. Call Hammerspoon CLI to trigger SplitView with current window + new Ghostty\n\n## Open Questions\n1. Hammerspoon as dependency — acceptable?\n2. Split with current Ghostty window or some other app?\n3. Context passing to new CC: resume ID? prompt/task? project path?\n4. Focus behavior: --split should focus new? --fullscreen shouldn't?\n\n## Dependencies to Install\n- brew install hammerspoon\n- Hammerspoon spaces module\n- SplitView spoon\n\n---\nMigrated from spark: 2026-01-15-cc-spawn-skill.yml\nOriginal context: Exploring terminal-based control of macOS Spaces and Split View for launching new Claude Code instances\nSession: ~/.claude/projects/-Users-jasonkuhrt/fc29f3bb-bf77-4525-823c-7d271934f5dc.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:31.837266-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:31.837266-05:00"}
{"id":"dotfiles-jih","title":"Convert role-pm-architect command to skill","description":"Convert claude/commands/role-pm-architect.md to a proper skill in claude/skills/. PM + Architect role for feature definition and design.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.933359-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.933359-05:00"}
{"id":"dotfiles-kos","title":"Convert writing-compact command to skill","description":"Convert claude/commands/writing-compact.md to a proper skill in claude/skills/. Reformats documentation to compact nested list style (dyslexia-friendly).","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.186146-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.186146-05:00"}
{"id":"dotfiles-le0","title":"Create linear_uploading skill (upload, attach, download files)","description":"Create claude/skills/linear_uploading/ with SKILL.md + reference/. Three workflows: (1) Upload for embed — upload file, get assetUrl, use \\![](assetUrl) in markdown. (2) Attach — paperclip attachment to issue (documents, PDFs). (3) Download — fetch issue attachments + embedded media to disk for analysis. References packages/linear upload.ts and download.ts helpers. Port decision logic from HB's uploading-to-linear skill (attachment vs embed choice).","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:20.350607-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:03:32.283116-05:00","closed_at":"2026-01-28T01:03:32.283116-05:00","close_reason":"linear_uploading skill created with upload-for-embed, attach, and download workflows","dependencies":[{"issue_id":"dotfiles-le0","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.36764-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-le0","depends_on_id":"dotfiles-ret","type":"blocks","created_at":"2026-01-28T00:31:27.436891-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-m80","title":"Add 'save transcript' research variant with verbatim extraction","description":"## Summary\n\nNew research skill operation for saving transcript fragments verbatim from the current CC session, with stock metadata and optional user-directed enrichment.\n\n## Motivation\n\nCurrent \"save/flush research\" is analysis-heavy — Claude interprets and rewrites. Sometimes you want the raw exchange preserved as-is, with minimal editorial overhead. The transcript itself is the artifact.\n\n## Design\n\n### New operation: `save-transcript` (or similar)\n\n**Core behavior:**\n- Extract targeted segment of current session verbatim into a fenced codeblock\n- Minimal analysis by default (maybe a 1-line summary title, nothing more)\n- User can ask for bespoke enrichment (e.g. \"add tags\", \"summarize the takeaway\", \"annotate the key mistake\")\n\n**Stock metadata captured automatically:**\n- Timestamp (UTC)\n- Model (e.g. claude-opus-4-5-20251101)\n- Claude Code version\n- Session ID (from `claude -r \u003cid\u003e`)\n- Context window token consumption at time of save\n- Any other ambient data available\n\n**File format:**\n- Same naming convention as research (`YYYY-MM-DD-HHMM-\u003ctopic\u003e.md`)\n- Header with metadata block\n- Verbatim transcript in fenced codeblock\n- Optional enrichment section below (only if user asks)\n\n### Open questions\n- How to specify \"targeted segment\" — by turn count? keyword? \"last N exchanges\"? user points at it?\n- Where to get CC version and token count programmatically (may need `claude --version`, internal APIs, or hook data)\n- Should this be a separate operation in research.sh or a flag on existing save (e.g. `research.sh save --verbatim`)","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:32:58.604918-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:32:58.604918-05:00"}
{"id":"dotfiles-n79","title":"Apply namespace to git-*, ts-*, research-* skills + merge shan-tasks into shan","description":"Rename remaining namespaced skill groups and merge shan-tasks.\n\ngit-* skills:\n- git-commit → git_commit (git:commit)\n- git-mode-control → git_mode-control (git:mode-control)\n- git-sync → git_sync (git:sync)\n- git-worktree → git_worktree (git:worktree)\n\nts-* skills:\n- ts-benchmarking-types → ts_benchmarking-types (ts:benchmarking-types)\n- ts-buildinfo → ts_buildinfo (ts:buildinfo)\n- ts-domain-modeling → ts_domain-modeling (ts:domain-modeling)\n- ts-exploring-packages → ts_exploring-packages (ts:exploring-packages)\n- ts-formatting-conditional-types → ts_formatting-conditional-types (ts:formatting-conditional-types)\n- ts-type-parameters → ts_type-parameters (ts:type-parameters)\n- ts-writing-jsdoc → ts_writing-jsdoc (ts:writing-jsdoc)\n- ts-writing-tests → ts_writing-tests (ts:writing-tests)\n\nresearch-* skills:\n- research-flush-cc-thread → research_flush-cc-thread (research:flush-cc-thread)\n- research-format → research_format (research:format)\n- research-prune → research_prune (research:prune)\n- research-write → research_write (research:write)\n\nshan-tasks merge:\n- Merge shan-tasks content into shan/SKILL.md as a new operation\n- Delete shan-tasks directory after merge\n\nFor each skill:\n1. Rename directory\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:16.823174-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.228948-05:00","closed_at":"2026-01-27T22:48:57.228948-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-n79","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:28.144042-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-nez","title":"Convert fix-types command to skill","description":"Convert claude/commands/fix-types.md to a proper skill in claude/skills/. Fixes all TypeScript errors in a specified path.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.678129-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.678129-05:00"}
{"id":"dotfiles-nzo","title":"Linear scripts: unify issue resolution to handle both UUIDs and identifiers","description":"## Problem\n\n`comment.ts` and `update.ts` in `linear_managing-issues` resolve issue parameters using `searchIssues` exclusively. This is a text search API — it searches issue titles, descriptions, and comments. When a UUID is passed instead of an identifier (e.g. `HEA-3849`), searchIssues treats it as a text query and can silently match the wrong issue.\n\n**Observed failure:** A comment intended for HEA-3849 was posted to HEA-2985 because the agent passed a UUID to comment.ts, which fed it to searchIssues as a text query. The text search matched a different issue entirely.\n\n## Root Cause\n\nInconsistent resolution patterns across scripts:\n- `get.ts` — correctly detects UUID vs identifier and uses direct `client.query.issue({ id })` for UUIDs\n- `comment.ts` — always uses `searchIssues` (broken for UUIDs)\n- `update.ts` — always uses `searchIssues` (broken for UUIDs)\n- `resolve.ts` (linear_current-issue) — always uses `searchIssues` (broken for UUIDs)\n\n## Solution\n\nExtract a shared `resolveIssue` utility (e.g. `packages/linear/src/resolve-issue.ts`) that:\n1. Detects if input matches UUID pattern (contains `-`, length \u003e 10, NOT matching `^[A-Z]+-\\d+$`) → uses `client.query.issue({ id })` for direct lookup\n2. Detects if input matches identifier pattern (`^[A-Z]+-\\d+$`) → uses `searchIssues`\n3. Returns the resolved issue ID or errors clearly\n\nUpdate all scripts to use this shared resolver:\n- `~/.claude/skills/linear_managing-issues/scripts/comment.ts`\n- `~/.claude/skills/linear_managing-issues/scripts/update.ts`\n- `~/.claude/skills/linear_managing-issues/scripts/get.ts` (already has the logic, refactor to use shared util)\n- `~/.claude/skills/linear_current-issue/scripts/resolve.ts`\n\n## Impact\n\nSilent data corruption — comments/updates land on wrong issues with no error. P2 because it requires an agent to accidentally pass a UUID (uncommon path) but the failure mode is severe (wrong-issue mutation with no warning).","status":"closed","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T12:53:48.974235-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T12:58:07.640727-05:00","closed_at":"2026-01-28T12:58:07.640727-05:00","close_reason":"Added shared resolve-issue.ts utility. Updated comment.ts, update.ts, get.ts, and resolve.ts to use unified UUID-vs-identifier detection."}
{"id":"dotfiles-ozp","title":"Consolidate beads_* user skills into single skill","description":"Merge 3 beads_* USER skills (teacher, fanout, teacher-refresh) into single beads-meta router skill. These are the user-level skills about beads methodology, NOT the plugin commands (which are untouchable).\n\nRegistry savings: ~2 entries (~90 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/`\n\n### Plan: 3 beads_* USER skills → 1 router skill\n\n**IMPORTANT:** These are USER skills in dotfiles, NOT the beads plugin commands. The plugin commands (beads:create, beads:list, etc.) are untouchable.\n\n#### Router: `beads-meta/` (name: `beads-meta`)\n\nCannot use `beads/` as directory name since that could conflict with the plugin namespace.\n\n**Source skills (verify each for sub-files before migrating):**\n- `beads_teacher` — **LIKELY HAS PROGRESSIVE DISCLOSURE** (reported 9 files, verify structure)\n- `beads_fanout` — check for sub-files\n- `beads_teacher-refresh` — check for sub-files\n\n**Target structure:**\n```\nbeads-meta/\n├── SKILL.md\n├── reference/\n│   ├── teacher/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── fanout/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── teacher-refresh/\n│       └── overview.md (+ any existing sub-files)\n├── scripts/\n```\n\n**SKILL.md description:** `Use when onboarding beads for persistent agent memory, orchestrating parallel subagents for ready tasks, or verifying beads:teacher accuracy. Covers beads methodology, not beads CLI commands (those are in the beads plugin).`\n\n### Execution Steps\n\n1. Read all 3 source skill directories to check for sub-files\n2. Create `beads-meta/` directory and SKILL.md\n3. Migrate per merger rules\n4. Delete all 3 old `beads_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `beads-meta/` (avoids plugin namespace collision)\n- Frontmatter name: `beads-meta`\n- Topic subdirs: kebab-case matching former skill name without `beads_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:19.547589-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.875251-05:00","closed_at":"2026-01-28T15:07:10.875251-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-pnd","title":"Review zerebos/ghostty-config for configuration ideas","description":"Check out https://github.com/zerebos/ghostty-config for Ghostty configuration ideas and patterns to potentially adopt.\n\nFound while collecting Ghostty + tmux integration resources. May have useful patterns for keybindings, themes, or workflow integrations.\n\nNext action: Review repo and extract useful patterns.\n\n---\nMigrated from spark: 2026-01-25-ghostty-config-reference.yml\nOriginal context: Found while collecting Ghostty + tmux integration resources.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:43.710014-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:43.710014-05:00"}
{"id":"dotfiles-qg8","title":"Evaluate Tokyo Night tmux plugin","description":"Investigate if tmux-tokyonight plugin is needed.\n\n**Current state:**\n- Tokyo Night theme configured at Ghostty terminal level\n- tmux status bar uses minimal styling (bg=default, fg=white/cyan)\n\n**Question:**\nDoes Ghostty's Tokyo Night theme cascade into tmux adequately, or does tmux need its own theme plugin for:\n- Status bar colors\n- Pane borders\n- Copy mode highlighting\n- Message/prompt colors\n\n**Plugin:** https://github.com/janoamaern/tokyo-night-tmux (or similar)\n\n**Decision criteria:**\n- If current look is acceptable → skip plugin\n- If tmux UI elements look inconsistent → add plugin","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-25T14:07:54.6932-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-25T14:07:54.6932-05:00"}
{"id":"dotfiles-ret","title":"Implement file upload/download helpers in packages/linear","description":"Add src/upload.ts and src/download.ts to packages/linear. Upload: 3-step signed URL flow (fileUpload mutation → HTTP PUT binary to GCS signed URL → attachmentCreate mutation). Download: auth'd HTTP GET to uploads.linear.app with Bearer token, save to disk. These are the only non-GraphQL operations — everything else goes through the Graffle client. Reference StreamLinear source and existing HB scripts (attach.sh, upload.sh, linear-fetch) for the exact API flow.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:17.156078-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:00:51.012649-05:00","closed_at":"2026-01-28T01:00:51.012649-05:00","close_reason":"upload.ts (3-step signed URL flow) and download.ts (auth'd GET + save) implemented in packages/linear","dependencies":[{"issue_id":"dotfiles-ret","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:31:27.070261-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-s5i","title":"Refactor linear_* skills: scripts over inline code","description":"## Context\n\nLinear skills currently use inline TypeScript code examples that Claude rewrites and executes via `bun -e`. This is token-inefficient - the code patterns are re-read on every skill invocation.\n\n### Current State\n\n- 4 skills: `linear_core`, `linear_managing-issues`, `linear_current-issue`, `linear_uploading`\n- Inline code examples show import + Graffle client usage\n- Import path issue: skills referenced `@jasonkuhrt/linear/client` which isn't globally resolvable\n- Temporary fix: absolute import path in skill markdown (bad - exposes implementation detail)\n\n### Target State\n\n- Each skill has `scripts/` with executable TS files\n- Scripts contain the absolute import path (implementation detail hidden)\n- SKILL.md files document workflows (\"when to search vs create\") and call scripts\n- New `linear_gql` escape hatch skill for arbitrary GraphQL\n\n## Design\n\n### Directory Structure\n\n```\nlinear_core/\n├── SKILL.md                    # Auth, config, mention rules (no code changes needed)\n└── reference/\n\nlinear_managing-issues/\n├── SKILL.md                    # Workflows: search-before-create, validation rules\n├── scripts/\n│   ├── search.ts               # bun scripts/search.ts \"query\" [--status open]\n│   ├── get.ts                  # bun scripts/get.ts HEA-123\n│   ├── create.ts               # bun scripts/create.ts --title \"...\" --team HEA [--assignee UUID]\n│   ├── update.ts               # bun scripts/update.ts HEA-123 --state \"In Progress\"\n│   └── comment.ts              # bun scripts/comment.ts HEA-123 \"comment body\"\n└── reference/\n\nlinear_current-issue/\n├── SKILL.md                    # Resolution logic (branch → context file → search → ask)\n└── scripts/\n    └── resolve.ts              # bun scripts/resolve.ts [--branch] [--context-file]\n\nlinear_uploading/\n├── SKILL.md                    # Upload vs attach decision tree\n└── scripts/\n    ├── upload.ts               # bun scripts/upload.ts /path/to/file\n    ├── attach.ts               # bun scripts/attach.ts HEA-123 /path/to/file\n    └── download.ts             # bun scripts/download.ts \u003curl\u003e [--output /path]\n\nlinear_gql/                     # NEW - escape hatch\n├── SKILL.md                    # Documents absolute import path for custom queries\n└── scripts/\n    └── query.ts                # bun scripts/query.ts '{ viewer { id name } }'\n```\n\n### Script Implementation Pattern\n\n```typescript\n#!/usr/bin/env bun\n// scripts/search.ts\nimport { client } from '/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/packages/linear/src/client.ts'\nimport { parseArgs } from 'util'\n\nconst { values, positionals } = parseArgs({\n  args: Bun.argv.slice(2),\n  options: { status: { type: 'string' } },\n  allowPositionals: true,\n})\n\nconst query = positionals[0]\nif (!query) { console.error('Usage: search.ts \u003cquery\u003e [--status open|closed]'); process.exit(1) }\n\nconst results = await client.query.issueSearch({\n  $: { query, first: 20 },\n  nodes: { id: true, identifier: true, title: true, url: true, state: { name: true, type: true } },\n})\n\n// Filter canceled unless explicitly requested\nconst filtered = results.nodes.filter(i =\u003e values.status || i.state.type !== 'canceled')\nconsole.log(JSON.stringify(filtered, null, 2))\n```\n\n### SKILL.md Pattern (no code, just workflows)\n\n```markdown\n## Search Issues\n\n\\`\\`\\`bash\nbun scripts/search.ts \"auth bug\"\nbun scripts/search.ts \"login\" --status open\n\\`\\`\\`\n\n**Default:** Excludes canceled issues. Results are JSON array.\n\n## Create Issue\n\n**CRITICAL:** Always search before creating to avoid duplicates.\n\n\\`\\`\\`bash\nbun scripts/search.ts \"topic of new issue\"\n# If no match:\nbun scripts/create.ts --title \"Issue title\" --team HEA --description \"Details\"\n\\`\\`\\`\n```\n\n## Tasks\n\n1. Create `linear_gql` escape hatch skill with `scripts/query.ts`\n2. Add `scripts/` to `linear_managing-issues` (search, get, create, update, comment)\n3. Add `scripts/` to `linear_current-issue` (resolve)\n4. Add `scripts/` to `linear_uploading` (upload, attach, download)\n5. Rewrite SKILL.md files to call scripts instead of showing inline code\n6. Remove absolute import path from all SKILL.md and reference/*.md files\n7. Test each script works standalone\n\n## References\n\n- Session context: discussed bun link vs absolute paths, settled on absolute paths in scripts\n- `cc_writing-skills` now documents \"Scripts Over Inline Code\" pattern\n- Absolute import: `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/packages/linear/src/client.ts`","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:02:33.265002-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:11:55.769569-05:00","closed_at":"2026-01-28T11:11:55.769569-05:00","close_reason":"Refactored linear_* skills to use scripts instead of inline code. Created 11 scripts across 4 skills, updated all SKILL.md and reference files."}
{"id":"dotfiles-t5k","title":"Apply cc_ namespace to cc-* and claude-* skills","description":"Rename all cc-* and claude-* skill directories to use underscore namespace delimiter, and update frontmatter names to use colons.\n\ncc-* skills (dir rename + frontmatter update):\n- cc-ask-user-question → cc_ask-user-question (cc:ask-user-question)\n- cc-internals → cc_internals (cc:internals)\n- cc-managing-marketplaces → cc_managing-marketplaces (cc:managing-marketplaces)\n- cc-managing-mcp → cc_managing-mcp (cc:managing-mcp)\n- cc-managing-permissions → cc_managing-permissions (cc:managing-permissions)\n- cc-managing-plugins → cc_managing-plugins (cc:managing-plugins)\n- cc-session-get-id → cc_session-get-id (cc:session-get-id)\n- cc-session-search → cc_session-search (cc:session-search)\n- cc-tasks → cc_tasks (cc:tasks)\n- cc-writing-hooks → cc_writing-hooks (cc:writing-hooks)\n- cc-writing-rules → cc_writing-rules (cc:writing-rules)\n- cc-writing-skills → cc_writing-skills (cc:writing-skills)\n- cc-config-placement → cc_config-placement (cc:config-placement)\n\nclaude-* → cc_ (namespace change + dir rename):\n- claude-chrome-debugging → cc_chrome-debugging (cc:chrome-debugging)\n- claude-fork → cc_fork (cc:fork)\n- claude-markers → cc_markers (cc:markers)\n- claude-skills-tmp-dir → cc_skills-tmp-dir (cc:skills-tmp-dir)\n\nFor each skill:\n1. Rename directory (hyphen→underscore at namespace boundary)\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:15.324353-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.230791-05:00","closed_at":"2026-01-27T22:48:57.230791-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-t5k","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:27.930372-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-uor","title":"Consolidate linear_* user skills into single router skill","description":"Merge 6 linear_* skills (core, managing-issues, uploading, current-issue, gql, workspace-pull) into single linear router skill.\n\nlinear_managing-issues has progressive disclosure (reference/ + scripts/). Its files move under reference/managing-issues/ and scripts/ (prefixed if needed).\nlinear_core, linear_uploading also have multiple files.\n\nRegistry savings: ~5 entries (~230 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts → root `scripts/` (prefix on collision)\n\n### Plan: 6 linear_* skills → 1 router skill\n\n#### Router: `linear/` (name: `linear`)\n\n**Source skills:**\n- `linear_core` — **HAS SUB-FILES** (verify: likely scripts/ for config/auth)\n- `linear_managing-issues` — **HAS PROGRESSIVE DISCLOSURE** (reference/: comments.md, create.md, search.md, update.md; scripts/: comment.ts, create.ts, get.ts, search.ts, update.ts)\n- `linear_uploading` — **HAS SUB-FILES** (verify: likely scripts/)\n- `linear_current-issue` — check for sub-files\n- `linear_gql` — check for sub-files\n- `linear_workspace-pull` — check for sub-files\n\n**Target structure:**\n```\nlinear/\n├── SKILL.md\n├── reference/\n│   ├── core/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── managing-issues/\n│   │   ├── overview.md\n│   │   ├── comments.md\n│   │   ├── create.md\n│   │   ├── search.md\n│   │   └── update.md\n│   ├── uploading/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── current-issue/\n│   │   └── overview.md\n│   ├── gql/\n│   │   └── overview.md\n│   └── workspace-pull/\n│       └── overview.md\n├── scripts/\n│   ├── comment.ts          # From linear_managing-issues\n│   ├── create.ts           # From linear_managing-issues\n│   ├── get.ts              # From linear_managing-issues\n│   ├── search.ts           # From linear_managing-issues\n│   ├── update.ts           # From linear_managing-issues\n│   └── (any scripts from other source skills, prefixed on collision)\n```\n\n**SKILL.md description:** `Use when working with Linear — searching/creating/updating issues, uploading attachments, resolving current issue context, executing GraphQL queries, or pulling workspace settings. Covers API scripts, auth config, and mention syntax.`\n\n**SKILL.md body:** List all topics with all reference files. Include a Scripts section documenting all available scripts with their invocation syntax (since scripts are zero-token, document usage in router).\n\n### Execution Steps\n\n1. Create `linear/` directory and SKILL.md\n2. For each source skill, read directory contents first\n3. Migrate per merger rules; scripts go to root `scripts/` (prefix if collision)\n4. Ensure SKILL.md documents ALL scripts with invocation syntax\n5. Delete all 6 old `linear_*` directories\n6. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `linear/` (no namespace prefix needed — \"linear\" is the namespace)\n- Frontmatter name: `linear`\n- Topic subdirs: kebab-case matching former skill name without `linear_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:15.431525-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.837833-05:00","closed_at":"2026-01-28T15:07:10.837833-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-vkm","title":"Consolidate gh_* user skills into 2 router skills","description":"Merge 8 gh_* skills into 2 routers:\n- gh_pr: pr-resolve-review, pr-checks, pr-comment-write, pr-ai-reviewers, pr-test-resolve-review\n- gh_actions: actions, actions-ts, issue-read\n\ngh_pr-resolve-review already has progressive disclosure (9 files including item-model.md, terminal-view.md, etc). Its files move under reference/pr-resolve-review/.\ngh_pr-checks has 15 files. Same treatment.\n\nRegistry savings: ~6 entries (~280 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 8 gh_* skills → 2 router skills\n\n#### Router 1: `gh_pr/` (name: `gh:pr`)\n\n**Source skills (verify each for sub-files before migrating):**\n- `gh_pr-resolve-review` — **HAS PROGRESSIVE DISCLOSURE** (files: item-model.md, terminal-view.md, file-view.md, api-reference.md, plus scripts/ and templates/)\n- `gh_pr-checks` — **HAS PROGRESSIVE DISCLOSURE** (verify sub-files)\n- `gh_pr-comment-write` — check for sub-files\n- `gh_pr-ai-reviewers` — check for sub-files\n- `gh_pr-test-resolve-review` — check for sub-files\n\n**Target structure:**\n```\ngh_pr/\n├── SKILL.md\n├── reference/\n│   ├── resolve-review/\n│   │   ├── overview.md\n│   │   ├── item-model.md\n│   │   ├── terminal-view.md\n│   │   ├── file-view.md\n│   │   └── api-reference.md\n│   ├── checks/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── comment-write/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── ai-reviewers/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── test-resolve-review/\n│       └── overview.md (+ any existing sub-files)\n├── scripts/         # Merged from all source skills, prefixed on collision\n└── templates/       # Merged from all source skills, prefixed on collision\n```\n\n**SKILL.md description:** `Use when working with GitHub PRs — resolving review comments, checking CI status, writing PR comments, triggering AI re-reviews, or running PR review integration tests. Covers gh CLI patterns and PR workflow automation.`\n\n**SKILL.md body must list ALL reference files per topic** (see cc_authoring design for format example).\n\n#### Router 2: `gh_actions/` (name: `gh:actions`)\n\n**Source skills:**\n- `gh_actions` — check for sub-files\n- `gh_actions-ts` — check for sub-files\n- `gh_issue-read` — check for sub-files\n\n**Target structure:**\n```\ngh_actions/\n├── SKILL.md\n├── reference/\n│   ├── workflows/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── typescript/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── issue-read/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when writing GitHub Actions workflows, TypeScript scripts for Actions, or reading GitHub issues/PRs via gh CLI. Covers workflow syntax, Actions TS patterns, and issue/PR data retrieval.`\n\n### Execution Steps\n\n1. For each router, create directory and SKILL.md\n2. For each source skill, read directory contents first (critical for multi-file skills)\n3. Migrate per merger rules above\n4. Delete all 8 old `gh_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`gh_pr`, `gh_actions`)\n- Frontmatter name: colon delimiter (`gh:pr`, `gh:actions`)\n- Topic subdirs: kebab-case matching former skill name without `gh_` prefix (strip `pr-` for pr subtopics, strip `actions-` for actions subtopics)","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:13.510947-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.810666-05:00","closed_at":"2026-01-28T15:07:10.810666-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-whf","title":"Auto-attach CC session metadata when creating beads","description":"Feature request for the beads CC plugin.\n\nWhen creating beads from within a Claude Code session, automatically attach metadata:\n1. **Session ID** — The CC session identifier (e.g. from ~/.claude/projects/\u003chash\u003e/\u003cid\u003e.jsonl path)\n2. **Message ID** (stretch goal) — A pinpoint reference to the specific conversation turn where the bead was created, not just the session\n\nThis enhances the papertrail for:\n- Tracing why an idea was created (what conversation spawned it)\n- Recovering context if the idea description is ambiguous\n- Linking back to research/discussion that motivated the work\n\nEspecially valuable when the user doesn't have the default 30-day session delete policy enabled, or is saving sessions via other means (e.g. shan transcripts).\n\nImplementation notes:\n- CC exposes session info via the tool results path pattern: ~/.claude/projects/\u003cproject-hash\u003e/\u003csession-id\u003e.jsonl\n- The session ID could be stored as a metadata field on the bead (e.g. `cc_session`, `cc_message_id`)\n- The plugin hook or command integration point would capture this at bead creation time\n\nMigrated context: This was identified while reviewing the sparks system (a predecessor idea-capture system that stored YAML files). Session tracing was one of the few features sparks had that beads lacks natively.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:54:51.01064-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:54:51.01064-05:00"}
{"id":"dotfiles-ws1","title":"Create tl CLI for CC task list inspection","description":"## Summary\n\nA `tl` CLI (Bun, in `packages/tl/`) for inspecting CC task list files from outside a session. Zero token cost — runs in shell, not inside CC.\n\n## Context\n\nCC task lists persist at `~/.claude/tasks/\u003clist-id\u003e/` as JSON files (one per task). Currently no way to browse/read them outside a CC session without manually `cat`-ing JSON files. Need a quick CLI for the human side.\n\n## Operations\n\n### `tl open [target]`\n\nOpen task JSON in editor.\n\n- **Target:** task number OR fuzzy match on subject\n- **Editor:** Use `$EDITOR` if set. If `$EDITOR=nvim`, open in terminal. If `zed`, opens as tab.\n- **List selection:** If `CLAUDE_CODE_TASK_LIST_ID` is set, use that. Otherwise, prompt or use most recently modified list dir.\n- **No target:** show picker (list all tasks, select one)\n\n### `tl dump [target]`\n\nDump formatted task to stdout (or to tmp file for piping).\n\n- **Target:** same as `open` — number or fuzzy match\n- **Output:** Human-readable formatted markdown, not raw JSON\n- **No target:** dump all tasks as formatted table (id, status, subject, blocked-by)\n- **Format:**\n  ```\n  # Task 4: Generate Playwright specs from D2 flows\n  Status: pending\n  Blocked by: #2, #3\n  \n  [full description]\n  ```\n\n## Design Decisions\n\n- **Bun CLI** — matches `shan` pattern in `packages/shan/`\n- **Package:** `packages/tl/` with `bin: { \"tl\": \"./src/bin/tl.ts\" }`\n- **Global availability:** Symlink into PATH via dotfiles sync (e.g. `ln -s $(pwd)/packages/tl/src/bin/tl.ts ~/.local/bin/tl` or add packages/tl to Brewfile as local formula)\n- **Task list discovery:** Read `CLAUDE_CODE_TASK_LIST_ID` env var → `~/.claude/tasks/$id/`. Fallback: list dirs in `~/.claude/tasks/`, pick most recently modified (or prompt).\n- **Fuzzy match:** Simple substring on subject field. Don't over-engineer — `tl open scaffold` matching \"Scaffold apps/e2e/ Nx app with Playwright\" is enough.\n\n## JSON Schema Reference (from cc-tasks skill)\n\nEach task is `~/.claude/tasks/\u003clist-id\u003e/\u003cn\u003e.json`:\n```json\n{\n  \"id\": \"4\",\n  \"subject\": \"Generate Playwright specs from D2 flows\",\n  \"description\": \"Read D2 flow files + codebase source to...\",\n  \"activeForm\": \"Generating Playwright specs from D2 flows\",\n  \"status\": \"pending\",\n  \"owner\": null,\n  \"blocks\": [],\n  \"blockedBy\": [\"2\", \"3\"],\n  \"metadata\": {}\n}\n```\n\n## Not in Scope (for now)\n\n- Inline viewing inside CC (eats context window)\n- Task mutation (that's CC's job)\n- Watch mode / live updates\n- Dependency graph visualization","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T14:57:44.897542-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T15:33:31.160071-05:00","closed_at":"2026-01-27T15:33:31.160071-05:00","close_reason":"Design complete. Original spec proposed a standalone `tl` CLI in `packages/tl/`. Revised to augment existing `packages/shan/` CLI instead — avoids duplicating infrastructure (Effect, Clack, session resolver, arg parsing).\n\n## Final Aligned Spec: `shan task`\n\n### Commands\n- `shan task dump [target] [--md] [--global/-g]` — copy raw task JSON to `.claude/tasks/\u003clist\u003e/` in project. `--md` for markdown formatting.\n- `shan task open [target] [--global/-g]` — open task JSON/dir in $EDITOR (Zed). No formatting.\n\n### Target Syntax\n- `\u003clist\u003e` — named list or UUID prefix match\n- `\u003clist\u003e@\u003ctask\u003e` — specific task within a list\n- `\u003csubject-substring\u003e` — fuzzy match on subject across in-scope lists\n- No target → flat Clack picker grouped by list, both list-headers and tasks selectable\n\n### Scoping\n- Default: project-scoped (UUID lists matching current project's sessions + all named lists)\n- `--global`/`-g`: all lists\n\n### Dir vs File targets\n- List target (dir): `open` → opens Zed to dir; `dump` → copies all JSON files\n- Task target (file): `open` → opens specific JSON; `dump` → copies single file\n\n### Picker Design\nFlat list grouped by list name. Status icons: ● in_progress, ◌ pending, ✓ completed. Named lists never truncated. Freshness filter: open + completed within 24h (v1 fallback: all states).\n\n### Modules\n- `src/lib/task-resolver.ts` — parse \u003clist\u003e@\u003ctask\u003e, resolve to fs paths\n- `src/lib/task-schema.ts` — Effect Schema (drafted, see execution bead)\n- `src/lib/task-picker.ts` — grouped Clack picker\n- `src/bin/task/dump.ts` — copy raw JSON (or --md) to .claude/tasks/\n- `src/bin/task/open.ts` — open in $EDITOR\n\n### Companion Skill\n`claude/skills/shan-tasks/SKILL.md` — documents commands for zero-cost task inspection outside CC. No slash command.\n\n### Effect Schema (drafted from real task files)\nSee execution bead description for full schema source. 8 fields: id, subject, description, activeForm, status, blocks, blockedBy + optional owner, metadata."}
{"id":"dotfiles-x3r","title":"Stripe Discord support automation skill","description":"Create a skill that automates posting support questions to Stripe Discord from CC sessions.\n\nThe form has structured fields:\n- Your Question (required)\n- Related Request ID(s) (required) — req_... IDs from dashboard\n- What have you already attempted? (required)\n- What are you working on?\n\nSkill would:\n1. Gather context from current research/conversation\n2. Format question for the structured form\n3. Open browser to Discord with pre-filled content (if possible) or clipboard\n4. Track pending questions and remind to check for responses\n\nCould generalize to other vendor Discord support channels with similar patterns.\n\n---\nMigrated from spark: 2026-01-23-stripe-discord-skill.yml\nOriginal context: Researching Stripe Connect rate limits, needed to post question to Stripe Discord #help channel\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat/7a342e2c-ccad-4d3a-be6f-67c3a4b875b1.jsonl","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:36.886899-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:36.886899-05:00"}
{"id":"dotfiles-x4q","title":"Improve save-research skill: signal-only output with strict format","description":"Enhance the research skill's save/flush operation to produce higher-signal research files:\n\n- **Prune to signal only** — strip opinions, insights, editorializing. Research files should capture objective facts and findings, not commentary. Raw object truths only.\n- **Track leaf fact dates** — each atomic fact should carry its own date/version context (e.g. 'as of Ghostty 1.2.3', 'added in CC v2.1.2'). Facts go stale; dating them at the leaf level makes staleness visible.\n- **Remove or bracket opinions** — if subjective assessment is preserved at all, it must be clearly demarcated (e.g. a separate 'Assessment' section) and never mixed with factual content.\n- **Strict ordered format** — define a consistent, methodical template for research files that optimizes for future reading/scanning. Consider: Summary → Facts (dated) → Sources → Assessment (optional, bracketed). Every file follows the same skeleton.\n- **Actionable for future sessions** — a future agent or person reading the file should be able to extract all facts without filtering noise.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:28:29.522082-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:28:29.522082-05:00"}
{"id":"dotfiles-y49","title":"Add progressive disclosure guidance to writing-skills","description":"The superpowers:writing-skills skill implicitly follows progressive disclosure (Overview first, details later) but doesn't teach it as a design principle. Gap: skill authors might put critical \"do this\" information after lengthy \"why\" explanations, forcing agents to read everything.\n\nMissing guidance:\n- Frontload the 80% use case in first 50 words\n- Structure so agents can stop reading early once they have what they need\n- \"Lead with action, defer explanation\" pattern\n- Why the SKILL.md structure order matters (not just what it is)\n\nResearch needed: Look into existing literature on optimal design patterns for main file vs separate files brought in incrementally. How do documentation systems, man pages, or other agent-facing docs handle progressive disclosure? What's the cognitive load research say about chunking and layered information?\n\nCould be upstream PR to superpowers-marketplace or local supplement.\n\n---\nMigrated from spark: 2026-01-12-progressive-disclosure-in-skills.yml\nOriginal context: Reviewing dprint skill, noticed reviewing-skills and writing-skills lack explicit progressive disclosure principle\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-jasonkuhrt-dotfiles/d6a3870b-45ba-47a9-8d57-7d1726aa84f8.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:10.178471-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:10.178471-05:00"}
{"id":"dotfiles-y4k","title":"CC docs: rules use paths: not globs: frontmatter key","description":"CC rules frontmatter key is paths:, not globs:. globs: is Cursor's key and CC silently ignores it, causing rules to load unconditionally. Also paths: values must be quoted YAML arrays, not comma-separated strings. Separately, upstream bug anthropics/claude-code#16299 means even correctly-keyed paths: rules may load globally. Fixed: typescript.md frontmatter, markdown-compact-mode.md frontmatter, cc_writing-rules skill updated.","status":"closed","priority":4,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:03:11.85181-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:23:31.449256-05:00","closed_at":"2026-01-28T13:23:31.449256-05:00","close_reason":"Fixed remaining 3 files using globs: instead of paths: frontmatter"}
{"id":"dotfiles-ya2","title":"Install add-osc-8-hyperlink and integrate into dotfiles","description":"Install add-osc-8-hyperlink (https://github.com/sentriz/add-osc-8-hyperlink) on system and explore leveraging it in skills, rules, and dotfiles generally. Could wrap common commands (tsc, git status, etc.) to inject OSC 8 hyperlink sequences for clickable file paths in Ghostty terminal.","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:41.36022-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:23:41.36022-05:00"}
{"id":"dotfiles-ybl","title":"Design experiment suite: D2 features × agent comprehension","description":"## Problem\n\nThe i83 design doc discovered heuristics through manual iterations, but those iterations had context contamination (the experimenter already knew the right answers). We need clean experiments using subagents as naive test subjects.\n\nAdditionally, i83 only explored flowcharts. D2 has sequence diagrams, layers, scenarios, steps, imports, classes, tooltips, and vars — all potentially relevant to skill authoring. We don't know which features agents actually benefit from.\n\n## What Needs Designing\n\nAn experiment suite that tests two axes:\n\n### Axis 1: Enrichment strategies\nHow much information does D2 need to carry for an agent to produce a good skill?\n\n- **Baseline:** D2 only (no conventions, no enrichment)\n- **Conventions:** D2 + authoring conventions from i83 design doc\n- **Light enrichment:** D2 + classes/tooltips for node typing (invisible in rendered output)\n- **Heavy enrichment:** D2 + vars for glossary + tooltips for commands + classes for node types\n- **Mapping guide:** D2 + explicit feature→concept mapping document\n\nKey question: Does a mapping guide help, hurt (over-constrain), or not matter?\n\n### Axis 2: D2 diagram types × skill patterns\nWhich D2 diagram type best serves which skill pattern?\n\n- **Flowcharts → procedural skills** (established baseline)\n- **Sequence diagrams → interaction-heavy skills** (e.g., pr-resolve-review, user↔agent↔tool protocols)\n- **Steps → state progression skills** (e.g., deploy pipelines, migration sequences)\n- **Layers → progressive disclosure** (overview → detail abstraction levels)\n- **Scenarios → degradation variants** (with/without optional tools)\n\n### Axis 3: Composition models\nHow should multi-operation skills organize their D2?\n\n- **Single file, containers = operations** (i83 approach)\n- **One file per operation, imports for shared procedures**\n- **One file with layers for abstraction levels**\n- **Mixed: flowchart for operations + sequence diagram for interaction sub-parts**\n\n## Experiment Design Constraints\n\n- Each experiment must use **subagents** as test subjects (context-clean)\n- Test subjects should receive ONLY the D2 + whatever enrichment strategy is being tested\n- Compare output against a known-good SKILL.md (that the subject never saw)\n- Need real skills as test cases across complexity tiers (minimal, simple, medium, complex)\n- Need skills across pattern types (procedural, interaction-heavy, reference-like)\n\n## Test Cases to Select\n\nNeed 4-6 skills spanning the experiment space:\n- 1 existing complex procedural skill (git-sync — known baseline from i83)\n- 1 existing interaction-heavy skill (pr-resolve-review?)\n- 1 simple procedural skill (git-commit or git-worktree?)\n- 1 new skill designed in D2-first (pr-ship from i83 iteration 2?)\n- 1 skill that degrades gracefully (with/without optional tools)\n- 1 skill with shared procedures across operations\n\n## Deliverable\n\nA structured experiment plan: test matrix, test cases, evaluation criteria, and execution order. NOT running the experiments yet — just the design.\n\n## Dependencies\n\n- i83 design doc (claude/skills/d2-skill-authoring/d2-skill-authoring.md) — provides baseline heuristics\n- D2 skill — syntax reference for all D2 features\n- writing-skills methodology — TDD baseline testing approach","status":"in_progress","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T14:05:59.522603-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T15:02:23.219214-05:00","dependencies":[{"issue_id":"dotfiles-ybl","depends_on_id":"dotfiles-i83","type":"blocks","created_at":"2026-01-27T14:06:03.681461-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ymv","title":"Fix CC doc lookup priority: ref MCP and skills before web search","description":"When asked to look up documentation (e.g. CC rules frontmatter docs), Claude reaches for web search / Task(Research...) instead of:\n\n1. Using ref MCP (ref_search_documentation) which is configured and has docs indexed\n2. Using built-in skills like cc_internals, cc_writing-rules, etc. that already contain CC documentation\n\nExample failure: User asks 'find out the rules frontmatter docs' and Claude spawns a Task(Research CC rules frontmatter docs) agent that does web searches, when it should invoke the cc_writing-rules or cc_internals skill first, or use ref MCP.\n\nThis is a recurring pattern - the rules and skills exist but CC doesn't prioritize them over generic web research.\n\nFix approach: Add/improve rules that establish the doc lookup priority chain:\n1. Check if a skill covers the topic (invoke it)\n2. Use ref MCP (ref_search_documentation)  \n3. Only then fall back to web search\n\nRelated existing rules: ref.md (already says to use ref), using-superpowers skill (already says to check skills first). The problem may be that these aren't specific enough about doc lookup scenarios.","status":"open","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:11:49.904152-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:11:49.904152-05:00"}
{"id":"dotfiles-yvc","title":"Debug skill auto-approve hook not firing","description":"The PreToolUse hook that should auto-approve skills is not working. Still being prompted:\n\n```\nUse skill \"capture-spark\"?\nClaude may use instructions, code, or files from this Skill.\n...\nDo you want to proceed?\n```\n\nNeed to investigate:\n- Is the hook configured correctly?\n- Is it firing but returning wrong value?\n- Is there a scope/path issue with worktrees?\n- Does the hook output format match what CC expects?\n\nNote: This was captured 2026-01-22. CC has evolved significantly since then — the auto-approve mechanism may have changed. Verify current CC skill approval behavior before investigating.\n\n---\nMigrated from spark: 2026-01-22-skill-auto-approve-hook-not-working.yml\nOriginal context: Capturing sparks when prompted to approve capture-spark skill despite having auto-approve hook\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"open","priority":1,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:25.52165-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:25.52165-05:00"}
{"id":"dotfiles-zpx","title":"Consolidate ts_* user skills into 2 router skills","description":"Merge 8 ts_* skills into 2 routers:\n- ts_conventions: type-parameters, formatting-conditional-types, writing-jsdoc, domain-modeling\n- ts_tooling: buildinfo, exploring-packages, benchmarking-types, writing-tests\n\nts_writing-jsdoc has progressive disclosure (6 files). Its files move under reference/writing-jsdoc/.\n\nRegistry savings: ~6 entries (~280 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 8 ts_* skills → 2 router skills\n\n#### Router 1: `ts_conventions/` (name: `ts:conventions`)\n\nSkills about TypeScript CODE STYLE and documentation.\n\n**Source skills (verify each for sub-files before migrating):**\n- `ts_type-parameters` — check for sub-files\n- `ts_formatting-conditional-types` — check for sub-files\n- `ts_writing-jsdoc` — **HAS PROGRESSIVE DISCLOSURE** (6 files, verify structure)\n- `ts_domain-modeling` — check for sub-files\n\n**Target structure:**\n```\nts_conventions/\n├── SKILL.md\n├── reference/\n│   ├── type-parameters/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── conditional-types/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── writing-jsdoc/\n│   │   └── overview.md (+ any existing sub-files from its progressive disclosure)\n│   └── domain-modeling/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when writing TypeScript — type parameter naming, conditional type formatting, JSDoc documentation, or domain modeling patterns. Covers style conventions and structured documentation approaches.`\n\n#### Router 2: `ts_tooling/` (name: `ts:tooling`)\n\nSkills about TypeScript BUILD TOOLS and development workflow.\n\n**Source skills (verify each for sub-files before migrating):**\n- `ts_buildinfo` — check for sub-files\n- `ts_exploring-packages` — check for sub-files\n- `ts_benchmarking-types` — check for sub-files\n- `ts_writing-tests` — check for sub-files\n\n**Target structure:**\n```\nts_tooling/\n├── SKILL.md\n├── reference/\n│   ├── buildinfo/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── exploring-packages/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── benchmarking-types/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── writing-tests/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when working with TypeScript tooling — incremental build cache (tsbuildinfo), exploring npm package source code, benchmarking type instantiations, or writing tests. Covers build optimization and development workflow.`\n\n### Execution Steps\n\n1. For each router, create directory and SKILL.md\n2. For each source skill, read directory contents first\n3. Migrate per merger rules\n4. Delete all 8 old `ts_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`ts_conventions`, `ts_tooling`)\n- Frontmatter name: colon delimiter (`ts:conventions`, `ts:tooling`)\n- Topic subdirs: kebab-case matching former skill name without `ts_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:14.623228-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.824476-05:00","closed_at":"2026-01-28T15:07:10.824476-05:00","close_reason":"Consolidated via parallel agents"}
