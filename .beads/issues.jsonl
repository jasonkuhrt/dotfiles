{"id":"dotfiles-08q","title":"Design + implement permissions and error handling","description":"Full Disk Access detection for Safari plist reads (with helpful error message + instructions). Browser-is-running guards (warn if Safari/Chrome running during write). Graceful degradation (skip unavailable targets). See docs/plans/2026-02-01-bookmarks-v1-design.md.\n\n## Convention notes (from patch engine)\n- Typed errors: use `Data.TaggedError` (not `Error` base class) — enables `Effect.catchTag` for selective recovery\n- Consider `Data.TaggedEnum` if error types form a discriminated union (e.g., PermissionDenied | BrowserRunning | TargetUnavailable)\n- Namespace imports: `import * as \u003cNS\u003e from \"./\u003cmodule\u003e.js\"`\n- See `packages/bookmarks/CLAUDE.md` for full rules","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:57.150719Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:54:53.564195-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-08q","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.812463Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-08q","depends_on_id":"dotfiles-cq8","type":"blocks","created_at":"2026-02-01T20:13:11.112554Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-08q","depends_on_id":"dotfiles-3zv","type":"blocks","created_at":"2026-02-01T20:13:11.178929Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-08q","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.793539Z","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-0qg","title":"Fix speclist skill quality issues","description":"## Files Reviewed\n\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/speclist/SKILL.md (45 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/speclist/reference/shared.md (152 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/speclist/reference/importing.md (56 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/speclist/reference/flow.md (433 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/speclist/reference/def.md (115 lines)\n\n## Findings\n\n### 1. reference/importing.md is under 100-line threshold (Structure checklist)\n\nCurrent: reference/importing.md is 56 lines.\n\nViolation: \"Reference files only for heavy content (100+ lines) or reusable tools/scripts\"\n\nFix: Inline the importing content into SKILL.md under a new \"### Import Content\" operation, or merge it into reference/shared.md since importing uses shared conventions. The content is a mapping table and a 7-step conversion process -- compact enough to fold into SKILL.md's existing \"Import Content\" operation section (which currently just points to the reference file).","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:31.373741-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:33.963316-05:00","closed_at":"2026-01-29T14:02:33.963316-05:00","close_reason":"Fixed: Inlined 56-line reference/importing.md content into SKILL.md under Import Content operation, deleted the reference file","dependencies":[{"issue_id":"dotfiles-0qg","depends_on_id":"dotfiles-rog.6","type":"blocks","created_at":"2026-01-29T01:03:31.378453-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-1ff","title":"Fix betterdisplay skill quality issues","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/betterdisplay/SKILL.md\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/betterdisplay/reference.md\n\n## Findings\n\n### 1. Decorative ASCII box art in welcome message (Token Efficiency)\n**Current text (lines 42-51):**\n```\n┌─────────────────────────────────────────────────┐\n│  [sync if needed] → [configure] → [export]      │\n│                                                 │\n│  1. Import from dotfiles (if changed elsewhere) │\n│  2. Open app for you to configure               │\n│  3. Export your changes back to dotfiles        │\n└─────────────────────────────────────────────────┘\n```\n\n**Violates:** \"No tutorial-style narrative or storytelling\" and \"No 'Why X' justification sections or decorative content\"\n\n**Proposed fix:** Replace the welcome display with a plain list:\n```\n/betterdisplay - Sync display settings with dotfiles\n\nSteps: import (if needed) → configure → export\n\n1. Import from dotfiles (if changed elsewhere)\n2. Open app for you to configure\n3. Export your changes back to dotfiles\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:58.863667-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:05.624581-05:00","closed_at":"2026-01-29T14:02:05.624581-05:00","close_reason":"Fixed: Replaced decorative ASCII box art welcome message with plain list format.","dependencies":[{"issue_id":"dotfiles-1ff","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:03:02.172333-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-1fw","title":"Fix mermaid skill quality issues","description":"## Files Reviewed\n\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/mermaid/SKILL.md (61 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/mermaid/references/style.md (107 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/mermaid/references/syntax.md (227 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/mermaid/references/directives.md (116 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/mermaid/scripts/render.mjs (377 lines)\n\n## Findings\n\n### 1. references/syntax.md uses generic labels throughout (Content Quality checklist)\n\nCurrent: Nearly all examples in syntax.md use generic A/B/C/D labels:\n\nLines 8-13 (flowchart):\n  A[Start] --\u003e B[Process]\n  B --\u003e C{Decision}\n  C --\u003e|Yes| D[Action 1]\n  C --\u003e|No| E[Action 2]\n\nLines 36-45 (subgraphs):\n  A[React] --\u003e B[Redux]\n  C[API] --\u003e D[Database]\n\nLines 52-62 (sequence):\n  participant C as Client\n  participant A as API\n  participant D as Database\n\nLines 137-148 (class diagram):\n  class Animal { ... }\n  class Dog { ... }\n\nViolation: \"No generic labels (helper1, step2)\" -- A, B, C, D are generic labels. This also directly contradicts the skill's own style guide (references/style.md) and the CRITICAL section in SKILL.md which says \"IDs ARE labels. Never use A[Login]\".\n\nFix: Rewrite all examples in syntax.md to use self-documenting snake_case IDs consistent with style.md. For example, the flowchart example becomes:\n  flowchart LR\n      login --\u003e validate\n      validate --\u003e is_valid{is_valid}\n      is_valid --\u003e|yes| grant_access\n      is_valid --\u003e|no| show_error\n\nThe subgraph example becomes:\n  flowchart TB\n      subgraph frontend[frontend]\n          react_app --\u003e state_store\n      end\n      subgraph backend[backend]\n          api_server --\u003e database\n      end\n      state_store --\u003e api_server\n\nAnd so on for all examples in the file.\n\n### 2. \"What This Enables\" section in style.md is a \"Why X\" justification (Token Efficiency checklist)\n\nCurrent (style.md lines 101-106):\n  ## What This Enables\n  - Grep-friendly: grep status_ diagram.md finds all status nodes\n  - Diff-friendly: Node renames show clearly in git\n  - Scannable: Prefixes create visual structure without rendering\n  - Cross-referenceable: Node IDs can appear in code reference tables\n\nViolation: \"No 'Why X' justification sections or decorative content\"\n\nFix: Delete the entire \"## What This Enables\" section.\n\n### 3. \"Tips\" section in syntax.md is generic filler (Token Efficiency checklist)\n\nCurrent (syntax.md lines 220-226):\n  ## Tips\n  * Keep diagrams simple - split complex flows into multiple diagrams\n  * Use clear, descriptive labels\n  * Follow natural reading direction (LR or TD)\n  * Group related items with subgraphs\n  * Test rendering in target environment (GitHub, VS Code, etc.)\n\nViolation: \"No tutorial-style narrative or storytelling\" -- these are generic tips that add no value beyond what's already in the style guide.\n\nFix: Delete the entire \"## Tips\" section from syntax.md. The style guide (style.md) already covers these points with concrete rules.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:04.269403-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:03:39.251935-05:00","closed_at":"2026-01-29T14:03:39.251935-05:00","close_reason":"Fixed: Replaced all generic A/B/C/D labels in syntax.md with self-documenting snake_case IDs, moved 'What This Enables' from style.md to DESIGN.md, removed generic Tips section from syntax.md","dependencies":[{"issue_id":"dotfiles-1fw","depends_on_id":"dotfiles-rog.6","type":"blocks","created_at":"2026-01-29T01:04:04.272159-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-1gd","title":"Set up packages/linear with Graffle client for Linear API","description":"Create packages/linear/ in the Bun workspace. Add package.json (@jasonkuhrt/linear), tsconfig. Run graffle CLI to generate typed client from Linear's GraphQL schema (https://api.linear.app/graphql). Create src/client.ts that exports a configured Graffle client using LINEAR_API_TOKEN from env. Verify generation works and client can make a basic query.","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:15.899328-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T00:56:48.576121-05:00","closed_at":"2026-01-28T00:56:48.576121-05:00","close_reason":"packages/linear created with Graffle-generated typed client and configured client.ts"}
{"id":"dotfiles-1o3","title":"cc_teacher_core skill review fixes","description":"## Skill reviewed\ncc_teacher_core: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cc_teacher_core/\n\nNOTE: This is a _teacher skill (educational reference for humans). Token efficiency rules about \"no narrative\", \"no tutorial content\", and \"no Why X\" do NOT apply. Only universally-applicable findings retained.\n\n## Remaining Findings\n\n### Finding 1: Stale cross-references to \"cc:ecosystem\" (renamed to \"cc:plugins\")\n**Violation:** References point to a skill that no longer exists\n**Current:** Multiple files reference `cc:ecosystem`:\n  - reference/internals/overview.md line 9: \"see cc:ecosystem, Managing Permissions\"\n  - reference/internals/overview.md line 111: \"`cc:ecosystem`, Managing Permissions\"\n  - reference/internals/overview.md line 113: \"`cc:ecosystem`, Managing MCP\"\n  - reference/session-search/overview.md line 119: \"`cc:ecosystem`, Managing Permissions\"\n**Fix:** Replace all instances of `cc:ecosystem` with `cc:plugins` in these files (4 occurrences).\n\n### Finding 2: references.md raw blockquotes consume ~80 lines\n**Violation:** Token efficiency (universal — applies even to teacher skills)\n**Current:** reference/tasks/references.md (80 lines) contains long blockquotes from X/Twitter, Reddit, and Gemini summaries. The facts are already distilled into overview.md and details.md.\n**Fix:** Trim to just the links and one-line descriptions (~15 lines). The raw quotes can go to DESIGN.md if worth preserving.\n\n## Already Fixed (trivial wave)\n- H1 heading: added\n- Description: workflow summary trimmed","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:05:01.103001-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:23.200366-05:00","closed_at":"2026-01-29T14:01:23.200366-05:00","close_reason":"Fixed: replaced 4 cc:ecosystem refs with cc:plugins, trimmed references.md from ~80 to ~18 lines, moved raw quotes to DESIGN.md"}
{"id":"dotfiles-21t","title":"cc_plugins skill review fixes","description":"## Skill reviewed\ncc_plugins: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cc_plugins/\n\nFiles reviewed:\n- SKILL.md\n- reference/managing-plugins/overview.md\n- reference/managing-mcp/overview.md\n- reference/managing-permissions/overview.md\n- reference/managing-permissions/freshness-check.md\n- reference/managing-permissions/team-detection.md\n- reference/managing-marketplaces/overview.md\n\n## Findings\n\n### Finding 1: Missing H1 heading in SKILL.md\n**Violation:** Structure — \"Document has an H1 heading (#)\"\n**Current:** SKILL.md starts with frontmatter then \"## Topics\" (H2)\n**Fix:** Add H1 heading after frontmatter:\n```\n---\n...\n---\n\n# CC Plugins\n\n## Topics\n```\n\n### Finding 2: Heavy content duplication between managing-plugins and managing-marketplaces\n**Violation:** Token Efficiency — \"No redundant content repeated across files\"\n**Current:** The following content is duplicated between managing-plugins/overview.md and managing-marketplaces/overview.md:\n\na) **Plugin CLI Reference** — Both files contain the full `claude plugin install/uninstall/enable/disable/update/list` command reference.\n   - managing-plugins/overview.md lines 40-52\n   - managing-marketplaces/overview.md lines 31-39\n\nb) **Marketplace CLI Reference** — Both files contain marketplace commands.\n   - managing-plugins/overview.md lines 56-61\n   - managing-marketplaces/overview.md lines 44-49\n\nc) **Scoping table** — Identical scope hierarchy table in both files.\n   - managing-plugins/overview.md lines 65-70\n   - managing-marketplaces/overview.md lines 63-69\n\nd) **Worktree behavior** — Same worktree warning in both.\n   - managing-plugins/overview.md line 71\n   - managing-marketplaces/overview.md lines 71-75\n\ne) **\"Install Reports Already Installed\" bug** — Documented in both files.\n   - managing-plugins/overview.md lines 97-106\n   - managing-marketplaces/overview.md lines 83-94\n\nf) **\"Marketplace Add Not Idempotent\" bug** — Documented in both files.\n   - managing-plugins/overview.md lines 108-118\n   - managing-marketplaces/overview.md lines 96-108\n\ng) **REPL equivalents** — Both mention /plugin prefix.\n   - managing-plugins/overview.md lines 28-34\n   - managing-marketplaces/overview.md lines 52-59\n\nh) **\"Never Edit Plugin JSON\" / \"Use External CLI\"** critical warnings — Both files.\n   - managing-plugins/overview.md lines 13-34 (CRITICAL section)\n   - managing-marketplaces/overview.md lines 9-24\n\n**Fix:** The managing-plugins and managing-marketplaces topics need deduplication. The CLI reference, scoping, known bugs, and critical warnings should live in ONE place. Recommended approach:\n\n- **managing-plugins/overview.md** should be the canonical home for: CLI reference (both plugin and marketplace commands), scoping, worktree behavior, critical warnings, and known bugs.\n- **managing-marketplaces/overview.md** should focus only on: marketplace-specific concerns (versioning/caching model, update mechanism, local development/symlinks, creating plugins in a marketplace, key locations). It should cross-reference managing-plugins for CLI commands and known bugs.\n\nSpecific edits for managing-marketplaces/overview.md:\n1. Remove the \"## CRITICAL\" section (lines 9-24) — cross-reference managing-plugins instead\n2. Remove \"## Plugin CLI Reference\" and \"### Plugin Commands\" sections (lines 26-39) — cross-reference managing-plugins\n3. Remove \"### REPL Equivalents\" (lines 52-59) — cross-reference managing-plugins\n4. Remove \"## Plugin Scoping\" (lines 62-79) — cross-reference managing-plugins\n5. Remove \"## Known Bugs\" section (lines 81-108) — cross-reference managing-plugins\n6. Add a single line at top: \"For CLI commands, scoping, and known bugs, see managing-plugins topic.\"\n\n### Finding 3: \"Why This Matters\" justification section in team-detection.md\n**Violation:** Token Efficiency — \"No 'Why X' justification sections or decorative content\"\n**Current (lines 51-56 of reference/managing-permissions/team-detection.md):**\n```\n## Why This Matters\n\n- User-level `Skill(*)` doesn't help teammates\n- Team projects need project-level permissions\n- Without this check, you might configure only for one user while breaking team workflow\n```\n**Fix:** Delete the \"## Why This Matters\" section (lines 51-56). The decision flow above already makes the rationale clear through its structure.\n\n### Finding 4: Stale cross-references to \"cc:ecosystem\" (renamed to \"cc:plugins\")\n**Violation:** Content Quality — references point to a skill that no longer exists\n**Current:** managing-plugins/overview.md has stale cross-references:\n  - Line 7: \"`cc:ecosystem`, Managing Marketplaces topic\"\n  - Line 9: \"`cc:ecosystem`, Managing Permissions topic\"\n**Fix:** Replace `cc:ecosystem` with `cc:plugins` in both lines.\n\n### Finding 5: freshness-check.md references wrong path\n**Violation:** Content Quality — stale path from pre-rename\n**Current (line 8 of reference/managing-permissions/freshness-check.md):**\n```\nfind ~/.claude/plugins -path \"*/claude-code/skills/cc_managing-permissions/.state\" 2\u003e/dev/null | head -1\n```\nAnd overview.md line 8:\n```\nfind ~/.claude/plugins -path \"*/claude-code/skills/cc_managing-permissions/.state\" 2\u003e/dev/null | head -1\n```\nThese reference \"cc_managing-permissions\" which is the old skill directory name. The skill is now at cc_plugins.\n**Fix:** Update the path in both files. The .state file convention should reference the current skill directory name. Replace `cc_managing-permissions` with the appropriate current path, or remove the freshness check if the .state mechanism is no longer in use.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:05:34.487183-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:00.832198-05:00","closed_at":"2026-01-29T14:01:00.832198-05:00","close_reason":"Fixed: Deduplicated managing-marketplaces (stripped CLI ref, CRITICAL, scoping, REPL, known bugs; added cross-ref to managing-plugins). Moved Why This Matters from team-detection.md to DESIGN.md. Fixed 2x cc:ecosystem→cc:plugins refs. Fixed 2x cc_managing-permissions→cc_plugins stale paths."}
{"id":"dotfiles-25v","title":"Implement flo:next:swarm skill","description":"Implement the flo:next:swarm skill — parallel execution mode for flo:next that replaces beads:fanout.\n\nFull design doc also at: docs/plans/2026-02-01-flo-next-swarm-design.md\n\n---\n\n# flo:next:swarm — Design\n\n## Problem\n\n`flo:next` advances an epic one bead at a time — sequential, single-agent. For epics with many independent beads, this is unnecessarily slow. The existing `beads:fanout` skill addresses parallel execution but lives outside the flo namespace, doesn't share flo's infrastructure (`.flo/state.yml`, `resolve.sh`, epic context loading), and lacks flo:next's core safety properties (chain tracing, downstream integrity checking).\n\n## Decision: Merge Into Flo\n\n`flo:next:swarm` replaces `beads:fanout` entirely. Both assume epic-scoped work, so there's no gap. `beads_fanout/` gets deleted.\n\n## Naming\n\nThe flo execution skills use `flo:next` as the \"advance progress\" verb. The execution mode is a suffix:\n\n    flo:next            → advance one bead (sequential, existing)\n    flo:next:swarm      → advance many beads in parallel (new)\n\nCC supports triple-colon skill names (name:sub:sub).\n\n## Invocation\n\n    flo:next:swarm                          → prompt user for wave depth\n    flo:next:swarm --waves all              → full remaining epic, no prompt\n    flo:next:swarm --waves 2                → two waves deep, no prompt\n    flo:next:swarm --commit false           → agents don't commit; one dirty dir at end\n    flo:next:swarm --waves all --commit false\n\n| Flag | Accepts | Default | Description |\n|------|---------|---------|-------------|\n| --waves | all or positive integer | (prompt) | Wave depth to swarm |\n| --commit | true or false | true | Whether subagents commit independently |\n\n## Wave Model\n\nBeads in an epic form a dependency DAG. \"Waves\" are the dependency layers:\n\n    Wave 1 (ready now):  A, B      ← no blockers\n    Wave 2 (after W1):   C, D      ← blocked by A, B respectively\n    Wave 3 (after W2):   E         ← blocked by C\n\n--waves controls how many layers of CC tasks to create, not an explicit execution boundary. CC's task system (TaskCreate + addBlockedBy) handles execution ordering natively.\n\n### Wave Selection UX\n\nWhen invoked without --waves, present waves to the user:\n\n1. Compute waves via scripts/waves.sh \u003cepic-id\u003e (shell script — queries bd for children + deps, outputs structured wave layers; zero in-context token cost)\n2. Show the dependency graph (bd graph \u003cepic\u003e --compact)\n3. Show each wave with its beads\n4. AskUserQuestion: \"How many waves to swarm?\" with options like Wave 1 only, Waves 1-2, All 3 waves\n\n### Wave Computation Script\n\nscripts/waves.sh \u003cepic-id\u003e — a shell script that:\n1. Lists open children of the epic (bd show \u003cepic\u003e --children)\n2. For each child, queries its blockedBy relationships\n3. Assigns wave numbers: beads with no blockers = wave 1, beads blocked only by wave 1 = wave 2, etc.\n4. Outputs structured wave data (JSON or formatted text) for the orchestrator to present\n\nSame pattern as flo_next/scripts/context.sh — keeps graph traversal out of the agent's context window.\n\n## Execution Architecture\n\n### Orchestrator Responsibilities\n\nThe orchestrator (current CC session) handles:\n\n1. Context loading — resolve epic, load context once via context.sh, read design docs\n2. Wave computation — run scripts/waves.sh \u003cepic-id\u003e, apply --waves depth filter\n3. Task creation — one TaskCreate per bead (up to wave depth), mirror bead deps with addBlockedBy\n4. Dispatch — CC automatically dispatches subagents for unblocked tasks\n5. Wrap-up — downstream integrity check, epic status, sync, push\n\nNo sizing gate — beads created via flo:add already passed the sizing heuristic. If a bead bypassed flo:add and is too large, the subagent failure handling catches it.\n\nThe orchestrator's own context is thin: epic context + task management. It should be invoked early in a session or as a fresh session, not after heavy exploration.\n\nScripts:\n- scripts/waves.sh — wave computation (new)\n- flo_shared/resolve.sh — epic resolution (shared with flo:next, flo:add, flo:review)\n- flo_next/scripts/context.sh — epic context loading (shared with flo:next)\n\n### Subagent Briefings (Orchestrator-Curated)\n\nThe orchestrator loads all bead bodies upfront to build focused per-agent briefings. This costs tokens proportional to (bead count × description size), but the payoff is:\n\n- Orchestrator has a holistic view of the epic's work surface\n- Can provide better briefings (knows sibling context, can warn about adjacencies)\n- After swarm completes, orchestrator already understands what was done — makes the downstream integrity check and wrap-up intelligent\n- If work continues after swarm (e.g., sequential flo:next for remaining beads), the orchestrator has full context to continue\n\nEach subagent's briefing includes:\n- Bead ID and full body (inlined — no bd show round-trip)\n- Predecessor close reason (what was built before this bead)\n- Relevant design doc excerpt (if applicable)\n- Commit instructions (parallel-safe pathspec mode from git:parallel-commit) — only if --commit true\n- Bead close instructions (bd close \u003cid\u003e --reason=\"...\")\n- Constraint: \"Only modify files relevant to this bead. Other agents are running concurrently.\"\n\n### Communication Model: Beads as the Channel\n\nSubagents do NOT need to pass results back to the parent via Task return values. The bead system is the communication channel:\n\n- Subagent's job: Do the work → commit (if --commit true) → bd close \u003cid\u003e --reason=\"what was actually built\". That's it.\n- Parent's job at wrap-up: Read close reasons from bd show for each bead. The close reason IS the result.\n- Task return value: Minimal — just a success/failure signal. The meaningful content lives in the bead's close reason.\n\n### CC Task System as Execution Engine\n\nCC's task system IS the execution engine:\n- TaskCreate with addBlockedBy wires the DAG\n- CC automatically works through tasks, respecting dependency ordering\n- Subagents are dispatched via Task(general-purpose, run_in_background: true)\n- When a task completes, CC picks up newly unblocked tasks\n\nNo explicit polling loop or wave boundary logic needed.\n\n## Subagent Failure: Context Limit\n\nSubagents do not compact. They hit the 200k token wall and exit non-zero. No recovery, no compaction cycle.\n\nReference: https://www.reddit.com/r/ClaudeCode/comments/1pz84yw/will_task_subagents_or_any_subagents_autocompact/\n\nThis creates a hard constraint: swarm beads must complete within a single 200k subagent window. This is tighter than flo:next's budget (~165k with compaction recovery available).\n\n### Failure Handling\n\n1. Detection — Subagent exits non-zero → bead not closed (no --reason). Orchestrator detects unclosed bead.\n2. Graceful report — Orchestrator tells user: \"Bead X's agent hit context limit. Bead stays in_progress (claimed, unclosed). Downstream beads remain blocked.\"\n3. User decides — Decompose with flo:add and re-swarm, or handle sequentially with flo:next (which has compaction recovery).\n\nNo preventive sizing gate — beads created via flo:add already passed the sizing heuristic at creation time.\n\n## Hooks in Subagents\n\nHooks behave differently in subagents vs. the parent session:\n\n| Hook | In parent | In subagent |\n|------|-----------|-------------|\n| PreToolUse / PostToolUse | fires | fires |\n| Stop | fires | Converted to SubagentStop (fires on parent) |\n| SubagentStart | fires (can inject additionalContext) | N/A |\n| SubagentStop | fires | N/A |\n| PreCompact | fires | subagents don't compact |\n| SessionStart(compact) | fires | subagents don't compact |\n\n### Plugin Hooks in Subagents\n\nTested empirically: SessionStart hooks do NOT fire inside Task subagents. The beads plugin's bd prime hook (which injects session close protocol) does not run in subagents.\n\nThis is desirable for swarm — the bd prime session close protocol tells agents to git commit, git push, bd sync before finishing, which would conflict with the orchestrator-managed wrap-up. Subagents instead receive only the orchestrator's focused briefing as their sole instruction source.\n\nSubagents DO receive:\n- Standard CC system prompt\n- CLAUDE.md and rules files (including beads-close-discipline.md)\n- Git status snapshot\n\nSubagents do NOT receive:\n- bd prime output (session close protocol, beads workflow context)\n- Any SessionStart hook output\n\nCustom subagent hooks can be configured via agent frontmatter if needed — see https://code.claude.com/docs/en/sub-agents#define-hooks-for-subagents\n\n## Downstream Integrity Check\n\nflo:next's core safety property: when a bead's close reason diverges from its body, check downstream beads for cascading implications.\n\nIn swarm mode, this check runs once at wrap-up (not per-agent). After all subagents complete:\n\n1. For each closed bead, compare close reason against original body\n2. If any diverge, check downstream beads (bd dep tree \u003cid\u003e --direction=up --status open)\n3. Report findings to user\n4. If downstream beads are affected but not yet executed (later waves), update them before next wave or flag for user decision\n\n## Git Commit Mode (--commit)\n\n### --commit true (default)\n\nEach subagent commits its own work using pathspec mode — the critical mechanism that prevents staging area cross-contamination when multiple agents run concurrently:\n\n    git add \u003cnew-files\u003e                          # only needed for untracked files\n    git commit -m \"\u003cbead title\u003e: \u003csummary\u003e\" -- \u003call changed files\u003e  # --only mode via pathspec\n\nThe -- \u003cpaths\u003e suffix triggers git's --only mode: it commits exactly the listed files regardless of what's in the staging area.\n\nindex.lock retry: If git commit fails with an index.lock error (another agent is mid-commit), sleep 1 second and retry up to 3 times.\n\nNon-overlapping files required: Parallel commits are safe only when agents touch disjoint file sets. The orchestrator warns if beads might touch the same files and suggests running those sequentially.\n\nRequired sub-skill: git:parallel-commit\n\n### --commit false\n\nSubagents do the work and close beads but do not commit. All changes accumulate as a dirty working directory. The orchestrator (or user) handles a single commit at wrap-up.\n\nUse cases:\n- Cleaner git history (one commit per swarm run rather than N per-bead commits)\n- User wants to review the combined diff before committing\n\nIn this mode, the parallel commit sub-skill is not used, and the subagent briefing omits commit instructions. The wrap-up protocol includes staging and committing all changes as one commit.\n\n## Wrap-Up Protocol\n\nAfter all tasks complete:\n\n1. Check for failed beads (unclosed, agent exited non-zero)\n2. Read close reasons from bd show for each closed bead\n3. Run downstream integrity check on all closed beads\n4. If --commit false: stage all changes and commit as one (git add \u003cfiles\u003e \u0026\u0026 git commit -m \"feat: \u003cepic summary\u003e\")\n5. Check epic completion: bd epic status\n6. If all children done: bd epic close-eligible\n7. bd sync\n8. git push\n\n## Relationship to Flo Suite\n\n| Skill | Verb | Mode | Concurrency |\n|-------|------|------|-------------|\n| flo:add | Create | Planning | N/A |\n| flo:next | Advance | Sequential | 1 agent, compaction-safe |\n| flo:next:swarm | Advance | Parallel | N agents, no compaction |\n| flo:review | Verify | QA | N/A |\n\nflo:next and flo:next:swarm share: epic resolution (.flo/state.yml), context.sh, design doc reading, downstream integrity checking. They differ in: execution mode, compaction behavior, agent briefing strategy.\n\n## Deliverables\n\n1. Create claude/skills/flo_next_swarm/ with SKILL.md (the skill document)\n2. Create claude/skills/flo_next_swarm/scripts/waves.sh (wave computation script)\n3. Delete claude/skills/beads_fanout/ (replaced entirely)","status":"in_progress","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T22:52:20.616118-05:00","created_by":"Jason Kuhrt","updated_at":"2026-02-01T23:03:59.406396-05:00","labels":["skill"]}
{"id":"dotfiles-33i","title":"Fix apple-shortcuts skill quality issues","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/apple-shortcuts/SKILL.md\n\n## Findings\n\n### 1. SKILL.md is not thin -- 188 lines with no reference files (Structure)\n**Violates:** \"SKILL.md is thin — defers to reference files for details (progressive disclosure)\"\n\nThe skill is 188 lines and contains substantial content that should be extracted to reference files. Specifically:\n- \"Extension Apps\" table + installation instructions (lines 82-112) could be a reference file\n- \"Shortcuts Database Schema\" SQL examples (lines 147-165) could be a reference file\n- \"Wrapped iOS Apps on Mac\" section (lines 130-146) is reference material\n\n**Proposed fix:** Extract sections over 100 lines of combined content into a `reference/` subdirectory. Keep SKILL.md to ~60 lines with core workflow (CLI usage, discovering actions, persistent config) and cross-references to reference files.\n\n### 2. \"Key Learnings\" is a justification/summary section (Token Efficiency)\n**Current text (lines 174-181):**\n```\n## Key Learnings\n\n1. **Shortcuts are signed** - macOS requires signed `.shortcut` files for import\n2. **Actions come from apps** - Install extension apps to get more actions\n3. **ToolKit database is truth** - Query it to discover available actions and parameters\n4. **URL schemes work everywhere** - Trigger shortcuts from CLI, scripts, other apps\n5. **Wrapped iOS apps exist** - Some \"Mac\" apps are actually iOS apps in disguise\n6. **Use JSON for config** - Store persistent data in `iCloud Drive/dotfiles/shortcuts/config.json`, not extension apps like Data Jar. This gives CLI access via `shortcuts-config` and works cross-platform.\n```\n\n**Violates:** \"No 'Why X' justification sections or decorative content\"\n\nThis section repeats information already covered in the body above it.\n\n**Proposed fix:** Delete the \"Key Learnings\" section entirely.\n\n### 3. \"Do not use Data Jar\" justification block (Token Efficiency)\n**Current text (lines 75-79):**\n```\n**Do not use Data Jar or similar apps.** JSON gives:\n- Direct CLI access (`jq`, `shortcuts-config`)\n- Version controllable (symlink to git repo)\n- No app dependency\n- Cross-platform (iOS Files app can read it too)\n- Claude Code can read/write directly\n```\n\n**Violates:** \"No 'Why X' justification sections or decorative content\"\n\n**Proposed fix:** Reduce to a single line:\n```\nPrefer JSON over Data Jar — gives CLI access (`jq`, `shortcuts-config`), version control, and no app dependency.\n```\n\n### 4. Duplicate content with cherri skill (Token Efficiency)\n**Current text (lines 33-49):** \"Discovering Available Actions\" section with the analyze-shortcuts-actions.fish script usage is duplicated almost verbatim in the cherri skill (lines 206-218).\n\n**Violates:** \"No redundant content repeated across files\" and \"Cross-references other skills instead of duplicating their content\"\n\n**Proposed fix:** Keep the canonical version in apple-shortcuts (since it's about the Shortcuts platform, not Cherri specifically). In the cherri skill, replace the duplicate with:\n```\nSee the `apple-shortcuts` skill for discovering available actions via the ToolKit database.\n```\n\n### 5. Cross-reference format (CSO)\n**Current text (line 169-173):**\n```\n## Integration with Cherri\n\nSee the `cherri` skill for:\n- Writing shortcuts as code\n- Raw action syntax for third-party apps\n- Known extension app patterns\n```\n\n**Violates:** \"Cross-references use 'REQUIRED SUB-SKILL: name' format, not @ links\"\n\n**Proposed fix:**\n```\n## Integration with Cherri\n\nREQUIRED SUB-SKILL: cherri — for writing shortcuts as code, raw action syntax, and extension app patterns.\n```","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:47.995516-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:02.204782-05:00","closed_at":"2026-01-29T14:02:02.204782-05:00","close_reason":"Fixed: Extracted extension apps, database schema, wrapped iOS apps to reference/. Moved Key Learnings and Data Jar rationale to DESIGN.md. Condensed Data Jar justification to one line. Fixed cherri cross-reference format to REQUIRED SUB-SKILL. Cherri duplicate was already removed by prior session.","dependencies":[{"issue_id":"dotfiles-33i","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:03:52.148387-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-36p","title":"Fix running-binaries skill quality issues","description":"## Skill Path\nclaude/skills/running-binaries/SKILL.md\n\n## Findings\n\n### 1. description does not start with \"Use when...\" (violates: description starts with \"Use when...\")\n\n**Current:** `description: How to run Node.js package binaries with npm/pnpm/npx. Use when installing global packages, running CLI tools, or configuring editor formatters.`\n\nThe description starts with a summary sentence \"How to run Node.js package binaries with npm/pnpm/npx\" before the trigger conditions.\n\n**Fix:** `description: Use when installing global packages, running CLI tools, configuring editor formatters, or debugging npm/pnpm/npx binary resolution. Covers the npm vs pnpm exec matrix and global prefix setup.`\n\nFile: claude/skills/running-binaries/SKILL.md, line 3\n\n### 2. SKILL.md is not thin (violates: SKILL.md is thin — defers to reference files for details)\n\n**Current:** SKILL.md is 166 lines with all content inline: architecture diagrams, bootstrap flow, the full binary resolution matrix, key insights, recommendations, common mistakes, summary table, and references. No reference files exist.\n\n**Fix:** Extract heavy content into reference files:\n- Create `reference/resolution-matrix.md` — move \"The Matrix\" section (lines 53-76), \"Common mistakes\" section (lines 118-148), and \"Summary table\" (lines 151-158)\n- Create `reference/architecture.md` — move \"Architecture\" section (lines 28-51) including the PATH diagram, tool table, and bootstrap flow\n\nKeep in SKILL.md: the CRITICAL warning (lines 8-10), a brief summary of the key insight (npm prefix), and pointers to reference files. Target: SKILL.md under ~40 lines.","status":"closed","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:42.688702-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:03:17.602756-05:00","closed_at":"2026-01-29T14:03:17.602756-05:00","close_reason":"Fixed: Extracted Architecture and Resolution Matrix to reference files. SKILL.md now thin (~30 lines) with CRITICAL section and cross-references. Description rewrite already done.","dependencies":[{"issue_id":"dotfiles-36p","depends_on_id":"dotfiles-rog.4","type":"blocks","created_at":"2026-01-29T01:03:42.691187-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-36y","title":"Apply gh_ namespace to gh-* and merge pr-* under gh_","description":"Rename all gh-* skill directories and merge pr-* skills under the gh_ namespace.\n\ngh-* skills (dir rename + frontmatter update):\n- gh-cli → gh_cli (gh:cli)\n- gh-ci-action-ts → gh_ci-action-ts (gh:ci-action-ts)\n- gh-issue-read → gh_issue-read (gh:issue-read)\n- gh-pr-comment-write → gh_pr-comment-write (gh:pr-comment-write)\n\npr-* → gh_ (namespace change + dir rename):\n- pr-ai-reviewers → gh_pr-ai-reviewers (gh:pr-ai-reviewers)\n- pr-checks → gh_pr-checks (gh:pr-checks)\n- pr-resolve-review → gh_pr-resolve-review (gh:pr-resolve-review)\n- pr-test-resolve-review → gh_pr-test-resolve-review (gh:pr-test-resolve-review)\n\nFor each skill:\n1. Rename directory\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:16.056747-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.226857-05:00","closed_at":"2026-01-27T22:48:57.226857-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-36y","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:28.040287-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-3l9","title":"Fix tally skill quality violations","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/tally/SKILL.md (142 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/tally/reference/api-research.md (76 lines)\n\n## Findings\n\n### 1. SKILL.md is not thin (Structure violation)\nSKILL.md is 142 lines with all operations, examples, URL prefill docs, key URLs, and \"When to Use\" inline. Should defer heavy content to reference files.\n\n**Fix:** Extract the Operations section (Discover Form Fields + Submit to Form), URL Prefill section, and Key URLs into reference files. SKILL.md should contain only a brief description, the two operation names with one-liner summaries, and links to reference files.\n\n### 2. \"When to Use This Skill\" section duplicates frontmatter description (Token Efficiency violation)\nLines 130-137 have a \"When to Use This Skill\" table that restates triggering conditions already in the frontmatter `description`.\n\n**Fix:** Delete the entire \"When to Use This Skill\" section (lines 130-137). The frontmatter description already covers this.\n\n### 3. Duplicate URL Prefill content across SKILL.md and reference file (Token Efficiency violation)\nSKILL.md lines 103-114 explain URL prefill. reference/api-research.md lines 42-49 also explains URL prefill with the same information.\n\n**Fix:** Remove URL Prefill from SKILL.md entirely. It already exists in reference/api-research.md. If needed, add a cross-reference link.\n\n### 4. Reference file has a \"Conclusion\" section (Token Efficiency violation)\nreference/api-research.md lines 70-76 has a narrative \"Conclusion\" section that restates what the skill already covers.\n\n**Fix:** Delete the \"Conclusion\" section from reference/api-research.md. The \"Summary\" at the top already covers the key point.\n\n### 5. Fill-in-the-blank code examples (Content Quality violation)\nLines 22-27 (WebFetch example) and 40-48 (output template) use placeholders like `\u003cform name\u003e`, `\u003clabel\u003e`. These are template patterns, not runnable examples.\n\n**Fix:** The real example at lines 50-60 (Ref doc request form) is good. Remove the generic template versions and keep only the concrete Ref form example. The concrete example demonstrates the pattern better than a fill-in-the-blank template.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:43.636013-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:14.030044-05:00","closed_at":"2026-01-29T14:01:14.030044-05:00","close_reason":"Fixed: Extracted operations to reference/operations.md, removed When to Use section (duplicates frontmatter), removed URL Prefill duplication (already in api-research.md), deleted Conclusion from api-research.md, removed generic template examples (kept concrete Ref example). SKILL.md reduced from 142 to 29 lines."}
{"id":"dotfiles-3zv","title":"Design + implement Chrome JSON adapter","description":"Read/write Chrome bookmarks per profile. Handle Windows epoch timestamp conversion, checksum recalculation, profile directory mapping. Pure I/O adapter: BookmarkTree in, BookmarkTree out. See docs/plans/2026-02-01-bookmarks-v1-design.md.\n\n## Convention notes (from patch engine)\n- Chrome timestamps (Windows epoch microseconds) → convert to `DateTime.Utc` internally, not string/number\n- Use `Schema.DateTimeUtc` at serialization boundaries (JSON read/write)\n- Internal bookmark processing uses `HashMap`, `Option`, etc. from Effect\n- Namespace imports: `import * as \u003cNS\u003e from \"./\u003cmodule\u003e.js\"`\n- See `packages/bookmarks/CLAUDE.md` for full rules","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:39.506432Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:54:56.578781-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-3zv","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.508895Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-3zv","depends_on_id":"dotfiles-a72","type":"blocks","created_at":"2026-02-01T20:13:10.617451Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-3zv","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.473291Z","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-421","title":"Save research: OSC 8 hyperlinks and Ghostty clickable paths","description":"Save research findings from session about OSC 8 hyperlinks, Ghostty clickable file path support, and Claude Code's OSC 8 integration. This is a save-research task to be completed immediately.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:44.355363-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:24:21.617723-05:00","closed_at":"2026-01-28T17:24:21.617723-05:00","close_reason":"Research saved to .claude/research/2026-01-28-2223-osc8-hyperlinks-ghostty-clickable-paths.md"}
{"id":"dotfiles-4a9","title":"Fix pnpm skill quality issues","description":"## Skill Path\nclaude/skills/pnpm/SKILL.md\n\n## Findings\n\n### 1. description does not start with \"Use when...\" (violates: description starts with \"Use when...\")\n\n**Current:** `description: pnpm package manager patterns and gotchas. Use when running pnpm commands, configuring workspaces, or parallel script execution.`\n\nThe description starts with a summary sentence \"pnpm package manager patterns and gotchas\" before the trigger conditions.\n\n**Fix:** `description: Use when running pnpm commands, configuring workspaces, or debugging parallel script execution. Covers pnpm-specific patterns and gotchas.`\n\nFile: claude/skills/pnpm/SKILL.md, line 3","status":"closed","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:30.709314-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:48.166937-05:00","closed_at":"2026-01-29T14:00:48.166937-05:00","close_reason":"Fixed: Only finding was description rewrite, already done","dependencies":[{"issue_id":"dotfiles-4a9","depends_on_id":"dotfiles-rog.4","type":"blocks","created_at":"2026-01-29T01:03:30.715638-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-4u0","title":"Consolidate cc_* user skills into 3 router skills","description":"Merge 15 cc_* skills into 3 routers:\n- cc_authoring: writing-skills, writing-hooks, writing-rules, markers, ask-user-question, skills-tmp-dir\n- cc_ecosystem: managing-plugins, managing-mcp, managing-permissions, managing-marketplaces  \n- cc_core: internals, tasks, session-search, session-get-id, chrome-debugging, fork\n\ncc_writing-skills already has progressive disclosure (12 files). Its SKILL.md body becomes reference/writing-skills/overview.md, its reference/ files move to reference/writing-skills/.\n\nRegistry savings: ~12 entries (~550 tokens). Largest single cluster savings.","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 15 cc_* skills → 3 router skills\n\n#### Router 1: `cc_authoring/` (name: `cc:authoring`)\n\nSkills about CREATING Claude Code artifacts.\n\n**Source skills:**\n- `cc_writing-skills` — **HAS PROGRESSIVE DISCLOSURE** (11 reference files: pattern-progressive-disclosure.md, pattern-script-bundling.md, pattern-code-examples.md, tool-ask-user-question.md, tool-todo-write.md, config-frontmatter.md, config-hooks.md, config-context-fork.md, config-allowed-tools.md, limitation-output-collapse.md, feature-status-line.md)\n- `cc_writing-hooks` — single file\n- `cc_writing-rules` — single file\n- `cc_markers` — has assets/ (grep-pattern.txt)\n- `cc_ask-user-question` — single file (or check for sub-files)\n- `cc_skills-tmp-dir` — single file\n\n**Target structure:**\n```\ncc_authoring/\n├── SKILL.md\n├── reference/\n│   ├── writing-skills/\n│   │   ├── overview.md                        # Former cc_writing-skills/SKILL.md body\n│   │   ├── pattern-progressive-disclosure.md  # Existing reference file\n│   │   ├── pattern-script-bundling.md\n│   │   ├── pattern-code-examples.md\n│   │   ├── tool-ask-user-question.md\n│   │   ├── tool-todo-write.md\n│   │   ├── config-frontmatter.md\n│   │   ├── config-hooks.md\n│   │   ├── config-context-fork.md\n│   │   ├── config-allowed-tools.md\n│   │   ├── limitation-output-collapse.md\n│   │   └── feature-status-line.md\n│   ├── writing-hooks/\n│   │   └── overview.md\n│   ├── writing-rules/\n│   │   └── overview.md\n│   ├── markers/\n│   │   └── overview.md\n│   ├── ask-user-question/\n│   │   └── overview.md\n│   └── skills-tmp-dir/\n│       └── overview.md\n├── assets/\n│   └── markers-grep-pattern.txt\n```\n\n**SKILL.md description:** `Use when creating or troubleshooting Claude Code skills, hooks, rules, markers, or AskUserQuestion calls. Covers platform gotchas, frontmatter config, progressive disclosure patterns, and known limitations.`\n\n**SKILL.md body must list ALL reference files per topic:**\n```markdown\n## Topics\n\n### Writing Skills\nPlatform gotchas and limitations for skill authoring.\n- [Overview](reference/writing-skills/overview.md)\n- [Progressive disclosure](reference/writing-skills/pattern-progressive-disclosure.md)\n- [Script bundling](reference/writing-skills/pattern-script-bundling.md)\n- [Code examples](reference/writing-skills/pattern-code-examples.md)\n- [AskUserQuestion tool](reference/writing-skills/tool-ask-user-question.md)\n- [TodoWrite tool](reference/writing-skills/tool-todo-write.md)\n- [Frontmatter config](reference/writing-skills/config-frontmatter.md)\n- [Hooks config](reference/writing-skills/config-hooks.md)\n- [Context fork](reference/writing-skills/config-context-fork.md)\n- [Allowed tools](reference/writing-skills/config-allowed-tools.md)\n- [Output collapse limitation](reference/writing-skills/limitation-output-collapse.md)\n- [Status line](reference/writing-skills/feature-status-line.md)\n\n### Writing Hooks\nHook debugging and known bugs (PreToolUse+AskUserQuestion).\n- [Overview](reference/writing-hooks/overview.md)\n\n### Writing Rules\nCreating .claude/rules/*.md files with path scoping.\n- [Overview](reference/writing-rules/overview.md)\n\n### Markers\nReviewing @claude/@c markers in code.\n- [Overview](reference/markers/overview.md)\n\n### AskUserQuestion\nSchema constraints, effectiveness patterns, known issues.\n- [Overview](reference/ask-user-question/overview.md)\n\n### Skills Tmp Dir\nConvention for skills writing temporary/local files.\n- [Overview](reference/skills-tmp-dir/overview.md)\n```\n\n#### Router 2: `cc_ecosystem/` (name: `cc:ecosystem`)\n\nSkills about MANAGING Claude Code extensions and configuration.\n\n**Source skills (verify each for sub-files before migrating):**\n- `cc_managing-plugins` — check for sub-files\n- `cc_managing-mcp` — check for sub-files\n- `cc_managing-permissions` — check for sub-files\n- `cc_managing-marketplaces` — check for sub-files\n\n**Target structure:**\n```\ncc_ecosystem/\n├── SKILL.md\n├── reference/\n│   ├── plugins/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── mcp/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── permissions/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── marketplaces/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when installing/managing Claude Code plugins, configuring MCP servers, setting permissions/allow-deny rules, or working with marketplace internals. Covers CLI commands, scoping, worktree behavior, and known bugs.`\n\n#### Router 3: `cc_core/` (name: `cc:core`)\n\nSkills about UNDERSTANDING and USING Claude Code.\n\n**Source skills (verify each for sub-files before migrating):**\n- `cc_internals` — check for sub-files\n- `cc_tasks` — has sub-files (details.md, references.md)\n- `cc_session-search` — check for sub-files\n- `cc_session-get-id` — single file\n- `cc_chrome-debugging` — check for sub-files\n- `cc_fork` — check for sub-files\n\n**Target structure:**\n```\ncc_core/\n├── SKILL.md\n├── reference/\n│   ├── internals/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── tasks/\n│   │   ├── overview.md\n│   │   ├── details.md\n│   │   └── references.md\n│   ├── session-search/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── session-get-id/\n│   │   └── overview.md\n│   ├── chrome-debugging/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── fork/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when asking how Claude Code works internally, managing tasks (TaskCreate/TaskUpdate), searching session history, getting session IDs, debugging Chrome extension issues, or forking parallel agents.`\n\n### Execution Steps\n\n1. For each of the 3 routers:\n   a. Create the new directory and SKILL.md with frontmatter + topic sections\n   b. For each source skill, read its directory contents (check for sub-files!)\n   c. Single-file skills: body → `reference/\u003ctopic\u003e/overview.md`\n   d. Multi-file skills: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, sub-files → `reference/\u003ctopic\u003e/`\n   e. List ALL reference files in the router SKILL.md under their topic section\n2. Delete all 15 old `cc_*` directories\n3. Verify each router: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`cc_authoring`, `cc_ecosystem`, `cc_core`)\n- Frontmatter name: colon delimiter (`cc:authoring`, `cc:ecosystem`, `cc:core`)\n- Topic subdirs: kebab-case matching former skill name without `cc_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:12.713544-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.795322-05:00","closed_at":"2026-01-28T15:07:10.795322-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-4wo","title":"Resolve rule: No Direct CC JSON Edits","description":"Decide where this draft rule belongs — bring into active rules, fold into a skill, or delete.\n\n## Draft Content\n\n**FORBIDDEN**: Never directly edit Claude Code's internal JSON files (`installed_plugins.json`, `settings.json`, `known_marketplaces.json`, `sessions-index.json`, etc.).\n\nThese files are managed by CC's CLI commands (`/plugin`, `/settings`, etc.). Direct edits can:\n- Produce invalid state that CC doesn't recognize\n- Be silently overwritten by the next CLI operation\n- Break plugin loading in ways that are hard to debug\n\n### What to Do Instead\n\n| Goal | Use |\n|------|-----|\n| Install/remove plugins | `/plugin install`, `/plugin remove` |\n| Change settings | `/settings`, or edit `.claude/settings.json` (the project one, not internal) |\n| Manage marketplaces | `/plugin marketplace` |\n\nIf a CLI command has a bug (e.g., scope detection), work around it at the CLI level or file an issue. Don't patch the JSON.\n\n### Exception: Manifest Corruption\n\nWhen the CLI itself is broken (e.g., `uninstall` can't find a plugin that `list` shows, cache directories missing on disk), editing JSON directly is acceptable as a **last resort**. Validate after: `jq empty ~/.claude/plugins/installed_plugins.json`\n\n### Frontmatter (paths scope)\n\n```yaml\npaths:\n  - \"**/.claude/**/*.json\"\n  - \"~/.claude/**/*.json\"\n```","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:35:47.068936-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:35:47.068936-05:00","labels":["rule"]}
{"id":"dotfiles-4wv","title":"Fix writing-specs skill quality issues","description":"## Files Reviewed\n\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/writing-specs/SKILL.md (128 lines)\n\n## Findings\n\n### 1. \"Why X\" justification sections violate token efficiency (Token Efficiency checklist)\n\nCurrent (lines 56-66) \"The Cost of Translation\" section:\n  Each translation introduces drift (Evans, 2003):\n  Business language -\u003e Analyst interpretation -\u003e Developer interpretation -\u003e Code\n  ...\n  By the time code ships, it may solve a different problem than intended. Gherkin specs fix this by becoming the authoritative vocabulary - no translation, just transcription.\n\nAlso (lines 68-74) \"The Spec as Domain Model\" section:\n  A well-written Gherkin spec functions as a lightweight domain model:\n  - Entities emerge as nouns used consistently (filter, thread, chip, footer)\n  - Behaviors emerge as scenario descriptions (activation, clearing, snapshot)\n  - Relationships emerge from how terms compose (filter chip, filter footer, filter state)\n\nViolation: \"No 'Why X' justification sections or decorative content\" and \"No tutorial-style narrative or storytelling\"\n\nFix: Delete \"The Cost of Translation\" subsection entirely (lines 56-66). Collapse \"The Spec as Domain Model\" into a one-line note under the Ubiquitous Language heading: \"Well-written specs reveal entities (nouns), behaviors (scenario names), and relationships (composing terms).\"\n\n### 2. Cross-reference format wrong (CSO checklist)\n\nCurrent (line 125-126):\n  - writing-gherkin skill - Gherkin DSL syntax, structure, validation\n\nViolation: \"Cross-references use 'REQUIRED SUB-SKILL: name' format, not @ links\"\n\nFix: Replace with:\n  REQUIRED SUB-SKILL: writing-gherkin - Gherkin DSL syntax, structure, validation\n\nAlso line 33 says \"Invoke writing-gherkin skill for syntax.\" -- this is an inline invocation instruction which is fine, but should additionally have the REQUIRED SUB-SKILL format in the Reference section.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:22.089562-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:57.282697-05:00","closed_at":"2026-01-29T14:01:57.282697-05:00","close_reason":"Fixed: Moved 'The Cost of Translation' and 'The Spec as Domain Model' to DESIGN.md, collapsed into one-liner in SKILL.md, fixed cross-reference to REQUIRED SUB-SKILL format","dependencies":[{"issue_id":"dotfiles-4wv","depends_on_id":"dotfiles-rog.6","type":"blocks","created_at":"2026-01-29T01:03:22.101701-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-51h","title":"Consolidate research_* user skills into single router skill","description":"Merge 4 research_* skills (write, prune, format, flush-cc-thread) into single research router skill. All are single-file SKILL.md skills — straightforward merge. Each becomes a section in the router or a reference file.\n\nRegistry savings: ~3 entries (~140 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/`\n\n### Plan: 4 research_* skills → 1 router skill\n\n#### Router: `research/` (name: `research`)\n\n**Source skills:**\n- `research_write` — creating, importing, sorting, archiving research files\n- `research_prune` — removing conversational artifacts from research files\n- `research_format` — standardizing formatting, enriching GitHub links\n- `research_flush-cc-thread` — preserving learnings before context loss\n\nAll are single-file SKILL.md skills (no progressive disclosure).\n\n**Target structure:**\n```\nresearch/\n├── SKILL.md\n├── reference/\n│   ├── write/\n│   │   └── overview.md\n│   ├── prune/\n│   │   └── overview.md\n│   ├── format/\n│   │   └── overview.md\n│   └── flush-cc-thread/\n│       └── overview.md\n```\n\n**SKILL.md description:** `Use when working with .claude/research files — creating, importing, formatting, pruning conversational artifacts, or flushing session learnings before context loss. Covers research file lifecycle.`\n\n**Alternative (if all 4 source skills are short):** If each source SKILL.md body is under ~80 lines, consider inlining all 4 directly into the router SKILL.md as sections instead of using reference files. This avoids unnecessary indirection for small content. Use reference files only if the combined content would exceed 500 lines.\n\n### Execution Steps\n\n1. Read all 4 source SKILL.md files\n2. Assess total line count — if \u003c 500 combined, inline as sections; otherwise use reference files\n3. Create `research/` directory and SKILL.md\n4. Delete all 4 old `research_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all content accessible\n\n### Naming Conventions\n\n- Directory: `research/`\n- Frontmatter name: `research`\n- Topic subdirs (if used): kebab-case matching former skill name without `research_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:17.407058-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.863496-05:00","closed_at":"2026-01-28T15:07:10.863496-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-54h","title":"QA refactor pass: lint, type checks, CI hooks, and code quality for shan","description":"## Summary\n\nComprehensive quality pass on `packages/shan/` to establish a proper check pipeline, eliminate duplication, and wire checks into CC's workflow for automated enforcement.\n\n## Context\n\nShan has grown from a single transcript dump command to a multi-namespace CLI (transcript + task) with 11 source files and no automated quality checks. Several patterns were copied-then-modified during feature work, creating duplicated logic and inconsistent approaches.\n\n## Deliverables\n\n### 1. Check Scripts in package.json\n\nAdd scripts to `packages/shan/package.json`:\n\n- `typecheck` — `tsc --noEmit`\n- `lint` — biome or dprint (match dotfiles conventions)\n- `check` — runs all checks (typecheck + lint)\n\n### 2. CC Integration Hooks\n\nWire checks into Claude Code's workflow so they run automatically when working on shan:\n\n- Add `packages/shan/.claude/settings.json` (or project-level hooks) with PreCommit or PostToolUse hooks that run `bun run check` on relevant file changes\n- Consider a `.claude/rules/` file scoping shan-specific conventions (Effect patterns, Bun APIs, etc.)\n\n### 3. Deduplicate Shared Logic\n\nSeveral modules duplicate core concepts:\n\n- **Project directory encoding** — `toClaudeProjectDir` in `session-picker.ts` and inline `cwd.replace(/[/.]/g, \"-\")` in `task-resolver.ts`. Extract to a shared `claude-paths.ts` module.\n- **Current session ID** — `getCurrentSessionId()` exists in both `session-resolver.ts` and `task-resolver.ts` with identical implementations. Extract to shared module.\n- **Session discovery for project scoping** — `discoverSessions()` in `session-picker.ts` and `getProjectSessionIds()` in `task-resolver.ts` both scan `~/.claude/projects/\u003cdir\u003e/` with different return types. Unify the underlying scan logic.\n\n### 4. Consistent Effect Patterns\n\n- Some helpers use raw `async/await` (`discoverSessions`, `loadTasks`, `findSessionFile`) while command-level code uses `Effect.gen`. Decide on the boundary: raw async for pure I/O helpers is fine, but document the convention.\n- Error handling mixes `try/catch` (in async helpers) with `Effect.fail` (in generators). This is acceptable but should be explicit/documented.\n\n### 5. Type Safety Cleanup\n\n- `task-picker.ts` has an `as any` cast for Clack's `select` options due to `exactOptionalPropertyTypes` strictness. Investigate if there's a cleaner workaround (Clack type augmentation or explicit option type).\n- `transcript/dump.ts` uses `as` casts for entry type narrowing (lines 37, 66-67, 71). Could use proper Schema refinements.\n\n### 6. Package Exports\n\n`package.json` exports only `./transcript-schema`. Consider adding:\n- `./task-schema` — for external consumers of task types\n- Or decide exports aren't needed and document that decision\n\n### 7. Formatter Setup\n\nNo formatter is configured. Add dprint or biome config consistent with the broader dotfiles repo. Check if the root repo already has a formatter config that should be extended.\n\n## Key Patterns to Preserve\n\n- Effect monad for all command-level composition and error handling\n- `@clack/prompts` for interactive TUI\n- Bun-native APIs (Glob, Bun.file, Bun.spawn)\n- `#!/usr/bin/env bun` shebang for direct TS execution\n- KNUTH LITERAL style (public API first, helpers last)\n\n## Out of Scope\n\n- Tests (separate issue — shan is a CLI tool where manual testing is primary)\n- New features","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T16:31:34.700669-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T16:31:34.700669-05:00","labels":["shan"]}
{"id":"dotfiles-54r","title":"Fix gh_actions skill checklist violations","description":"## Skill: gh_actions\nFiles reviewed:\n- claude/skills/gh_actions/SKILL.md\n- claude/skills/gh_actions/reference/actions/overview.md\n- claude/skills/gh_actions/reference/typescript/overview.md\n- claude/skills/gh_actions/reference/issue-read/overview.md\n\n## Findings\n\n### 1. Name contains colon (invalid character)\n**Violates:** Frontmatter — \"name uses letters, numbers, hyphens only (no parens, special chars)\"\n**Current:** `name: gh:actions`\n**Fix:** `name: gh-actions`\n\n### 2. Missing H1 heading in SKILL.md\n**Violates:** Structure — \"Document has an H1 heading (#)\"\n**Current:** File starts with `## Topics` (line 6)\n**Fix:** Add H1 heading at line 6 before `## Topics`:\n```\n# GitHub Actions\n```\n\n### 3. Description summarizes workflow instead of only triggering conditions\n**Violates:** Frontmatter — \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n**Current:** `Use when writing GitHub Actions workflows, TypeScript scripts for Actions, or reading GitHub issues/PRs via gh CLI. Covers workflow syntax, Actions TS patterns, and issue/PR data retrieval.`\n**Fix:** Remove the \"Covers...\" sentence:\n`Use when writing GitHub Actions workflows, TypeScript scripts for Actions, or reading GitHub issues/PRs via gh CLI.`\n\n### 4. Cross-reference format: writing-markdown skill reference\n**Violates:** CSO — 'Cross-references use \"REQUIRED SUB-SKILL: name\" format, not @ links'\n**Current (actions/overview.md line 35):** `**Markdown syntax**: Use \\`writing-markdown\\` skill for table/code block syntax.`\n**Fix:** `**Markdown syntax**: REQUIRED SUB-SKILL: writing-markdown`","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:45.709786-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:38.02284-05:00","closed_at":"2026-01-29T14:00:38.02284-05:00","close_reason":"Fixed: Cross-reference format in actions/overview.md now uses REQUIRED SUB-SKILL: writing-markdown"}
{"id":"dotfiles-56b","title":"Fix nodejs-subpath-imports skill quality issues","description":"## Skill Path\n- claude/skills/nodejs-subpath-imports/SKILL.md\n- claude/skills/nodejs-subpath-imports/reference/edge-cases.md\n- claude/skills/nodejs-subpath-imports/reference/cross-platform.md\n- claude/skills/nodejs-subpath-imports/reference/tool-support.md\n\n## Findings\n\n### 1. SKILL.md is not thin (violates: SKILL.md is thin — defers to reference files for details)\n\n**Current:** SKILL.md is 356 lines with extensive inline spec documentation (Spec: Syntax, Spec: Resolution Algorithm, Spec: Conditions, Spec: Restrictions, Spec: Scope sections), a full \"Complete Example\" section, and a \"Monorepo Note\" section.\n\n**Fix:** Extract these sections into reference files:\n- Move \"Spec: Syntax\", \"Spec: Resolution Algorithm\", \"Spec: Restrictions\", \"Spec: Scope\" into `reference/spec.md`\n- Move \"Spec: Conditions\" into the existing `reference/cross-platform.md` (which already covers conditions)\n- Move \"Complete Example\" and \"Monorepo Note\" into `reference/examples.md` or leave a single compact example in SKILL.md\n\nKeep in SKILL.md: the CRITICAL table, the Operations section (Debug/Migrate/Build), and brief summary pointers to reference files. Target: SKILL.md under ~80 lines.\n\n### 2. Duplicate content between SKILL.md and reference files (violates: No duplicate content between SKILL.md and reference files + No redundant content repeated across files)\n\n**Duplications found:**\n\na) **Conditions tables** — SKILL.md lines 218-236 (\"Built-in Conditions\" and \"Community Conditions\" tables) duplicate nearly identical tables in reference/cross-platform.md lines 96-118.\n\nb) **Cross-platform #fetch example** — SKILL.md lines 126-137 (\"What This Enables\" section, `#fetch` example with node/browser/default conditions) duplicates the pattern in reference/cross-platform.md lines 53-73 (External Package Substitution section).\n\nc) **Nested conditions example** — SKILL.md lines 239-249 (Nested Conditions code block) duplicates reference/cross-platform.md lines 119-136.\n\n**Fix:** When extracting spec content to reference files (finding #1), remove all duplicated conditions content from SKILL.md. The conditions tables and examples should live only in reference/cross-platform.md. SKILL.md should have at most a one-line pointer: \"See [reference/cross-platform.md](reference/cross-platform.md) for conditions reference.\"\n\n### 3. \"What This Enables\" is justification/narrative content (violates: No \"Why X\" justification sections or decorative content)\n\n**Current:** Lines 117-138 contain a \"What This Enables\" section with two subsections explaining benefits of subpath imports (runtime aliases, cross-platform code).\n\n**Fix:** Delete the \"What This Enables\" section entirely. The Operations section already demonstrates these capabilities through concrete workflows. A user invoking this skill already knows why they need subpath imports.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:23.502531-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:08.622077-05:00","closed_at":"2026-01-29T14:01:08.622077-05:00","close_reason":"Fixed: Extracted spec sections to reference/spec.md, examples to reference/examples.md, moved What This Enables to DESIGN.md, removed duplicate conditions content. SKILL.md reduced from 356 to 127 lines.","dependencies":[{"issue_id":"dotfiles-56b","depends_on_id":"dotfiles-rog.4","type":"blocks","created_at":"2026-01-29T01:03:23.504578-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-56v","title":"Improve gh PR comment viewing skill","description":"Three problems with current PR comment viewing:\n\n## 1. Output formatting for humans vs context\n\nTool output bloats context with raw JSON when human just needs readable summary.\n\nDesired output format:\n```\n@suchipi \u003cDate\u003e #650\n| I'm a little bit concerned about ESM module execution order stuff\n| (as noted here), but otherwise all the swc stuff looks good.\n```\n\nActual: Multiple gh API calls dumping 80+ line JSON blobs with truncation.\n\nSolution: Skill should use jq to format output for human readability, not raw JSON.\n\n## 2. Team member handle resolution\n\nClaude doesn't know \"lily\" → @suchipi mapping. Should:\n- Check a local state file for known name→handle mappings\n- If unknown, ask user once, then persist for future sessions\n- State file location: maybe .claude/state/github-handles.json or similar\n\n## 3. Know where to look\n\nClaude tried multiple endpoints before finding the comment:\n- .comments (issue comments)\n- /pulls/{id}/comments (line comments)\n- /pulls/{id}/reviews (review comments) ← where it actually was\n\nSkill should know the PR comment taxonomy and check the right places first, or check all three in parallel.\n\n---\nMigrated from spark: 2026-01-22-gh-pr-comment-skill-improvements.yml\nOriginal context: Asking Claude to show latest PR comment from teammate — got verbose JSON dumps instead of formatted output\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:59.146116-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:59.146116-05:00","labels":["skill"]}
{"id":"dotfiles-5cr","title":"Linear skill: replace MCPs with user-level skill + Bun TS scripts","description":"Replace all Linear MCP integrations and fragmented project-level skills with a single user-level skill backed by Bun TS scripts calling Linear's GraphQL API directly.\n\n## Context\n\nAudit found 3 problems:\n1. Two Linear MCPs configured in HB (StreamLinear + official plugin) — competing, confusing\n2. Three HB-level skills for one service (managing-linear-issues, current-linear-issue, uploading-to-linear) — fragmented\n3. Project-specific data (team members, UUIDs) hardcoded in skill prose instead of config\n\nStreamLinear's entire value is ~550 lines wrapping `fetch` to one GraphQL endpoint. No need for an MCP process, npx cold-start, or external dependency. Bun TS scripts do the same thing with zero deps.\n\nOfficial Linear MCP is closed-source, no public repo, no visible roadmap. Dead end.\n\n## Scope\n\nSpans dotfiles repo + all HB checkouts/worktrees (one-time migration).\n\n## Deliverables\n\n### 1. Create user-level skill (`~/.claude/skills/linear/`)\n\n- `SKILL.md` — unified skill with progressive disclosure\n  - Workflows: mention syntax (URL not @username), search-before-create, upload-then-embed\n  - Issue context resolution (branch → context file → search → ask)\n  - Reads project-level config for workspace-specific data\n  - References scripts for operations\n- Scripts (`scripts/`):\n  - `_linear.ts` — shared core: GraphQL fetch wrapper, ID resolution, state matching, formatters (rip from StreamLinear's linear-core.ts)\n  - `linear-search.ts` — search issues\n  - `linear-get.ts` — get issue details\n  - `linear-create.ts` — create issue\n  - `linear-comment.ts` — post comment\n  - `linear-fetch.ts` — download issue + attachments (HTTP binary, not GraphQL)\n  - `linear-upload.ts` — upload file for embed URL (HTTP binary)\n  - `linear-attach.ts` — upload file as issue attachment (HTTP binary)\n  - Or: consolidate CRUD into one `linear.ts \u003caction\u003e` entry point, keep file ops separate\n\n### 2. Design credential resolution\n\nOptions to spec out:\n- `LINEAR_API_TOKEN` env var (current, works)\n- `.env` file loading in scripts\n- `--token-cmd` pattern for 1Password / secrets managers\n- Should the skill document all three? Which is default?\n\n### 3. Design project-level config\n\n- `.claude/linear.yaml` — workspace slug, teams (name → UUID), members (name, displayName, UUID, role)\n- Checked into git (shared team knowledge) vs gitignored vs checked-in + .local override\n- Skill reads this at invocation time\n\n### 4. Remove from HB (all checkouts/worktrees)\n\n- Delete `.mcp.json` `linear` entry (StreamLinear)\n- Remove official Linear plugin from marketplace config\n- Clean `settings.json` / `settings.local.json` / `settings.local.json.example` — remove `mcp__linear`, `mcp__linear__linear` permissions\n- Delete `managing-linear-issues/` skill\n- Delete `current-linear-issue/` skill\n- Delete `uploading-to-linear/` skill\n- Create `.claude/linear.yaml` with HB's team data\n- Update CLAUDE.md reference from `managing-linear-issues` skill to `linear` skill\n\n## Design Decisions to Make\n\n1. Script granularity: one `linear.ts \u003caction\u003e` entry point vs multiple scripts vs shared core + thin entry points\n2. Config format: YAML vs JSON vs TOML\n3. Config git policy: checked in vs gitignored vs split\n4. Credential resolution: env var only vs multi-source\n5. Progressive disclosure: what goes in SKILL.md vs what Claude discovers via `help` action in scripts\n\n## References\n\n- StreamLinear source: /tmp/streamlinear/ (cloned for review)\n- StreamLinear repo: https://github.com/obra/streamlinear\n- Linear GraphQL API: https://api.linear.app/graphql\n- HB skills being replaced: .claude/skills/managing-linear-issues/, current-linear-issue/, uploading-to-linear/\n- Research conversation: this session (464610cc-f14e-421e-b211-aeea38dbc7af)","notes":"## Design Decisions (session ce759bf7)\n\n### Resolved\n1. **Script granularity** → Graffle package (packages/linear/) + thin upload/download helpers. No individual CLI scripts — skills use Graffle client directly.\n2. **Config format** → YAML (.claude/linear.yaml)\n3. **Config git policy** → Checked in + .local override (.claude/linear.local.yaml gitignored)\n4. **Credential resolution** → Env var only (LINEAR_API_TOKEN), document 1Password/direnv alternatives in skill\n5. **Progressive disclosure** → Thin SKILL.md + reference/ files for detailed docs\n\n### Architecture\n- packages/linear/ — Graffle-generated GraphQL client + file upload/download helpers\n- 4 skills in linear_* namespace: core, managing-issues, current-issue, uploading\n- Skills = workflow knowledge; package = typed API access\n- Graffle CLI generates typed client from Linear GraphQL schema introspection","status":"closed","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T18:36:07.889764-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:08:05.964524-05:00","closed_at":"2026-01-28T01:08:05.964524-05:00","close_reason":"All 7 child beads completed: Graffle client, 4 linear_* skills, upload/download helpers, HB migration","dependencies":[{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:32:01.894572-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-ret","type":"blocks","created_at":"2026-01-28T00:32:01.973216-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:32:02.042937-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-h9m","type":"blocks","created_at":"2026-01-28T00:32:02.10921-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-ern","type":"blocks","created_at":"2026-01-28T00:32:02.183419-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-le0","type":"blocks","created_at":"2026-01-28T00:32:02.250878-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-5cr","depends_on_id":"dotfiles-fn1","type":"blocks","created_at":"2026-01-28T00:32:02.321405-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-5fj","title":"Fix gh_pr skill checklist violations","description":"## Skill: gh_pr\nFiles reviewed:\n- claude/skills/gh_pr/SKILL.md\n- claude/skills/gh_pr/reference/resolve-review/overview.md\n- claude/skills/gh_pr/reference/resolve-review/item-model.md\n- claude/skills/gh_pr/reference/resolve-review/file-view.md\n- claude/skills/gh_pr/reference/resolve-review/terminal-view.md\n- claude/skills/gh_pr/reference/resolve-review/api-reference.md\n- claude/skills/gh_pr/reference/checks/overview.md\n- claude/skills/gh_pr/reference/comment-write/overview.md\n- claude/skills/gh_pr/reference/ai-reviewers/overview.md\n- claude/skills/gh_pr/reference/test-resolve-review/overview.md\n- claude/skills/gh_pr/scripts/ (7 scripts)\n- claude/skills/gh_pr/templates/ (4 templates)\n\n## Findings\n\n### 1. Name contains colon (invalid character)\n**Violates:** Frontmatter — \"name uses letters, numbers, hyphens only (no parens, special chars)\"\n**Current:** `name: gh:pr`\n**Fix:** `name: gh-pr`\n\n### 2. Missing H1 heading in SKILL.md\n**Violates:** Structure — \"Document has an H1 heading (#)\"\n**Current:** File starts with `## Topics` (line 6)\n**Fix:** Add H1 heading at line 6 before `## Topics`:\n```\n# GitHub PR\n```\n\n### 3. Description summarizes workflow instead of only triggering conditions\n**Violates:** Frontmatter — \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n**Current:** `Use when working with GitHub PRs — resolving review comments, checking CI status, writing PR comments, triggering AI re-reviews, or running PR review integration tests. Covers gh CLI patterns and PR workflow automation.`\n**Fix:** Remove the \"Covers...\" sentence:\n`Use when working with GitHub PRs — resolving review comments, checking CI status, writing PR comments, triggering AI re-reviews, or running PR review integration tests.`\n\n### 4. Cross-reference format: flowlist skill reference in checks\n**Violates:** CSO — 'Cross-references use \"REQUIRED SUB-SKILL: name\" format, not @ links'\n**Current (checks/overview.md line 34):** `Read this flowlist using the \\`flowlist\\` skill (Reading operation).`\n**Fix:** `REQUIRED SUB-SKILL: flowlist (Reading operation)`\n\n### 5. Incorrect script paths in test-resolve-review/overview.md\n**Violates:** Content Quality — \"Code examples are complete and runnable, not fill-in-the-blank\"\n**Current (lines 26, 93, 122):**\n```bash\nSETUP_OUTPUT=$(plugins/pr/skills/test-resolve-review/scripts/setup-test-pr.sh)\nVERIFY_OUTPUT=$(plugins/pr/skills/test-resolve-review/scripts/verify-test-pr.sh --pr=\"$PR_NUMBER\")\nplugins/pr/skills/test-resolve-review/scripts/cleanup-test-pr.sh --pr=\"$PR_NUMBER\" --branch=\"$BRANCH\"\n```\n**Fix:** These paths reference a `plugins/pr/skills/` directory that does not exist. The actual script paths relative to the skill directory are `scripts/test-resolve-review-setup-test-pr.sh` etc. Fix to use relative paths from the skill root:\n```bash\nSETUP_OUTPUT=$(bash scripts/test-resolve-review-setup-test-pr.sh)\nVERIFY_OUTPUT=$(bash scripts/test-resolve-review-verify-test-pr.sh --pr=\"$PR_NUMBER\")\nbash scripts/test-resolve-review-cleanup-test-pr.sh --pr=\"$PR_NUMBER\" --branch=\"$BRANCH\"\n```\nOr use the skill-relative path convention used elsewhere in the codebase. The key issue is the `plugins/pr/skills/` prefix is stale/wrong.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:01.473869-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:39.293665-05:00","closed_at":"2026-01-29T14:00:39.293665-05:00","close_reason":"Fixed: Cross-reference format in checks/overview.md now uses REQUIRED SUB-SKILL: flowlist, fixed 3 stale script paths in test-resolve-review/overview.md"}
{"id":"dotfiles-5h1","title":"Resolve rule: Effect Ref vs effect-docs MCP guidance","description":"Decide where this draft rule belongs — bring into active rules, fold into a skill, or delete.\n\n## Draft Content\n\n### Ref vs effect-docs MCP\n\n| Aspect               | Ref                       | effect-docs                 |\n| -------------------- | ------------------------- | --------------------------- |\n| __Search precision__ | Focused, few results      | Noisy, includes API refs    |\n| __Read targeting__   | Section-level via anchors | Whole page, paginated       |\n| __Token efficiency__ | ~2k for exact section     | Full page from beginning    |\n| __API coverage__     | Prose docs                | Prose + individual API refs |\n\n__Use Ref as primary__ — it's universal and token efficient. Fall back to effect-docs only when you need specific Effect API signatures (e.g., exact type params for `Schema.decodeUnknown`).","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:35:46.203567-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:35:46.203567-05:00","labels":["rule"]}
{"id":"dotfiles-5r3","title":"Set up Helix editor for TypeScript development trial","description":"Install and configure Helix for a trial period alongside Zed. Goal: determine if selection-first editing model works for someone with deep Vim muscle memory.\n\nSteps:\n- brew install helix\n- Verify TypeScript LSP works out of box (should auto-detect)\n- Configure Ghostty split layout: CC | Helix | lazygit\n- Try for 2-3 hours of real editing work (not toy examples)\n- Evaluate against Rethinking Helix framework: does the select→act model feel like flow or friction?\n- Document findings in research file ~/.claude/research/2026-02-01-2020-editor-ide-landscape-2026-agentic-workflows.md\n\nContext: See research at ~/.claude/research/2026-02-01-2020-editor-ide-landscape-2026-agentic-workflows.md (Appendix A covers the Neovim vs Helix cognitive model deep dive). Zero config needed — Helix is batteries-included. This should be tried BEFORE the Neovim bead to avoid unnecessary setup work if Helix clicks.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T21:02:43.752269Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:02:43.752269Z","labels":["workflow"]}
{"id":"dotfiles-5sf","title":"Apply labels to existing open beads","description":"Retroactive labeling pass on ~36 open beads using .beads/labels.yml as reference. Run bd list --status=open, categorize each bead, and apply labels via bd label add.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T17:56:22.863767Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T18:05:42.188555Z","closed_at":"2026-02-01T18:05:42.188555Z","close_reason":"Applied labels to all 36 open beads using the .beads/labels.yml taxonomy. 50 total label assignments across 14 label types: skill(20), hook(2), rule(3), shan(2), linear(1), ghostty(4), tmux(1), research(3), infra(2), workflow(2), learning(5), meta(1 pre-existing). Multi-label beads include u9q(skill+shan), bls/asx(skill+ghostty), m80/x4q/do0(skill+research), pnd/e3x(ghostty+learning), qg8(tmux+learning), rtr(workflow+learning).","labels":["meta"]}
{"id":"dotfiles-6ha","title":"skill-review: starship SKILL.md too thick, needs reference extraction","description":"## Skill: starship\n**Files reviewed:** claude/skills/starship/SKILL.md (161 lines, no reference files)\n\n### Finding 1: SKILL.md is not thin (161 lines with all reference material inline)\n\n**Violates:** \"SKILL.md is thin -- defers to reference files for details (progressive disclosure)\"\n\n**Current state:** All content is in a single 161-line SKILL.md: config location, context-specific configs, module system (3 subsections), styling, prompt format, quick reference, custom modules, transient prompt, troubleshooting, theme, and files. No reference files exist.\n\n**Proposed fix:**\n1. Extract reference material into `reference/modules.md`:\n   - Module System section (lines 40-67): Disabling Modules, Module Detection, Conditional Format Strings\n   - Custom Modules section (lines 110-121)\n   - Move these ~35 lines into a single reference file\n\n2. Extract styling and prompt format into `reference/styling.md`:\n   - Styling section (lines 68-83)\n   - Prompt Format section (lines 84-99)\n   - Move these ~30 lines into a single reference file\n\n3. Replace extracted sections in SKILL.md with pointers:\n```markdown\n## References\n\n- `reference/modules.md` -- module detection, disabling, conditional formats, custom modules\n- `reference/styling.md` -- style strings, colors, modifiers, prompt format\n```\n\n4. Keep in SKILL.md (these are thin, contextual, and appropriate):\n   - Config Location table\n   - Context-Specific Configs\n   - Quick Reference (CLI commands -- compact)\n   - TransientPrompt (Fish-specific, short)\n   - Troubleshooting (compact table)\n   - Theme (short)\n   - Files (short)\n\nThis would reduce SKILL.md to ~95 lines.\n\n### Finding 2: Theme section is decorative\n\n**Violates:** \"No decorative content\"\n\n**Current text (lines 148-154):**\n```toml\n# Palette reference\n# blue: #7aa2f7    cyan: #7dcfff    green: #9ece6a\n# magenta: #bb9af7 red: #f7768e     yellow: #e0af68\n```\n\n**Proposed fix:** Move the palette reference into `reference/styling.md` alongside other styling content. In SKILL.md, just note \"Current theme: Tokyo Night\" without the color values, or remove entirely (the actual config file is the source of truth for colors).\n\nReplace lines 146-154 with:\n```markdown\n## Theme\n\nCurrent: **Tokyo Night** (colors defined in config files).\n```","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:39.90266-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:03:02.873597-05:00","closed_at":"2026-01-29T14:03:02.873597-05:00","close_reason":"Fixed: Extracted modules to reference/modules.md, styling+prompt format+palette to reference/styling.md, replaced decorative theme palette with one-liner. SKILL.md reduced from 161 to 86 lines."}
{"id":"dotfiles-6jl","title":"shan transcript print — readable conversation export","design":"# shan transcript print\n\n## Goal\n\nA new subcommand that renders Claude Code transcripts as **readable conversation logs** — clean enough for a non-technical person to follow.\n\nThe current `dump` subcommand produces a debug-oriented Markdown file (every JSONL entry as raw JSON in fenced blocks). `print` produces what you experience in the CC terminal: user messages, Claude's prose, tool calls as one-liners. No JSON, no UUIDs, no hook noise.\n\n## Design Principles\n\n1. **Default = pure chat.** Out of the box, the output reads like a chat transcript. Nothing technical unless you ask for it.\n2. **Additive layers via `--show`.** Every category of extra detail is opt-in. You compose what you need.\n3. **Paper trail is a layer, not baked in.** UUIDs, message IDs, timestamps-as-metadata — only appear with `--show trace`.\n\n## CLI Interface\n\n```\nshan transcript print [target]\nshan transcript print [target] --show results,diffs\nshan transcript print [target] --show all\n```\n\n`--show` accepts comma-separated layer names or can be repeated (`--show results --show diffs`). Both forms are equivalent.\n\nTarget resolution follows the same rules as `dump` (session ID/prefix, file path, or interactive picker).\n\n## Show Layers\n\n| Layer | What it adds |\n|---|---|\n| *(default)* | User text, Claude prose, tool call one-liners |\n| `results` | Tool result summaries beneath each tool call |\n| `diffs` | Edit diffs (old → new) for Edit/Write tool calls |\n| `thinking` | Claude's thinking blocks (extended thinking content) |\n| `trace` | Message UUIDs, entry indices, session ID header |\n| `all` | Everything above |\n\n## Entry Rendering\n\n### Included by default\n\n**User entries** — show the text content directly.\n\n```markdown\n## You\n\nCan you fix the login bug?\n```\n\n**Assistant entries (prose)** — show text blocks directly.\n\n```markdown\n## Claude\n\nI'll look into that. Let me check the auth module first.\n```\n\n**Assistant entries (tool calls)** — one-liner summaries inline in Claude's turn.\n\n```markdown\n## Claude\n\nI'll check the auth module.\n\n- **Read** `src/auth.ts`\n- **Edit** `src/login.tsx`\n- **Bash** `npm test`\n\nThe issue was a missing null check on line 42. I've fixed it and tests pass.\n```\n\nTool call summary rules:\n\n| Tool | Summary format |\n|---|---|\n| `Read` | **Read** `{file_path}` |\n| `Write` | **Wrote** `{file_path}` |\n| `Edit` | **Edited** `{file_path}` |\n| `Bash` | **Ran** `{command}` (truncated to ~80 chars) |\n| `Grep` | **Searched** for `{pattern}` |\n| `Glob` | **Searched** for `{pattern}` |\n| `WebSearch` | **Web search** `{query}` |\n| `WebFetch` | **Fetched** `{url}` |\n| `Task` | **Subagent** — {description} |\n| `LSP` | **LSP** `{operation}` on `{filePath}` |\n| Other/unknown | **{tool_name}** |\n\n### Included with `--show results`\n\nTool result summaries appear indented beneath the tool call:\n\n```markdown\n- **Bash** `npm test`\n  \u003e 12 tests passed, 0 failed\n```\n\nResult rendering: first ~200 chars of text content, or `(error)` for errors, or `(image)` for images.\n\n### Included with `--show diffs`\n\nEdit tool calls expand to show the change:\n\n```markdown\n- **Edited** `src/login.tsx`\n  ```diff\n  - if (user) {\n  + if (user != null) {\n  ```\n```\n\n### Included with `--show thinking`\n\nThinking blocks appear as blockquotes in Claude's turn:\n\n```markdown\n\u003e *thinking:* The user wants me to fix the null check issue...\n```\n\n### Included with `--show trace`\n\nA session header is added at the top:\n\n```markdown\n---\nsession: a37de901-560e-494a-be8a-298520b6c56b\nentries: 175\nexported: 2026-01-29T15:35:00Z\n---\n```\n\nEach heading gains a message index and UUID:\n\n```markdown\n## You [003] \u003c!-- uuid: abc123... --\u003e\n```\n\n### Skipped always\n\n| Entry type | Why |\n|---|---|\n| `system` | Hook payloads, system-reminders — internal machinery |\n| `progress` | Hook execution progress — not conversation |\n| `file-history-snapshot` | File state tracking — not conversation |\n| `queue-operation` | Queue management — not conversation |\n\n### Special: `summary` (compaction)\n\nRendered as a divider:\n\n```markdown\n---\n*Earlier context was summarized.*\n\n---\n```\n\n## Turn Collapsing\n\nConsecutive assistant entries are merged into one turn. In the raw JSONL, a single \"Claude turn\" may span multiple entries (assistant text → user tool_results → assistant continuation). The print command should collapse these into a single `## Claude` section with interleaved prose and tool calls, matching the terminal experience.\n\n## Output\n\nWritten to `.claude/transcripts/{sessionId}.print.md` (parallel to `dump`'s `.transcript.md`).\n\n## Implementation\n\n### New file: `packages/shan/src/bin/transcript/print.ts`\n\nCore structure:\n\n1. Parse `--show` flags into a `Set\u003cLayer\u003e` where Layer = `results` | `diffs` | `thinking` | `trace` | `all`\n2. Read and parse JSONL (reuse `parseLine` + `TranscriptEntry` schema from dump.ts — extract to shared lib if needed)\n3. Walk entries, skip non-conversation types\n4. Render each entry through layer-aware formatters\n5. Collapse consecutive assistant turns\n6. Write output\n\n### Changes to existing files\n\n- `packages/shan/src/bin/shan.ts` — add `print` command routing, update USAGE\n- Possibly extract shared JSONL parsing from `dump.ts` into a shared module\n\n### Files added\n\n- `packages/shan/src/bin/transcript/print.ts` — the new subcommand\n\n## Future Possibilities (not in scope)\n\n- `--show system` layer for system entries\n- `--show hooks` layer for progress/hook entries\n- `--format html` for styled HTML output\n- Piping to stdout instead of file","status":"closed","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-30T01:32:22.856236Z","created_by":"Jason Kuhrt","updated_at":"2026-01-30T22:16:53.781027Z","closed_at":"2026-01-30T22:16:53.781027Z","close_reason":"Implemented transcript print with --show layers"}
{"id":"dotfiles-6lb","title":"Create gh_actions skill with GitHub Actions conventions","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:41:49.536106-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:44:09.642626-05:00","closed_at":"2026-01-28T13:44:09.642626-05:00","close_reason":"Created gh_actions skill at claude/skills/gh_actions/SKILL.md with naming conventions, log group rules, and job summary guidelines. Tested with subagent baseline comparison."}
{"id":"dotfiles-6vu","title":"Package manager skill: lock conflicts and monorepo patterns","description":"Create a skill that teaches effective package manager usage.\n\n## Lock file conflict resolution\nUse built-in CLI features (not git checkout tricks):\n- npm: npm install --package-lock-only\n- pnpm: pnpm install --lockfile-only\n- yarn: yarn install --mode update-lockfile\n\nClaude bombed this by trying git checkout --theirs package-lock.json \u0026\u0026 npm install.\n\n## Monorepo: overrides vs root deps\n\nOverrides are better than moving runtime deps to workspace root because packages must be self-contained.\n\n| Approach     | How it works                                      | Self-contained? |\n|--------------|---------------------------------------------------|-----------------|\n| Root runtime | Put react at root, packages inherit via hoisting  | No              |\n| Overrides    | Each package declares deps, override forces version| Yes             |\n\nWhy self-containment matters:\n- Packages can be extracted to own repo\n- Clear dependency graphs\n- Works with pnpm deploy / publishing\n- Easier auditing\n\nWhen to use each:\n| Use case                       | Solution                                           |\n|--------------------------------|----------------------------------------------------|\n| Runtime deps (react, lodash)   | Declare in each package, override for consistency  |\n| Type defs (@types/*)           | Root devDeps (dev-only, hoisting fine)             |\n| Tooling (typescript, prettier) | Root devDeps (shared workspace tooling)            |\n\nOverrides specifically force transitive/peer deps to align — e.g. @types/react peer deps pulled in at different versions.\n\n---\nMigrated from spark: 2026-01-22-package-manager-lock-conflict-skill.yml\nOriginal context: Reviewing Claude transcripts showing poor package manager decisions\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"closed","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:15.078259-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T09:53:55.472868-05:00","closed_at":"2026-01-29T09:53:55.472868-05:00","close_reason":"Created claude/skills/package-manager/skill.md covering lock file conflict resolution (--lockfile-only flags for npm/pnpm/yarn) and monorepo override patterns (self-containment principle, when to use overrides vs root deps)"}
{"id":"dotfiles-7b9","title":"align skill: add counter-proposal guidance","description":"When in align mode, the agent currently confirms understanding and previews intent. But the most valuable alignment moments are when the agent should push back — suggest a better approach than what the user described.\n\n**The idea:** Add guidance to align/reference/rules.md that explicitly encourages the agent to:\n1. Present the literal preview of what the user asked for\n2. If the agent sees a better approach, present it as an alternative alongside the literal preview\n3. Explain the tradeoff briefly — why the alternative might be better\n\n**Why this matters:** Without this, align mode risks becoming a yes-machine that just mirrors the user's intent back. The CLAUDE.md directive says \"be opinionated, not deferential\" — align mode should honor that even in read-only mode. The pause is the perfect moment for the agent to think critically.\n\n**Implementation:** Small addition to the \"Previewing Intent\" section in align/reference/rules.md. Something like:\n- \"If you believe there's a better approach than what the user described, present it as an alternative alongside your literal preview. Lead with the user's intent, then offer the counter-proposal with a brief rationale.\"\n\n**Risk:** Could feel preachy if the agent counter-proposes on every trivial alignment. The guidance should make clear this is for substantive alternatives, not nitpicks.\n\n**Files:** claude/skills/align/reference/rules.md","status":"open","priority":4,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-30T14:54:44.087369Z","created_by":"Jason Kuhrt","updated_at":"2026-01-30T14:54:44.087369Z","labels":["skill"]}
{"id":"dotfiles-7e5","title":"Fix sd-find-replace skill quality issues","description":"## Skill Path\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/sd-find-replace/SKILL.md`\n\n## Findings\n\n### 1. Description does not start with \"Use when\"\n**Current:** `description: Use sd for batch string replacements. Triggers on find/replace in text files, batch renaming, pattern substitution. NOT for code symbol renaming (use Serena).`\n**Violated:** `description` starts with \"Use when...\" rule. \"Use sd for\" is not \"Use when\".\n**Fix:** `description: Use when doing batch find/replace in text files, batch renaming, or pattern substitution. Triggers on sd, find-replace, batch rename. NOT for code symbol renaming (use Serena).`\n\n### 2. SKILL.md is not thin — 127 lines with no reference files\n**Current:** All content (quick reference, batching, patterns, gotchas, when-not-to-use, appendix) is inlined in SKILL.md at 127 lines.\n**Violated:** \"SKILL.md is thin — defers to reference files for details (progressive disclosure)\" and \"Reference files only for heavy content (100+ lines)\".\n**Fix:** Extract the Patterns, Gotchas, and Appendix sections (lines 42-128) into `reference/sd-patterns.md`. Keep Quick Reference, Batching, When NOT to Use, and Never Use in SKILL.md. SKILL.md should link: `See [reference/sd-patterns.md](reference/sd-patterns.md) for regex patterns, gotchas, and engine details.`\n\n### 3. \"Why this matters\" justification section\n**Current (line 122):** `**Why this matters:** Guaranteed O(m*n) time complexity — no catastrophic backtracking, no ReDoS vulnerabilities. If a pattern compiles, it runs fast.`\n**Violated:** No \"Why X\" justification sections or decorative content.\n**Fix:** Remove this sentence entirely, or condense to a single factual note: `O(m*n) guaranteed — no backtracking.`","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:22.140025-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:19.772626-05:00","closed_at":"2026-01-29T14:02:19.772626-05:00","close_reason":"Fixed: Extracted Patterns, Gotchas, Appendix to reference/sd-patterns.md. Moved 'Why this matters' to DESIGN.md. Description rewrite already done."}
{"id":"dotfiles-7ej","title":"Convert capture-case-study command to skill","description":"Convert claude/commands/capture-case-study.md to a proper skill in claude/skills/. Captures case study examples from conversations.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.601361-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.601361-05:00","labels":["skill"]}
{"id":"dotfiles-7g3","title":"skill-review: just SKILL.md too thick, needs reference file extraction","description":"## Skill: just\n**Files reviewed:** claude/skills/just/SKILL.md (228 lines, no reference files)\n\n### Finding 1: SKILL.md is not thin (228 lines with inline operations and reference material)\n\n**Violates:** \"SKILL.md is thin -- defers to reference files for details (progressive disclosure)\" and \"Reference files only for heavy content (100+ lines)\"\n\n**Current state:** Four operations (Onboard, Setup, Doctor, Scaffold) are all inline in SKILL.md totaling ~100 lines. The Quick Reference section (Syntax, CLI, Built-in Functions) is ~65 lines of dense reference material.\n\n**Proposed fix:**\n1. Extract operations into `operations/` directory:\n   - `operations/onboard.md` -- lines 25-36 (the Onboard operation)\n   - `operations/setup.md` -- lines 39-64 (the Setup operation)\n   - `operations/doctor.md` -- lines 66-99 (the Doctor operation)\n   - `operations/scaffold.md` -- lines 100-155 (the Scaffold operation)\n2. Extract Quick Reference into `reference/syntax.md` -- lines 157-228 (Syntax, CLI, Built-in Functions sections)\n3. Replace inline content in SKILL.md with an Operations table (like d2 does) and a reference pointer:\n\nReplace the \"## Operations\" through end of \"### Scaffold\" with:\n```markdown\n## Operations\n\n| Operation | File | Purpose |\n|-----------|------|---------|\n| **Onboard** | `operations/onboard.md` | Teach just fundamentals |\n| **Setup** | `operations/setup.md` | Install just, verify environment |\n| **Doctor** | `operations/doctor.md` | Diagnose just issues |\n| **Scaffold** | `operations/scaffold.md` | Generate justfile for current project |\n```\n\nReplace the \"## Quick Reference\" through end of \"### Built-in Functions\" with:\n```markdown\n## Reference\n\n- `reference/syntax.md` -- variables, settings, recipes, args, dependencies, shebang, modules, CLI, built-in functions\n```\n\n### Finding 2: Onboard operation uses tutorial-style narrative\n\n**Violates:** \"No tutorial-style narrative or storytelling\"\n\n**Current text (lines 25-26):**\n\u003e \"Teach the user just fundamentals. Cover these topics in order, with examples:\"\n\n**Proposed fix (in the extracted operations/onboard.md):** Reframe as a structured checklist rather than a teaching narrative:\n```markdown\n# Onboard\n\nWalk through just fundamentals using real-world examples.\n\n## Topics (cover in order)\n\n1. **Command runner, not build system** -- every recipe always runs (no staleness)\n2. **Justfile basics** -- recipes, comments-as-docs, `@` quiet prefix\n3. **Arguments** -- positional, defaults, variadic (`*args`, `+args`)\n4. **Variables** -- `:=` assignment, env vars, `.env` loading (`set dotenv-load`)\n5. **Dependencies** -- `recipe: dep1 dep2`, dependency arguments\n6. **Shebang recipes** -- write in any language\n7. **Modules** -- `mod name` for splitting large justfiles\n8. **Key CLI** -- `just --list`, `just --choose`, `just --fmt`, `just --evaluate`\n```\n\n### Finding 3: Quick Reference duplicates content deferrable to docs/CLI\n\n**Violates:** \"Details deferred to --help or tool docs where possible\"\n\nThe CLI section (lines 199-211) largely duplicates `just --help` output. The Built-in Functions table (lines 213-222) duplicates https://just.systems/man/en/.\n\n**Proposed fix:** In the extracted reference/syntax.md, add a note at the top:\n```markdown\n\u003e For full CLI options: `just --help`. Full manual: https://just.systems/man/en/\n```\nKeep the syntax and built-in functions tables as quick reference (they add value by being curated), but remove the CLI section and replace with a pointer to `just --help`.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:24.675056-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:16.759421-05:00","closed_at":"2026-01-29T14:02:16.759421-05:00","close_reason":"Fixed: Extracted 4 operations to operations/ dir, quick reference to reference/syntax.md, removed CLI section (defer to just --help), reframed onboard as structured checklist. SKILL.md reduced from 228 to 39 lines."}
{"id":"dotfiles-7nv","title":"Consolidate git_* user skills into 1-2 router skills","description":"Merge 5 git_* skills (sync, worktree, commit, mode-control, parallel-commit) into 1-2 routers.\n\ngit_sync has heavy progressive disclosure (14 files: scripts/, schemas/, templates/, reference/). It becomes the primary topic. Simpler skills (commit, mode-control, parallel-commit) become reference files.\n\nConsider: git_sync may be complex enough to remain standalone. If so, merge only commit + mode-control + parallel-commit into git_commit.\n\nRegistry savings: ~3-4 entries (~140-180 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/` or root scripts/templates/schemas/\n\n### Plan: 5 git_* skills → 1-2 router skills\n\n**Decision point:** `git_sync` is heavy (14 files: 5 scripts, 2 schemas, 5 templates, 1 reference, 1 SKILL.md). It may warrant remaining standalone. Evaluate during execution:\n- If git_sync SKILL.md + the other 4 skills' content fits under 500 lines → 1 router\n- If not → keep git_sync standalone, merge the other 4 into `git_commit`\n\n#### Option A: Single router `git/` (name: `git`)\n\n**Source skills:**\n- `git_sync` — **HEAVY PROGRESSIVE DISCLOSURE** (scripts/: gather.sh, gather-static.sh, gather-worktrees.sh, gather-branches.sh, gather-tags.sh; schemas/: plan.schema.json, repository-state.schema.json; templates/: plan-preview.tpl.md, rescue-warning.tpl.md, results.tpl.md, tag-conflict.tpl.md, trunk-dirty.tpl.md; reference/: flow.d2)\n- `git_worktree` — check for sub-files\n- `git_commit` — check for sub-files\n- `git_mode-control` — check for sub-files\n- `git_parallel-commit` — check for sub-files\n\n**Target structure (Option A):**\n```\ngit/\n├── SKILL.md\n├── reference/\n│   ├── sync/\n│   │   ├── overview.md\n│   │   └── flow.d2\n│   ├── worktree/\n│   │   └── overview.md (+ any sub-files)\n│   ├── commit/\n│   │   └── overview.md (+ any sub-files)\n│   ├── mode-control/\n│   │   └── overview.md\n│   └── parallel-commit/\n│       └── overview.md\n├── scripts/\n│   ├── sync-gather.sh\n│   ├── sync-gather-static.sh\n│   ├── sync-gather-worktrees.sh\n│   ├── sync-gather-branches.sh\n│   └── sync-gather-tags.sh\n├── schemas/\n│   ├── sync-plan.schema.json\n│   └── sync-repository-state.schema.json\n└── templates/\n    ├── sync-plan-preview.tpl.md\n    ├── sync-rescue-warning.tpl.md\n    ├── sync-results.tpl.md\n    ├── sync-tag-conflict.tpl.md\n    └── sync-trunk-dirty.tpl.md\n```\n\n**SKILL.md description:** `Use when performing git operations — syncing with remote, managing worktrees, committing changes, controlling commit mode, or running parallel commits. Covers sync workflows, worktree lifecycle, and commit conventions.`\n\n#### Option B: Keep git_sync standalone, merge others into `git_commit/`\n\nOnly merge: `git_commit`, `git_mode-control`, `git_parallel-commit`, optionally `git_worktree`.\nKeep `git_sync` as-is.\n\n### Execution Steps\n\n1. Read all 5 source skill directories to assess total size\n2. Decide Option A vs B based on SKILL.md line count feasibility\n3. Create router(s) and migrate per merger rules\n4. Scripts/schemas/templates from git_sync go to root level with `sync-` prefix\n5. Delete old directories\n6. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `git/` (Option A) or keep `git_sync/` + create `git_commit/` (Option B)\n- Frontmatter name: `git` or `git:commit`\n- Topic subdirs: kebab-case matching former skill name without `git_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:16.66238-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.851001-05:00","closed_at":"2026-01-28T15:07:10.851001-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-7qk","title":"Fix git mode-control state persistence bug","description":"When user selects 'commit (enter mode)' in git mode-control, the mode is not persisted. Next commit attempt re-prompts. Root cause: skill instructions in step 3 say 'write to file' but are not explicit enough for Claude to actually mkdir + Write the .clauding/git_mode-control/git-mode.yaml file. The .clauding/ directory doesn't even exist.","status":"closed","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:22:20.594963-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T14:22:57.446394-05:00","closed_at":"2026-01-28T14:22:57.446394-05:00","close_reason":"Made skill step 3 explicit: mkdir + Write tool with concrete path .clauding/git_mode-control/git-mode.yaml. Also added .clauding/ to .gitignore (was missing)."}
{"id":"dotfiles-7st","title":"Add stdin support to linear_gql query.ts for shell escaping","description":"## Context\n\nGraphQL queries with `String\\!` (non-null types) get mangled by bash due to history expansion on `\\!`.\n\nCurrent workaround requires awkward escaping with double quotes and escaped dollar signs.\n\n## Design\n\nAdd `--stdin` flag to read query from stdin, sidestepping shell interpretation:\n\n```bash\necho 'mutation($id: String\\!) { issueDelete(id: $id) { success } }' | bun query.ts --stdin -v '{\"id\": \"...\"}'\n```\n\nOr with heredoc for multiline queries.\n\n## Tasks\n\n1. Add `--stdin` flag to `query.ts`\n2. When `--stdin` is set, read query from stdin instead of positional arg\n3. Update help text with stdin examples\n4. Update `linear_gql/SKILL.md` to document stdin usage for mutations","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:34:24.782271-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:42:46.545528-05:00","closed_at":"2026-01-28T11:42:46.545528-05:00","close_reason":"Closed"}
{"id":"dotfiles-8mw","title":"cc_authoring skill review fixes","description":"## Skill reviewed\ncc_authoring: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cc_authoring/\n\nFiles reviewed:\n- SKILL.md\n- reference/writing-skills/overview.md\n- reference/writing-skills/config-frontmatter.md\n- reference/writing-skills/config-allowed-tools.md\n- reference/writing-skills/config-context-fork.md\n- reference/writing-skills/config-hooks.md\n- reference/writing-skills/feature-status-line.md\n- reference/writing-skills/limitation-output-collapse.md\n- reference/writing-skills/pattern-code-examples.md\n- reference/writing-skills/pattern-progressive-disclosure.md\n- reference/writing-skills/pattern-script-bundling.md\n- reference/writing-skills/tool-ask-user-question.md\n- reference/writing-skills/tool-todo-write.md\n- reference/writing-hooks/overview.md\n- reference/writing-rules/overview.md\n- reference/markers/overview.md\n- reference/ask-user-question/overview.md\n- reference/skills-tmp-dir/overview.md\n- assets/markers-grep-pattern.txt\n\n## Findings\n\n### 1. Missing H1 heading in SKILL.md\n**Violation:** Structure checklist — \"Document has an H1 heading (#)\"\n**Current:** SKILL.md starts with frontmatter then goes directly to \"## Topics\" (H2)\n**Fix:** Add H1 heading after frontmatter close:\n```\n---\n...\n---\n\n# CC Authoring\n\n## Topics\n```\n\n### 2. \"PreToolUse Hooks Break AskUserQuestion\" duplicated across files\n**Violation:** Token Efficiency — \"No redundant content repeated across files\"\n**Current:** This known issue is fully documented in BOTH:\n  - reference/writing-hooks/overview.md (lines 14-38, full description + workaround + code example)\n  - reference/ask-user-question/overview.md (lines 90-96, shorter version referencing writing-hooks)\n**Fix:** In reference/ask-user-question/overview.md, the content at lines 90-96 is already a cross-reference (\"See cc:authoring skill, Writing Hooks topic for implementation example\"). This is acceptable. No change needed here.\n\nActually, looking closer, writing-hooks has the full content and ask-user-question cross-references it. This is fine.\n\n### 3. \"Why this matters\" justification section in writing-skills/overview.md\n**Violation:** Token Efficiency — \"No 'Why X' justification sections or decorative content\"\n**Current:** Lines 49-53 of reference/writing-skills/overview.md:\n```\n**Why this matters:**\n- Inline code examples are re-read on every skill invocation\n- Scripts are executed but never loaded into context\n- Skills become \"when to use what\" docs, not code templates\n```\n**Fix:** Remove the \"Why this matters\" heading and fold the key fact into the table or the core principle statement. Replace lines 48-53 with nothing — the table above already shows the comparison. Or, if the facts are important, merge them into the table's description:\n\nReplace:\n```\n**Why this matters:**\n- Inline code examples are re-read on every skill invocation\n- Scripts are executed but never loaded into context\n- Skills become \"when to use what\" docs, not code templates\n```\nWith nothing (delete these 4 lines). The table at lines 44-48 already conveys the same information.\n\n### 4. Cross-references use backtick-quoted skill names, not \"REQUIRED SUB-SKILL: name\" format\n**Violation:** CSO — \"Cross-references use 'REQUIRED SUB-SKILL: name' format, not @ links\"\n**Current:** Multiple files use backtick format like `plugin-dev:skill-development`, `superpowers:writing-skills`\nLocations:\n  - reference/writing-skills/overview.md lines 7-8: \"`plugin-dev:skill-development`\", \"`superpowers:writing-skills`\"\n  - reference/writing-skills/overview.md line 174: \"`superpowers:writing-skills`\"\n  - reference/writing-hooks/overview.md line 7: \"`plugin-dev:hook-development`\"\n  - reference/ask-user-question/overview.md line 96: \"`cc:authoring` skill\"\n**Fix:** These are scope-narrowing references (\"For X, use Y\"), not mandatory sub-skill invocations. The \"REQUIRED SUB-SKILL\" format is specifically for cases where the sub-skill MUST be invoked. These are informational cross-references and should stay as-is. No change needed — the checklist item targets @ links specifically, and these aren't @ links.\n\n### 5. AskUserQuestion content spread across two separate topic sections\n**Violation:** Structure — potential confusion, not quite duplication\n**Current:** SKILL.md has both:\n  - \"### Writing Skills\" section linking to reference/writing-skills/tool-ask-user-question.md (AskUserQuestion in skills context)\n  - \"### AskUserQuestion\" standalone section linking to reference/ask-user-question/overview.md (AskUserQuestion generally)\nThe writing-skills version covers how to use it in SKILL.md prose. The standalone version covers schema, effectiveness patterns, and known issues in depth. These serve different purposes but could confuse users about which to read.\n**Fix:** No change required — the separation is intentional (skill authoring context vs. general reference). Both are appropriately scoped.\n\n### ACTUAL FINDINGS REQUIRING FIXES:\n\n**Finding 1: Missing H1 heading**\nFile: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cc_authoring/SKILL.md\nViolation: Structure — \"Document has an H1 heading (#)\"\nCurrent: After frontmatter, first heading is \"## Topics\"\nFix: Add \"# CC Authoring\" between the closing \"---\" and \"## Topics\"\n\n**Finding 2: \"Why this matters\" justification in writing-skills/overview.md**\nFile: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cc_authoring/reference/writing-skills/overview.md\nViolation: Token Efficiency — \"No 'Why X' justification sections or decorative content\"\nCurrent (lines 49-53):\n```\n**Why this matters:**\n- Inline code examples are re-read on every skill invocation\n- Scripts are executed but never loaded into context\n- Skills become \"when to use what\" docs, not code templates\n```\nFix: Delete these 4 lines. The table at lines 44-48 already conveys the same trade-off information.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:29.565725-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:02.795567-05:00","closed_at":"2026-01-29T14:01:02.795567-05:00","close_reason":"Fixed: Moved Why this matters from writing-skills/overview.md to DESIGN.md."}
{"id":"dotfiles-8ux","title":"Review native OSC 8 hyperlink config for installed tools","description":"Audit current system tools and dotfiles for native OSC 8 hyperlink support opportunities. Known examples: ripgrep has --hyperlink-format=file (configurable via ~/.ripgreprc), eza/ls have hyperlink flags. Check what tools are installed and enable OSC 8 output where available.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:42.073525-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T22:43:00.447311-05:00","closed_at":"2026-01-28T22:43:00.447311-05:00","close_reason":"Enabled OSC 8 hyperlinks for 4 tools: ripgrep (config file), lsd (config file), fd (abbr with --hyperlink auto), tree (alias with --hyperlink). Delta was already configured. bat 0.26.1 and ag don't support hyperlinks."}
{"id":"dotfiles-9tw","title":"skill-review: shan frontmatter violations","description":"## Skill: shan\n**Files reviewed:** claude/skills/shan/SKILL.md (91 lines, no reference files)\n\n### Finding 1: Extra frontmatter field \"argument-hint\"\n\n**Violates:** \"Only name, description (and optionally allowed-tools) fields\"\n\n**Current frontmatter (lines 1-6):**\n```yaml\n---\nname: shan\ndescription: Dump a Claude Code session transcript as navigable Markdown, or inspect CC task lists outside of CC. Use when user wants to review, analyze, or export a session transcript, or dump/open task files.\nargument-hint: transcript dump [session-id]\nallowed-tools: Bash(bun:*)\n---\n```\n\n**Proposed fix:** Remove the `argument-hint` field. The command syntax is already documented in the \"## Commands\" section below.\n\n```yaml\n---\nname: shan\ndescription: Use when user wants to review, analyze, or export a Claude Code session transcript, or dump/open CC task files outside of CC.\nallowed-tools: Bash(bun:*)\n---\n```\n\n### Finding 2: Description does not start with \"Use when...\"\n\n**Violates:** \"description starts with 'Use when...'\"\n\n**Current description:**\n\u003e \"Dump a Claude Code session transcript as navigable Markdown, or inspect CC task lists outside of CC. Use when user wants to review, analyze, or export a session transcript, or dump/open task files.\"\n\nThe description starts with \"Dump a Claude Code session transcript\" which summarizes the skill workflow rather than stating triggering conditions. The \"Use when\" appears mid-sentence.\n\n**Proposed fix:**\n```yaml\ndescription: Use when user wants to review, analyze, or export a Claude Code session transcript, or dump/open CC task files outside of CC.\n```\n\nThis moves \"Use when\" to the front and removes the workflow summary (\"Dump a Claude Code session transcript as navigable Markdown\") which violates the \"does NOT summarize the skill workflow/process -- triggering conditions only\" rule.\n\n### Finding 3: Description summarizes skill workflow\n\n**Violates:** \"description does NOT summarize the skill workflow/process -- triggering conditions only\"\n\n**Current text:** \"Dump a Claude Code session transcript as navigable Markdown, or inspect CC task lists outside of CC.\"\n\nThis is a workflow summary (what the skill does), not a triggering condition (when to invoke it).\n\n**Proposed fix:** Already addressed in Finding 2's replacement text -- the new description focuses purely on triggering conditions.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:52.131846-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:50.364469-05:00","closed_at":"2026-01-29T14:00:50.364469-05:00","close_reason":"Fixed: Removed argument-hint frontmatter field. Description rewrites already done."}
{"id":"dotfiles-a0j","title":"Add sound effects to Claude Code workflows","description":"Investigate adding audio feedback to Claude Code workflows using\nhttps://github.com/shanraisshan/claude-code-voice-hooks\n\nPotential use cases:\n- Sound on hook events (tool start/complete)\n- Different sounds for success vs error\n- Audio cues for long-running operations completing\n- Ambient awareness without watching terminal\n\n---\nMigrated from spark: 2026-01-22-cc-sound-effects.yml\nOriginal context: Researching hook-based alternatives to skill-driven git-mode-control for better session latency\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/2aaf1839-dc74-4c0c-a0ae-46ba51d7aefa.jsonl","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:42.008058-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:42.008058-05:00","labels":["workflow"]}
{"id":"dotfiles-a71","title":"Fix cherri skill quality issues","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/cherri/SKILL.md\n\n## Findings\n\n### 1. SKILL.md is 704 lines -- severely not thin (Structure, critical)\n**Violates:** \"SKILL.md is thin — defers to reference files for details (progressive disclosure)\"\n\nAt 704 lines, this is the biggest structural violation. The file should be ~80-100 lines max with heavy content in reference files.\n\n**Proposed fix:** Extract into reference files:\n- `reference/syntax.md` — Syntax Reference section (defines, variables, actions, control flow, menus, lists, custom actions, includes) ~lines 32-145\n- `reference/extension-apps.md` — Known Extension App Patterns section (Toolbox Pro, Menu Box, FocusCuts, Logger, Actions, Charty) ~lines 268-618. This is 350 lines of extension app documentation.\n- `reference/sf-symbols.md` — SF Symbols section ~lines 660-696\n\nKeep in SKILL.md: Installation, compilation, common patterns (1 example), common mistakes table, CLI reference, development workflow, cross-references to reference files and apple-shortcuts skill.\n\n### 2. Description summarizes workflow (Frontmatter)\n**Current text:**\n```\ndescription: Use when writing Apple Shortcuts as code using Cherri language. Covers syntax, actions, compilation, and common patterns.\n```\n\n**Violates:** \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n\n\"Covers syntax, actions, compilation, and common patterns\" is a workflow summary.\n\n**Proposed fix:**\n```\ndescription: Use when writing Apple Shortcuts as code using Cherri language, compiling .cherri files, or using rawAction() for third-party app integration.\n```\n\n### 3. Massive duplication with apple-shortcuts skill (Token Efficiency)\nMultiple sections are duplicated between the two skills:\n\n**a) \"Discovering Third-Party Actions\" (lines 206-218)** duplicates apple-shortcuts lines 33-49 (analyze-shortcuts-actions.fish usage).\n\n**b) \"Persistent Config (JSON in iCloud)\" (lines 309-331)** duplicates apple-shortcuts lines 62-79. Both have the same CLI examples, file paths, and justification lists.\n\n**c) \"Workflow: Adding New Extension Apps\" (lines 220-241)** partially duplicates apple-shortcuts \"After Installing New Apps\" (lines 107-112).\n\n**Violates:** \"No redundant content repeated across files\" and \"Cross-references other skills instead of duplicating their content\"\n\n**Proposed fix for all three:** Replace duplicated sections with cross-references:\n```\n## Platform Integration\n\nREQUIRED SUB-SKILL: apple-shortcuts — for discovering actions (ToolKit database), persistent config (JSON in iCloud), and extension app installation.\n```\n\n### 4. \"Why this (not Data Jar)\" justification section (Token Efficiency)\n**Current text (lines 326-331):**\n```\n**Why this (not Data Jar or other apps):**\n- Direct CLI access with `jq` and `shortcuts-config`\n- Version controllable (can symlink to dotfiles repo)\n- No app dependency\n- Works on iOS via Files app + Shortcuts \"Get File\"/\"Save File\"\n- Claude Code can read/write directly\n```\n\n**Violates:** \"No 'Why X' justification sections or decorative content\"\n\n**Proposed fix:** Delete entirely (this is a duplicate of the same justification in apple-shortcuts, which should also be condensed per that skill's findings).\n\n### 5. \"Community Reference (Not Installed)\" section is decorative (Token Efficiency)\n**Current text (lines 624-636):** A table of 8 apps the user hasn't installed.\n\n**Violates:** \"No 'Why X' justification sections or decorative content\" — this is aspirational/browsing content, not actionable reference.\n\n**Proposed fix:** Delete the \"Community Reference (Not Installed)\" section. This belongs in a personal notes file, not a skill.\n\n### 6. Cross-reference format (CSO)\n**Current text (lines 169-173 in apple-shortcuts)** references cherri, but cherri itself does not cross-reference apple-shortcuts using the correct format.\n\n**Violates:** \"Cross-references use 'REQUIRED SUB-SKILL: name' format, not @ links\"\n\n**Proposed fix:** Add at the top of the relevant section:\n```\nREQUIRED SUB-SKILL: apple-shortcuts\n```","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:18.528876-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:05.690111-05:00","closed_at":"2026-01-29T14:01:05.690111-05:00","close_reason":"Fixed: Extracted ~570 lines from SKILL.md (704-\u003e130 lines) into reference/syntax.md, reference/extension-apps.md, reference/sf-symbols.md. Moved Why-this-not-Data-Jar and Community-Reference to DESIGN.md. Replaced 3 duplicated apple-shortcuts sections with REQUIRED SUB-SKILL cross-reference.","dependencies":[{"issue_id":"dotfiles-a71","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:04:23.741967-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-a72","title":"YAML schema validation with Effect Schema","description":"Define Effect Schema types for bookmarks.yaml: targets (safari/chrome with profiles), base sections (favorites_bar, other, reading_list, mobile with recursive folder nesting), profiles (profile-specific extensions). Validate on load. Replace JSON Schema file. See docs/plans/2026-02-01-bookmarks-v1-design.md for YAML structure.","status":"closed","priority":2,"issue_type":"task","assignee":"Jason Kuhrt/ffaf9bc7","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:31.245839Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T17:17:38.768527-05:00","closed_at":"2026-02-01T17:17:38.768527-05:00","close_reason":"Implemented Effect Schema types for bookmarks.yaml matching design doc structure: BookmarkLeaf, BookmarkFolder, BookmarkNode (recursive union with identifier annotation), BookmarkTree (4 optional sections), TargetProfile, BrowserProfiles (Record of profiles per browser), BookmarksConfig (top-level with targets/base/profiles). Implemented yaml.ts with load (read + decodeUnknown), save (encode + stringify), resolveProfile (base + overlay merge). Created generate-json-schema.ts build script using JSONSchema.make to emit bookmarks/bookmarks.schema.json for yaml-language-server autocomplete. Wired validate CLI command. Key pattern: Schema.Array(Schema.suspend(() =\u003e BookmarkNode)) with identifier annotation on BookmarkNode enables clean recursive $ref in generated JSON Schema.","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-a72","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.368241Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-a72","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.31965Z","created_by":"Jason Kuhrt"}],"comments":[{"id":2,"issue_id":"dotfiles-a72","author":"Jason Kuhrt","text":"claimed by session ffaf9bc7-c142-4de4-a152-1a1b4dd0fd6a. Scope addition: emit JSON Schema at build time for YAML LSP autocomplete (replacing existing bookmarks.schema.json).","created_at":"2026-02-01T22:13:27Z"}]}
{"id":"dotfiles-aoq","title":"Fix macos-configuring skill quality issues","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/macos-configuring/SKILL.md\n\n## Findings\n\n### 1. Script Template uses fill-in-the-blank placeholders (Content Quality)\n**Current text (lines 59-70):**\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\necho \"Configuring [category]...\"\n\ndefaults write DOMAIN KEY -TYPE VALUE\n\nkillall PROCESS 2\u003e/dev/null || true\n\necho \"Done.\"\n```\n\n**Violates:** \"Code examples are complete and runnable, not fill-in-the-blank\"\n\n**Proposed fix:** Replace with a real, complete example:\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\necho \"Configuring screenshot location...\"\n\ndefaults write com.apple.screencapture location -string ~/Screenshots\n\nkillall SystemUIServer 2\u003e/dev/null || true\n\necho \"Done.\"\n```\n\n### 2. Quick Reference section duplicates content (Token Efficiency)\n**Current text (lines 81-90):**\n```bash\ndefaults write DOMAIN KEY -TYPE VALUE   # Set\ndefaults read DOMAIN KEY                # Get\ndefaults delete DOMAIN KEY              # Remove\ndefaults find KEYWORD                   # Search all domains\n```\n\n**Violates:** \"No redundant content repeated across files\" and \"Details deferred to --help or tool docs where possible\"\n\nThe `defaults` commands are already demonstrated in the Discovery section (lines 24-42) and Script Template. This section adds fill-in-the-blank versions of the same commands.\n\n**Proposed fix:** Remove the \"Quick Reference\" section entirely. The commands are already shown in context above, and `defaults --help` or `man defaults` covers the rest.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:44.784652-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:03.892359-05:00","closed_at":"2026-01-29T14:02:03.892359-05:00","close_reason":"Fixed: Replaced fill-in-the-blank script template with complete runnable example (screenshot location). Removed duplicate Quick Reference section.","dependencies":[{"issue_id":"dotfiles-aoq","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:02:48.688816-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-asx","title":"Convert ghostty command to skill","description":"Convert claude/commands/ghostty.md to a proper skill in claude/skills/. Opens current session in new Ghostty window.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.778323-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.778323-05:00","labels":["ghostty","skill"]}
{"id":"dotfiles-b1j","title":"Scaffold packages/bookmarks package","description":"Create packages/bookmarks/ following shan pattern: package.json (@jasonkuhrt/bookmarks), tsconfig.json, src/bin/bookmarks.ts entrypoint, src/lib/ directory structure. Wire into root workspace. Dependencies: effect, @clack/prompts, @types/bun. See docs/plans/2026-02-01-bookmarks-v1-design.md for structure.","status":"closed","priority":2,"issue_type":"task","assignee":"Jason Kuhrt/7acf2b5e","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:26.836136Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T16:54:27.28329-05:00","closed_at":"2026-02-01T16:54:27.28329-05:00","close_reason":"Scaffolded packages/bookmarks/ following shan pattern. Created: package.json (@jasonkuhrt/bookmarks with effect, @clack/prompts, yaml, @types/bun), tsconfig.json (strictest + ESNext + bundler), CLI entrypoint at src/bin/bookmarks.ts with all 8 command stubs (push/pull/sync/status/backup/gc/daemon/validate), and 10 typed lib module stubs under src/lib/ (schema, yaml, patch, sync, chrome, safari, graveyard, state, daemon, permissions). schema.ts contains full Effect Schema data model: BookmarkLeaf, BookmarkFolder, BookmarkNode, BookmarkTree, BookmarksConfig, TargetProfile. All other lib stubs use declare-only exports matching the design doc API surface. Root package.json wired with bookmarks script shortcut. Type checks clean, CLI runs.","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-b1j","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.243906Z","created_by":"Jason Kuhrt"}],"comments":[{"id":1,"issue_id":"dotfiles-b1j","author":"Jason Kuhrt","text":"claimed by session 7acf2b5e-462b-485d-8905-6500f72d9508","created_at":"2026-02-01T21:50:56Z"}]}
{"id":"dotfiles-bew","title":"Migration from Python script to Bun package","description":"One-time transition from bookmarks/sync-bookmarks.py to packages/bookmarks/. Migrate bookmarks.yaml to new schema (add profiles section, formalize _graveyard). Preserve backup-raw-import.* as archive. Remove Python script. Update docs/manual-setup.md reference. Wire into dotfiles sync script. See docs/plans/2026-02-01-bookmarks-v1-design.md.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:13:50.805541Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T20:13:50.805541Z","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-bew","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:14:03.462455Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-bew","depends_on_id":"dotfiles-jlu","type":"blocks","created_at":"2026-02-01T20:14:03.536103Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-bew","depends_on_id":"dotfiles-cq8","type":"blocks","created_at":"2026-02-01T20:14:03.605222Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-bew","depends_on_id":"dotfiles-3zv","type":"blocks","created_at":"2026-02-01T20:14:03.679162Z","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-bhr","title":"Design flo commit-mode toggle: review-before-commit workflow","description":"## What\nDesign and implement a commit-mode toggle for the flo system that lets users choose whether the agent autocommits after completing work, or stages changes for human review first.\n\n## Context\nCurrently, the flo system instructs Claude to autocommit + push at session close. This comes from **three independent layers** that all need coordinating:\n\n1. **`bd prime` SessionStart hook** (beads plugin) — Injects a \"SESSION CLOSE PROTOCOL\" checklist into every session that includes `git add`, `git commit`, `git push` steps. This is from the beads plugin itself — not user-controlled.\n\n2. **`flo:next` SKILL.md exit protocol** (line 203-207) — The skill's exit step 4 explicitly says:\n   ```\n   git add \u003cfiles\u003e \u0026\u0026 git commit -m \"...\"\n   bd close \u003cid\u003e --reason \"...\" --session \u003cfull-session-id\u003e --suggest-next\n   bd sync\n   git push\n   ```\n   This is in `claude/skills/flo_next/SKILL.md`.\n\n3. **CLAUDE.md** — Global instructions say \"Let me make commits unless explicitly asked\", which contradicts the skill instructions. The skill wins because it's more specific/recent in the prompt.\n\n### Design direction: `.flo/state.yml` mode toggle\n\nThe `.flo/state.yml` file already stores the active epic. The initial idea is to add a `commit_mode` field:\n\n```yaml\nepic: dotfiles-myk\ncommit_mode: review   # or: auto (default, current behavior)\n```\n\nWhen `commit_mode: review`:\n- Agent stages files (`git add`) but does NOT commit\n- Agent reports: what files were staged, proposed commit message, summary of changes\n- Agent closes the bead normally via `bd close`\n- User reviews diff and commits manually\n\n### Open questions requiring brainstorming\n\n1. **Interaction with `bd prime`**: The beads plugin injects the session close protocol independently. Options:\n   - Can `bd prime` output be influenced by config? (need to check bd source or docs)\n   - Override via a `PostToolUse` hook that intercepts `git commit` commands?\n   - Override via a rule/CLAUDE.md instruction that says \"ignore the bd prime commit checklist when commit_mode=review\"?\n   - Accept the contradiction and rely on flo:next being more specific?\n\n2. **Scope**: Should this apply to:\n   - Only flo:next sessions (epic work)?\n   - All beads sessions (any bd-tracked work)?\n   - All Claude sessions globally?\n\n3. **Where the toggle lives**:\n   - `.flo/state.yml` (per-worktree, tied to epic context)\n   - `.beads/config.yml` (beads-level, applies to all beads work)\n   - `CLAUDE.md` rule (global, applies to everything)\n   - Some combination (flo reads state.yml, falls back to beads config, falls back to CLAUDE.md)\n\n4. **What happens to `bd sync` and `git push`?**:\n   - If we don't commit, do we still `bd sync`? (bd sync handles beads metadata, separate from code)\n   - Do we still `git push`? (pushing without committing is a no-op, but the agent shouldn't try)\n\n5. **UX for the review workflow**:\n   - Does the agent just stop and say \"ready for review\"?\n   - Should it output a structured summary (files, diff stats, proposed message)?\n   - Should it open a diff viewer or just tell the user to run `git diff --staged`?\n\n### Key files\n- `claude/skills/flo_next/SKILL.md` — Exit protocol (lines 174-210)\n- `claude/skills/flo_shared/resolve.sh` — Epic resolver (reads .flo/state.yml)\n- `claude/skills/flo_shared/bootstrap.sh` — State bootstrapper\n- `claude/hooks/scripts/flo-orphan-guard.sh` — Example of flo hook pattern\n- Beads plugin bd prime output — SESSION CLOSE PROTOCOL section\n\n### Acceptance\n- Design document answering all open questions above\n- Clear specification of which files change and how\n- Decision on bd plugin interaction strategy","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T17:08:04.644966-05:00","created_by":"Jason Kuhrt","updated_at":"2026-02-01T17:08:04.644966-05:00","labels":["flo","workflow"]}
{"id":"dotfiles-bl2","title":"Fix ts_tooling skill quality issues","description":"## Skill Path\nclaude/skills/ts_tooling/SKILL.md\n\n## Findings\n\n### 1. name contains colon (violates: name uses letters, numbers, hyphens only)\n\n**Current:** `name: ts:tooling`\n**Fix:** `name: ts-tooling`\n\nFile: claude/skills/ts_tooling/SKILL.md, line 2\n\n### 2. Missing H1 heading (violates: Document has an H1 heading)\n\n**Current:** File starts with frontmatter then goes directly to `## Topics`\n**Fix:** Add `# TypeScript Tooling` between the frontmatter closing `---` and `## Topics`\n\nFile: claude/skills/ts_tooling/SKILL.md, after line 4 (frontmatter end)","status":"closed","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:03.131955-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:43.204907-05:00","closed_at":"2026-01-29T14:00:43.204907-05:00","close_reason":"Fixed: All findings (colon rename, H1 heading) are either already done or valid per standing rules","dependencies":[{"issue_id":"dotfiles-bl2","depends_on_id":"dotfiles-rog.4","type":"blocks","created_at":"2026-01-29T01:03:03.133433-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-bls","title":"Create skill: ghostty config management","description":"Create a skill for managing Ghostty terminal configuration. Operations: (1) show — read current config from dotfiles source and display with commentary, (2) update — add/modify settings with proper section organization and comments, (3) diff — compare active config (symlinked) vs dotfiles source to detect drift, (4) validate — check symlink health, verify config is being read by Ghostty. The skill should know Ghostty config format (key = value, # comments, section grouping convention used in this repo). Source of truth: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/ghostty/config. Symlink target: ~/.config/ghostty/config.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:47:23.508377-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:47:23.508377-05:00","labels":["ghostty","skill"]}
{"id":"dotfiles-brz","title":"Phase 2: Execute skill quality fixes","description":"Fix all approved review beads from Phase 1. Standing rules for all agents:\n1. H1 headings and description rewrites are ALREADY DONE — skip those findings\n2. DESIGN.md convention: move Why-X/justification/rationale sections to DESIGN.md, do NOT delete them\n3. Colons in name fields are VALID namespace convention — do NOT rename\n4. Teacher skills (*_teacher suffix) have different criteria — educational content is appropriate","status":"closed","priority":2,"issue_type":"epic","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T13:58:08.05536-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:07:32.316624-05:00","closed_at":"2026-01-29T14:07:32.316624-05:00","close_reason":"All 10 fix batches completed. 35 review beads closed. Major structural refactors across 43 skills: thin SKILL.md with progressive disclosure to reference files, DESIGN.md for rationale/history, CSO keywords, cross-ref format standardized."}
{"id":"dotfiles-c02","title":"Add linear_workspace-pull skill for cached workspace settings","description":"## Context\n\nLinear skills currently guess or fail on workspace-specific data (state names, user lookups). Skills must NEVER invent this data - they must operate from a downloaded, cached copy of workspace settings.\n\n## Design\n\n### Cache location\n\nPer `cc_skills-tmp-dir` convention:\n```\n.claude/tmp/linear/workspace.yaml   # READ-ONLY, pulled from Linear API\n```\n\n### Cache contents\n\n```yaml\nworkspace: heartbeat-chat\nteams:\n  - id: uuid\n    key: HEA\n    name: Engineering\n    states:\n      - id: uuid\n        name: \"In Dev\"\n        type: started\n        position: 1\n      # ...\n    labels:\n      - id: uuid\n        name: bug\n      # ...\nusers:\n  - id: uuid\n    name: \"Jason Kuhrt\"\n    displayName: jason\n    email: jason@example.com\n  # ...\npulledAt: 2026-01-28T12:00:00Z\n```\n\n### New skill: `linear_workspace-pull`\n\n- Single entry point for initialization AND refresh\n- Downloads teams, states, users, labels from Linear API\n- Writes to `.claude/tmp/linear/workspace.yaml`\n- Idempotent - safe to run multiple times\n\n### Skill dependency flow\n\n1. Any linear skill needs workspace data\n2. Check for `.claude/tmp/linear/workspace.yaml`\n3. If missing → invoke `linear_workspace-pull` → wait → continue\n4. Use cached data for validation/mapping\n\n### Human name → mention mapping\n\nWhen writing content (descriptions, comments) with human names:\n1. Look up name in cached `users` list\n2. **Match found** → convert to `https://linear.app/{workspace}/profiles/{displayName}`\n3. **No match** → keep as plaintext + notify user:\n   ```\n   ⚠️ Could not match \"Bob Smith\" to a Linear workspace member. Left as plaintext.\n   ```\n\n## Tasks\n\n1. Create `linear_workspace-pull` skill with `scripts/pull.ts`\n2. Update `linear_core` SKILL.md to document cache location and dependency\n3. Update `linear_managing-issues` scripts to check for cache before operations\n4. Update `linear_managing-issues/scripts/update.ts` to validate state against cache\n5. Update `linear_managing-issues/scripts/comment.ts` to map human names to mentions\n6. Update `linear_managing-issues/scripts/create.ts` to map human names to mentions","status":"closed","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:34:17.421356-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:42:46.567738-05:00","closed_at":"2026-01-28T11:42:46.567738-05:00","close_reason":"Closed"}
{"id":"dotfiles-c0c","title":"Hello world","status":"tombstone","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T12:01:47.501363-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T12:02:20.490547-05:00","deleted_at":"2026-01-27T12:02:20.490547-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-c2l","title":"Fix dotfiles-system-config skill description","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/dotfiles-system-config/SKILL.md\n\n## Findings\n\n### 1. Description summarizes workflow instead of triggering conditions only (Frontmatter)\n**Current text:**\n```\ndescription: Use when making system configuration changes - decides if changes belong in dotfiles and where\n```\n\n**Violates:** \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n\nThe phrase \"decides if changes belong in dotfiles and where\" describes what the skill does (its workflow), not when to trigger it.\n\n**Proposed fix:**\n```\ndescription: Use when making system configuration changes that might belong in dotfiles, adding new tool configs, or updating the sync script.\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:09.528878-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:07.244071-05:00","closed_at":"2026-01-29T14:02:07.244071-05:00","close_reason":"Fixed: Updated description to trigger-conditions-only format.","dependencies":[{"issue_id":"dotfiles-c2l","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:03:13.012052-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-c8z","title":"Document namespace convention in cc-writing-skills","description":"Add a new section to cc-writing-skills/SKILL.md documenting the colon-namespace convention for skill names:\n\n- Directory name: use underscores as namespace delimiters (e.g. cc_internals, gh_pr-checks)\n- Frontmatter name: use colons instead of underscores (e.g. cc:internals, gh:pr-checks)\n- Hyphens remain as word separators within segments\n- Use this technique when there are multiple related skills that shouldn't all be crammed into one giant multi-operation skill\n- Update the 'Naming' line in File Structure section to reflect this\n- Update Facts section about how dir name maps to Skill() log output","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:25:56.146008-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:33:16.815382-05:00","closed_at":"2026-01-27T22:33:16.815382-05:00","close_reason":"Added Namespacing section to cc-writing-skills/SKILL.md documenting underscore/colon convention, updated Naming line and Facts section"}
{"id":"dotfiles-cq8","title":"Design + implement Safari plist adapter","description":"Read/write Safari bookmarks per profile. Handle plist binary\u003c-\u003eXML conversion, Core Data epoch timestamp conversion, profile path discovery (default + named profiles from macOS Sonoma). Pure I/O adapter: BookmarkTree in, BookmarkTree out. Needs design session for exact Safari profile paths on user machine. See docs/plans/2026-02-01-bookmarks-v1-design.md.\n\n## Convention notes (from patch engine)\n- Core Data epoch timestamps → convert to `DateTime.Utc` internally, not string/number\n- Use `Schema.DateTimeUtc` at serialization boundaries (plist read/write)\n- Internal bookmark processing uses `HashMap`, `Option`, etc. from Effect\n- Namespace imports: `import * as \u003cNS\u003e from \"./\u003cmodule\u003e.js\"`\n- See `packages/bookmarks/CLAUDE.md` for full rules","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:35.103971Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T23:08:52.684233-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-cq8","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.437054Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-cq8","depends_on_id":"dotfiles-a72","type":"blocks","created_at":"2026-02-01T20:13:10.51986Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-cq8","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.398284Z","created_by":"Jason Kuhrt"}],"comments":[{"id":4,"issue_id":"dotfiles-cq8","author":"Jason Kuhrt","text":"claimed by session ccd7b52c-c80e-46cf-b3e3-7374ad660aaa","created_at":"2026-02-02T02:59:37Z"},{"id":5,"issue_id":"dotfiles-cq8","author":"Jason Kuhrt","text":"## Design Decisions (session ccd7b52c)\n\n### Package choice\nUse `@plist/binary.parse` + `@plist/binary.serialize` (mat-sz/plist monorepo).\n- Native TypeScript, ESM, binary read AND write\n- `\u003cdata\u003e` blobs → ArrayBuffer (byte-exact content round-trip)\n- All 9 plist types including UID (needed for NSKeyedArchiver in CloudKit sync records)\n- Clean API: `parse(ArrayBuffer) → Value`, `serialize(Value) → ArrayBuffer`\n- Do NOT use umbrella `@plist/plist` (stuck at 1.0.0, no ESM) — use sub-packages directly\n\n### Architecture: asymmetric adapter API\n```\nreadBookmarks:  (path: string) =\u003e Effect\u003cBookmarkTree\u003e\napplyPatches:   (path: string, patches: BookmarkPatch[]) =\u003e Effect\u003cvoid\u003e\n```\n- Read: native plist → decode → extract clean BookmarkTree (lossy — discard Safari metadata)\n- Write: read existing plist, apply BookmarkPatch[] surgically to native structure (preserve all metadata)\n- This is the Rosetta Stone pattern: BookmarkTree is shared read language, BookmarkPatch is shared write language\n- Chrome adapter will have identical interface shape\n\n### Effect Schema with onExcessProperty: \"preserve\"\n- VERIFIED: preserves unknown properties at every nesting level through decode→mutate→encode\n- Define Schema for ONLY the Safari keys we care about (Title, URLString, URIDictionary, Children, WebBookmarkType)\n- All Safari internals (Sync blobs, ServerID, WebBookmarkUUID, imageURL, etc.) flow through as runtime extras\n- This is equivalent to Pydantic's extra=\"allow\" pattern from the Python safari-bookmarks-cli\n\n### Safari plist structure (from actual inspection of user's Bookmarks.plist)\n- Top-level Children sections by Title: \"BookmarksBar\" → favorites_bar, \"BookmarksMenu\" → other, \"com.apple.ReadingList\" → reading_list, \"History\" (Proxy, skip)\n- Leaf: WebBookmarkTypeLeaf — title in URIDictionary.title, URL in URLString\n- Folder: WebBookmarkTypeList — title in Title, children in Children\n- Proxy: WebBookmarkTypeProxy — skip (History placeholder)\n- Dates are ISO 8601 \u003cdate\u003e tags — NOT Core Data epoch (bead description was wrong)\n- Every node has Sync blob + ServerID + WebBookmarkUUID interspersed with bookmark data\n- New entries need UUID v4 for WebBookmarkUUID\n- Root has WebBookmarkFileVersion: 1 — must preserve\n\n### Writes must be atomic\n- Write to temp file, then fs.rename (POSIX atomic)\n- Python safari-bookmarks-cli does NOT do this — we improve on it\n\n### Stub API change needed\nCurrent stub has writeBookmarks(path, tree). Needs to change to applyPatches(path, patches).\nThis affects the bead contract — downstream beads (sync.ts) should use applyPatches not writeBookmarks.\n\n### Reference repos studied\n- https://github.com/evilmarty/safari-bookmarks-cli (Python, active) — key insight: extra=\"allow\" pattern\n- https://github.com/mat-sz/plist (TypeScript) — the plist library we'll use","created_at":"2026-02-02T03:59:08Z"},{"id":6,"issue_id":"dotfiles-cq8","author":"Jason Kuhrt","text":"## New Entry Creation + Schema Design (session ccd7b52c, continued)\n\n### New entries are minimal\nSafari fills in Sync blobs, ServerID, imageURL, etc. on reload. We only provide:\n- Leaf: WebBookmarkType, WebBookmarkUUID, URLString, URIDictionary.title\n- Folder: WebBookmarkType, WebBookmarkUUID, Title, Children\n- UUID: crypto.randomUUID().toUpperCase() (Safari uses uppercase UUIDs)\n\n### Schema transform design direction\nUse Schema.transform to map between Effect-idiomatic Type and Safari plist Encoded:\n\nType side (our domain):\n  { _tag: \"Leaf\", url, title, uuid }\n  { _tag: \"Folder\", title, children, uuid }\n\nEncoded side (Safari plist):\n  { WebBookmarkType: \"WebBookmarkTypeLeaf\", URLString, URIDictionary: { title }, WebBookmarkUUID }\n  { WebBookmarkType: \"WebBookmarkTypeList\", Title, Children, WebBookmarkUUID }\n\nKey considerations:\n- _tag ↔ WebBookmarkType rename + value mapping (\"Leaf\" ↔ \"WebBookmarkTypeLeaf\")\n- Title asymmetry: folders use Title, leaves use URIDictionary.title\n- Schema.Class constructor defaults for UUID auto-generation\n- onExcessProperty: \"preserve\" on the Encoded side to carry Safari metadata through round-trip\n- This transform approach gives us both clean domain types AND Safari-native serialization","created_at":"2026-02-02T04:07:29Z"}]}
{"id":"dotfiles-ddf","title":"Fix Effect data type usage in stub modules (state, graveyard, daemon)","description":"Systematic audit found misused native types across stub modules. Fix all 7 type issues:\n\n## state.ts (4 issues)\n- Line 13: `bookmarks: Record\u003cstring, {...}\u003e` → `HashMap\u003cstring, BookmarkStateEntry\u003e`\n- Line 16: `date_modified: string` → `DateTime.Utc`\n- Line 22: `last_sync: string` → `DateTime.Utc`\n- Line 23: `profiles: Record\u003cstring, ProfileState\u003e` → `HashMap\u003cstring, ProfileState\u003e`\n\n## graveyard.ts (1 issue)\n- Line 24: `maxAge: string` → `Duration`\n\n## daemon.ts (2 issues)\n- Line 13: `lastRun: string | null` → `Option\u003cDateTime.Utc\u003e`\n- Line 14: `nextRun: string | null` → `Option\u003cDateTime.Utc\u003e`\n\nShould be done before those stubs are implemented (blocks dotfiles-lh2, dotfiles-y9c).\n\n## Additional convention alignment\nWhile fixing types, also ensure these modules follow the full convention set from the patch engine:\n- Namespace imports: `import * as \u003cNS\u003e from \"./\u003cmodule\u003e.js\"`\n- Any discriminated unions should use `Data.TaggedEnum` (not raw TS unions)\n- Typed errors via `Data.TaggedError` (not `Error` base class)\n- See `packages/bookmarks/CLAUDE.md` for complete rules","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T21:33:14.875681-05:00","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:55:05.164188-05:00","labels":["bookmarks"]}
{"id":"dotfiles-do0","title":"Fix research-write skill: too easily confused with issue/spec creation","description":"## Bug\n\nClaude used research-write skill when asked to create a bead spec. The user said \"flushed out spec of things to do in a new dotfiles bead\" and Claude reached for research-write instead of beads.\n\n## Root Cause\n\nThe research-* skills (research-write, research-format, research-prune, research-flush-cc-thread) don't clearly delineate their boundary. \"Write a spec\" pattern-matches to \"research-write\" because it involves writing a document. But research files are for storing findings, not driving work.\n\n## Symptoms\n\n- Claude created a research file (.claude/research/2026-01-27-2333-linear-skill-migration-spec.md) when it should have created a bead\n- The research-write skill's description doesn't explicitly say what it's NOT for\n- No guardrail distinguishing \"store findings\" from \"track work\"\n\n## Fix\n\nAudit and update research-* skill descriptions to include explicit negative triggers:\n- research-write: NOT for specs, issues, tasks, beads, or work tracking. Only for storing research findings.\n- Consider adding a \"## NOT For\" or anti-trigger section to research-write SKILL.md\n- Review other research skills for similar ambiguity\n\n## References\n\n- Session where this happened: 464610cc-f14e-421e-b211-aeea38dbc7af\n- Parent issue: dotfiles-5cr (the spec that should have been a bead)","status":"open","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T18:36:21.51094-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T18:36:21.51094-05:00","labels":["research","skill"]}
{"id":"dotfiles-dqa","title":"Create linear_core skill (config, auth, mention rules)","description":"Create claude/skills/linear_core/ with SKILL.md + reference/ files. SKILL.md covers: config resolution (.claude/linear.yaml + .claude/linear.local.yaml merge), credential handling (LINEAR_API_TOKEN env var + docs for 1Password/direnv alternatives), mention syntax (https://linear.app/{workspace}/profiles/{displayName} NOT @username), team data lookup patterns. reference/ holds: config schema docs, GraphQL query patterns for teams/users/states. This is the foundational skill all other linear_* skills reference. Uses packages/linear Graffle client.","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:18.064541-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:00:11.864777-05:00","closed_at":"2026-01-28T01:00:11.864777-05:00","close_reason":"linear_core skill created with SKILL.md + reference/ files covering config, auth, mentions, and team data","dependencies":[{"issue_id":"dotfiles-dqa","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:31:27.152607-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ds9","title":"Try CC 2.1.18 custom keybindings – can vim mode be customized?","description":"## Context\n\nCC 2.1.18 introduced custom keybindings: https://code.claude.com/docs/en/keybindings\nRun `/keybindings` to get started. Supports per-context config and chord sequences.\n\n## Question to Answer\n\nCan vim mode keybindings be customized, or only the component-level keybindings?\n\nThe docs are vague. They say vim mode and keybindings \"operate independently\":\n\n\u003e - Vim mode handles input at the text input level (cursor movement, modes, motions)\n\u003e - Keybindings handle actions at the component level (toggle todos, submit, etc.)\n\u003e - The Escape key in vim mode switches INSERT to NORMAL mode; it does not trigger chat:cancel\n\u003e - Most Ctrl+key shortcuts pass through vim mode to the keybinding system\n\u003e - In vim NORMAL mode, ? shows the help menu (vim behavior)\n\nThis suggests you can only customize component-level actions (chat:cancel, todo:toggle, etc.) but NOT the vim motions/modes themselves. But it's unclear — need to try it hands-on.\n\n## Tasks\n\n- [ ] Read the full keybindings docs page\n- [ ] Check if there's a keybindings config file or JSON schema\n- [ ] Try remapping a vim-level key (e.g. Escape, j/k) and see if it works\n- [ ] Try remapping a component-level key while vim mode is on\n- [ ] Document findings","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:14:04.620456-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:15:17.993032-05:00","labels":["learning"]}
{"id":"dotfiles-dxk","title":"Add pre-clear commit check hook","description":"Often clearing means work was done. If the user forgets to commit before clearing, post-clear they lose context — recovering requires finding the previous session ID or redoing context build just to make a good commit. Solution: a hook (likely PreToolUse or similar) that runs before /clear, checks git status for uncommitted changes, and warns/prompts the user to commit first.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:09:41.43657-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:09:41.43657-05:00","labels":["hook"]}
{"id":"dotfiles-e3x","title":"Track Ghostty custom link regex feature","description":"Ghostty's 'link' config option (custom regex patterns for clickable text) is documented but marked 'TODO: This can't currently be set\\!' as of Ghostty 1.2.3. Track this for when it ships — would enable terminal-side file path detection without needing OSC 8 tags from each program. Refs: https://ghostty.org/docs/config/reference, https://github.com/ghostty-org/ghostty/issues/1972, https://github.com/ghostty-org/ghostty/discussions/4379","status":"open","priority":4,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:43.523271-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:23:43.523271-05:00","labels":["ghostty","learning"]}
{"id":"dotfiles-ern","title":"Create linear_current-issue skill (issue context resolution)","description":"Create claude/skills/linear_current-issue/ with SKILL.md. Resolution order: (1) check branch name for issue identifier pattern, (2) load .claude/issue.md context file if exists, (3) query Linear for user's assigned incomplete issues, (4) ask user as last resort. Port from HB's current-linear-issue skill. References linear_core for config/auth and packages/linear Graffle client for queries.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:19.63849-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:03:20.330285-05:00","closed_at":"2026-01-28T01:03:20.330285-05:00","close_reason":"linear_current-issue skill created with branch→context file→query→ask resolution chain","dependencies":[{"issue_id":"dotfiles-ern","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.300217-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-es4","title":"Convert qaloop command to skill","description":"Convert claude/commands/qaloop.md to a proper skill in claude/skills/. Runs structured Q\u0026A loop within current or selected role.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.860517-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.860517-05:00","labels":["skill"]}
{"id":"dotfiles-ewt","title":"Review imported skills/commands authoring content for cc_authoring skill","description":"Imported content covering Skills Authoring and Commands Authoring conventions needs triage before merging into the cc_authoring skill.\n\n## What needs review\n\nTwo sections of imported content:\n\n1. **Commands Authoring** - frontmatter rules, body conventions, heading purposes (Steps/Reference/Notes), file location/naming\n2. **Skills Authoring** - directory conventions, heading purposes table (CRITICAL/Use Cases/Requirements/Credentials/Steps/Operations/Examples/Reference/Notes/Appendix)\n\n## What to check\n\n- Deduplicate against the existing `writing-skills` superpowers skill (superpowers:writing-skills) which is a style guide for skill authoring\n- Determine what's net-new vs redundant\n- Decide what belongs in cc_authoring vs writing-skills vs both\n- The commands authoring section references `plugin-dev:command-development` and skills section references `plugin-dev:skill-development` — verify these are the right cross-references\n\n## Imported content\n\nSee the user message in session 4e09a377-ee15-4c40-afb1-150c12b776c4 for the full imported text.","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:15:52.858809-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:15:52.858809-05:00","labels":["skill"]}
{"id":"dotfiles-f7x","title":"Convert role-tech-lead command to skill","description":"Convert claude/commands/role-tech-lead.md to a proper skill in claude/skills/. Tech Lead role for implementation planning and delivery.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.026595-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.026595-05:00","labels":["skill"]}
{"id":"dotfiles-fjg","title":"Convert start command to skill","description":"Convert claude/commands/start.md to a proper skill in claude/skills/. Initializes Claude session with project awareness.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.10521-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.10521-05:00","labels":["skill"]}
{"id":"dotfiles-fn1","title":"Migrate HB: remove Linear MCP + old skills, add config, update refs","description":"In HB repo (heartbeat-chat/Heartbeat): (1) Delete .mcp.json 'linear' entry (StreamLinear). (2) Remove official Linear plugin from marketplace config if present. (3) Clean settings.json / settings.local.json / settings.local.json.example — remove mcp__linear permissions. (4) Delete skills: managing-linear-issues/, current-linear-issue/, uploading-to-linear/. (5) Create .claude/linear.yaml with HB team data (11 members with UUIDs, workspace slug 'heartbeat-chat', team IDs). (6) Create .claude/linear.local.yaml.example showing override pattern. (7) Update CLAUDE.md references from old skill names to new linear_* namespace. (8) Add .claude/linear.local.yaml to .gitignore.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:21.651367-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:07:34.988145-05:00","closed_at":"2026-01-28T01:07:34.988145-05:00","close_reason":"HB migrated: removed StreamLinear MCP, deleted 3 old skills, created linear.yaml, updated CLAUDE.md references","dependencies":[{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-h9m","type":"blocks","created_at":"2026-01-28T00:31:27.505229-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-ern","type":"blocks","created_at":"2026-01-28T00:31:27.573309-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-fn1","depends_on_id":"dotfiles-le0","type":"blocks","created_at":"2026-01-28T00:31:27.639721-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-fth","title":"Create skill: agent-mistake-analysis (human-invokable)","description":"Create a human-only invokable skill that formalizes the loop for analyzing agent mistakes/waste. When a user observes suboptimal agent behavior (wrong tool choice, token waste, unnecessary steps), this skill walks through: (1) What happened — detailed step-by-step of the agent's actions with timestamps/tool calls, (2) Why it happened — internal reasoning that led to the choice, (3) What should have happened — the optimal path, (4) Root cause — was it a missing rule, skill gap, ambiguous instruction, or wrong heuristic, (5) Fix — concrete rule/skill/config change to prevent recurrence. Frontmatter must include: invocable-by: human (not machine). The skill should produce actionable output: either a new rule, a skill update, or a config change.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:47:22.706666-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:47:22.706666-05:00","labels":["skill"]}
{"id":"dotfiles-h02","title":"skill-review: dprint SKILL.md moderately thick, no reference files","description":"## Skill: dprint\n**Files reviewed:** claude/skills/dprint/SKILL.md (135 lines, no reference files)\n\n### Finding 1: SKILL.md carries all content inline with no reference files\n\n**Violates:** \"SKILL.md is thin -- defers to reference files for details (progressive disclosure)\"\n\n**Current state:** 135 lines covering config resolution, plugins (with 8-item common plugins list and config examples), CLI commands (12 commands), editor integration (Zed, VS Code, Neovim), dotfiles pattern, and excludes. No reference files.\n\n**Proposed fix:** Extract the two heaviest sections into reference files:\n\n1. Create `reference/plugins.md` with the Plugins section (lines 27-58): plugin URL format, common plugins list, plugin config examples, update instructions. (~30 lines)\n\n2. Create `reference/editor-integration.md` with the Editor Integration section (lines 75-96): Zed config, VS Code, Neovim. (~20 lines)\n\n3. Replace in SKILL.md with pointers:\n```markdown\n## Plugins\n\nPlugins are WASM files loaded via URL in `dprint.json`. See `reference/plugins.md` for common plugins and config.\n\n## Editor Integration\n\nSee `reference/editor-integration.md` for Zed, VS Code, and Neovim setup.\n```\n\nThis brings SKILL.md down to ~85 lines focused on: config resolution (the critical \"CC misconception\" fix), CLI commands, dotfiles pattern, and excludes.\n\n### Finding 2: \"CC Misconception\" framing is slightly decorative\n\n**Violates:** \"No tutorial-style narrative or storytelling\" (mild)\n\n**Current text (lines 12-13):**\n\u003e **CC Misconception:** \"dprint is project-local only.\" **Wrong.** dprint supports:\n\n**Proposed fix:** Reframe without the narrative wrapper:\n```markdown\n## Config Resolution\n\ndprint is NOT project-local only. It supports three resolution modes:\n```\n\nThis preserves the critical correction (which has real value for agent accuracy) while dropping the theatrical framing.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:06.14286-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:03:48.386713-05:00","closed_at":"2026-01-29T14:03:48.386713-05:00","close_reason":"Fixed: Extracted plugins to reference/plugins.md, editor integration to reference/editor-integration.md, moved CC Misconception framing to DESIGN.md, reframed Config Resolution neutrally. SKILL.md reduced from 135 to 87 lines."}
{"id":"dotfiles-h2x","title":"Fix writing-gherkin skill quality issues","description":"## Files Reviewed\n\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/writing-gherkin/SKILL.md (354 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/writing-gherkin/TODO.md (89 lines)\n\n## Findings\n\n### 1. SKILL.md is NOT thin -- violates progressive disclosure (Structure checklist)\n\nCurrent: SKILL.md is 354 lines with all content inlined -- syntax reference, style rules, structure guide, examples, validation section. No reference files exist.\n\nViolation: \"SKILL.md is thin -- defers to reference files for details (progressive disclosure)\"\n\nFix: Extract into reference files:\n- Move \"Syntax\" section (lines 48-70), \"Style Rules\" section (lines 72-129), \"Structure\" section (lines 131-272), \"Examples\" section (lines 274-319) into reference/syntax-and-style.md\n- Move \"Validation\" section (lines 321-343) into reference/validation.md\n- Keep in SKILL.md only: the intro, Agent Mode, CRITICAL section (Avoid AI Slop + One Scenario = One Behavior), and pointers to reference files\n\n### 2. References non-existent validation scripts (Content Quality checklist)\n\nCurrent (lines 327-331):\n  echo \"$GHERKIN_CONTENT\" | scripts/validate-syntax.sh -\n  echo \"$GHERKIN_CONTENT\" | scripts/check-slop.sh -\n  echo \"$GHERKIN_CONTENT\" | scripts/lint.sh -\nAlso referenced on line 23: scripts/validate-all.sh\n\nViolation: \"Code examples are complete and runnable, not fill-in-the-blank\" -- these scripts do not exist in the skill directory.\n\nFix: Either create the scripts in scripts/ directory, or remove the validation section and script references. If scripts are aspirational (per TODO.md context), remove the references and note in TODO.md that validation tooling is planned.\n\n### 3. Cross-reference format wrong (CSO checklist)\n\nCurrent (line 354):\n  - writing-specs skill - spec authoring process, Ubiquitous Language, terminology\n\nViolation: \"Cross-references use 'REQUIRED SUB-SKILL: name' format, not @ links\"\n\nFix: Replace with:\n  REQUIRED SUB-SKILL: writing-specs - spec authoring process, Ubiquitous Language, terminology","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:08.307985-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:25.655673-05:00","closed_at":"2026-01-29T14:01:25.655673-05:00","close_reason":"Fixed: Extracted syntax/style/structure/examples into reference/syntax-and-style.md, removed non-existent validation script references, fixed cross-reference to REQUIRED SUB-SKILL format","dependencies":[{"issue_id":"dotfiles-h2x","depends_on_id":"dotfiles-rog.6","type":"blocks","created_at":"2026-01-29T01:03:08.30963-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-h8v","title":"Implement shan task subcommand (dump + open)","description":"## Summary\n\nImplement `shan task dump` and `shan task open` subcommands in `packages/shan/`. Design finalized in dotfiles-ws1 (closed — read its conclusion for the full aligned spec).\n\n## Depends On\n\n- **dotfiles-ws1** (closed) — design spec. Read its close reason for the complete aligned design.\n\n## What to Build\n\n### 1. `src/lib/task-schema.ts` — Effect Schema for CC task JSON\n\nDrafted schema (copy to `packages/shan/src/lib/task-schema.ts`):\n\n```typescript\nimport { Schema } from \"effect\"\n\nexport const TaskStatus = Schema.Literal(\n  \"pending\",\n  \"in_progress\",\n  \"completed\",\n  \"deleted\",\n)\nexport type TaskStatus = typeof TaskStatus.Type\n\nexport const TaskMetadata = Schema.Record({\n  key: Schema.String,\n  value: Schema.Unknown,\n})\nexport type TaskMetadata = typeof TaskMetadata.Type\n\nexport const Task = Schema.Struct({\n  id: Schema.String,\n  subject: Schema.String,\n  description: Schema.String,\n  activeForm: Schema.String,\n  status: TaskStatus,\n  blocks: Schema.Array(Schema.String),\n  blockedBy: Schema.Array(Schema.String),\n  owner: Schema.optional(Schema.String),\n  metadata: Schema.optional(TaskMetadata),\n})\nexport type Task = typeof Task.Type\n```\n\n### 2. `src/lib/task-resolver.ts` — Target resolution\n\nParse `\u003clist\u003e@\u003ctask\u003e` syntax. Resolution order:\n1. Exact match on named list dir in `~/.claude/tasks/`\n2. UUID prefix match on task list dirs\n3. Substring match on task subjects across in-scope lists\n4. Fallback: current session (via `/tmp/claude-session-id-{cwdHash}`)\n\nFlags: `--global`/`-g` shows all lists. Default: project-scoped (UUID lists matching current project's session transcripts + all named lists).\n\n### 3. `src/lib/task-picker.ts` — Flat grouped Clack picker\n\nShow all tasks across in-scope lists, grouped by list name:\n```\n◆ Select a task or list:\n│ ▸ [e2e-testing]                    ← selectable (dir-level)\n│   ● #1  Run smoke tests\n│   ◌ #2  Add CI integration\n│ ▸ [dotfiles]                       ← selectable (dir-level)\n│   ● #2  Configure Playwright\n│   ◌ #3  Generate specs             (blocked: #2)\n```\n\nStatus icons: `●` in_progress, `◌` pending, `✓` completed.\nNamed lists: never truncated.\nSort: in_progress → pending → completed (most recent first).\nFreshness: show open + completed within 24h (via file mtime). v1 fallback: all states if tricky.\n\n### 4. `src/bin/task/dump.ts`\n\n| Target | Behavior |\n|--------|----------|\n| Dir (list) | Copy all `.json` files → `.claude/tasks/\u003clist\u003e/` in project |\n| File (task) | Copy single `.json` → `.claude/tasks/\u003clist\u003e/\u003cn\u003e.json` in project |\n| `--md` | Convert each task JSON to formatted markdown instead of raw JSON |\n\n### 5. `src/bin/task/open.ts`\n\n| Target | Behavior |\n|--------|----------|\n| Dir (list) | `zed ~/.claude/tasks/\u003clist\u003e/` |\n| File (task) | `zed ~/.claude/tasks/\u003clist\u003e/\u003cn\u003e.json` |\n\nUses `$EDITOR` with Zed as primary target.\n\n### 6. Wire into `src/bin/shan.ts`\n\nAdd `task` namespace alongside existing `transcript` namespace.\n\n### 7. Companion skill: `claude/skills/shan-tasks/SKILL.md`\n\nDocuments `shan task dump` / `shan task open` so Claude can suggest them for zero-cost task inspection outside CC. No slash command.\n\n## Key Patterns (from existing shan code)\n\n- Entry point: `#!/usr/bin/env bun`, namespace → command → positional args\n- Effect monad for composition and error handling\n- `@clack/prompts` for interactive TUI\n- Session resolver at `src/lib/session-resolver.ts` — reuse project-scoping logic\n- Arg parsing: simple flag extraction + positional collection (see shan.ts)","status":"closed","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T15:33:57.064151-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T02:18:18.77882-05:00","closed_at":"2026-01-29T02:18:18.77882-05:00","close_reason":"All 7 deliverables implemented: task-schema.ts, task-resolver.ts, task-picker.ts, bin/task/dump.ts, bin/task/open.ts, wired into shan.ts, and companion skill documented in existing shan/SKILL.md","dependencies":[{"issue_id":"dotfiles-h8v","depends_on_id":"dotfiles-ws1","type":"blocks","created_at":"2026-01-27T15:34:00.793982-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-h9m","title":"Create linear_managing-issues skill (search, create, update, comment)","description":"Create claude/skills/linear_managing-issues/ with SKILL.md + reference/. Workflows: search issues (with canceled exclusion), create issues (search-before-create guard), update issue state/assignee/priority, comment on issues (with mention syntax from linear_core). Each workflow references the Graffle client from packages/linear for GraphQL operations. Port logic from HB's managing-linear-issues skill but as user-level skill. reference/ holds detailed GraphQL query examples for each operation.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:18.963191-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:04:04.945505-05:00","closed_at":"2026-01-28T01:04:04.945505-05:00","close_reason":"linear_managing-issues skill created with search, create, update, and comment workflows","dependencies":[{"issue_id":"dotfiles-h9m","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.231575-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-hm5","title":"Hook: warn when citing GitHub issues without checking open/closed status","description":"## Context\n\nSession: claude --resume e1cd23c3-214f-4c9c-936e-2fcdee19c3a6\n\nDuring investigation of Linear mention rendering, the agent cited GitHub issue linear/linear#351 as evidence of a known regression — but never checked whether the issue was open or closed. If it had been closed (e.g., with a fix shipped), the entire analysis conclusion would have been wrong.\n\n## Problem\n\nWhen an agent links to a GitHub issue/PR as supporting evidence, it should verify the current status (open/closed/merged) because:\n- A closed issue may mean the bug is fixed → different advice\n- A merged PR may mean the feature shipped → different approach\n- Stale open issues may have newer context in comments\n\n## Desired Solution\n\nA hook (or rule, or agent guard) that fires when a GitHub URL is about to be presented to the user. At minimum, warn the agent to check status. Ideally, auto-fetch status via `gh issue view` or `gh pr view` and inject it.\n\nCandidate approaches:\n1. **PostToolUse hook on Bash/WebFetch** — detect GitHub URLs in output, warn\n2. **Rule in CLAUDE.md** — \"always check issue/PR status before citing\"\n3. **PreToolUse hook** — intercept before the agent sends a message containing a GH link\n4. **Hookify rule** — prompt-based hook that checks for GH URLs\n\n## Paper Trail\n\n- Session where bug occurred: e1cd23c3-214f-4c9c-936e-2fcdee19c3a6\n- The specific instance: agent cited linear/linear#351 to explain Linear mention rendering regression, didn't verify if issue was still open","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-30T14:57:55.76276Z","created_by":"Jason Kuhrt","updated_at":"2026-01-30T14:57:55.76276Z","labels":["hook"]}
{"id":"dotfiles-i6z","title":"linear skill: missing H1 and description violations","description":"## Skill: linear\nPath: claude/skills/linear/SKILL.md\n\n### Findings\n\n1. **Missing H1 heading**\n   - Violates: \"Document has an H1 heading (#)\"\n   - SKILL.md jumps from frontmatter directly to \"## Topics\" (H2).\n   - Fix: Add an H1 heading after the frontmatter:\n     ```\n     # Linear\n     ```\n     Insert between the closing `---` and `## Topics`.\n\n2. **Description summarizes workflow instead of only listing triggering conditions**\n   - Violates: \"description does NOT summarize the skill workflow/process -- triggering conditions only\"\n   - Current: \"Use when working with Linear — searching/creating/updating issues, uploading attachments, resolving current issue context, executing GraphQL queries, or pulling workspace settings. Covers API scripts, auth config, and mention syntax.\"\n   - The second sentence \"Covers API scripts, auth config, and mention syntax.\" is a workflow summary, not a trigger condition.\n   - Fix: Remove the second sentence. Replace the description with:\n     ```\n     Use when working with Linear -- searching/creating/updating issues, uploading attachments, resolving current issue context, executing GraphQL queries, or pulling workspace settings.\n     ```\n   - Note: also replace the em dash (—) with two hyphens (--) to avoid special characters, though the checklist only restricts special chars in the name field, not description. This is optional.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:40.922809-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:55.528124-05:00","closed_at":"2026-01-29T14:01:55.528124-05:00","close_reason":"No remaining fixes: H1 heading and description already fixed in prior wave"}
{"id":"dotfiles-i83","title":"Build meta-skill: D2-driven skill authoring","description":"## Problem\n\nDesigning and maintaining complex skills (like git-sync) is manual layout work. You decide what's inline, what's in references, how to structure progressive disclosure, which format to use. These are repeatable decisions that should be derivable from a flow spec.\n\n## Core Insight\n\nProcedural logic is fundamentally a directed graph. Lists are linearizations. D2 expresses the graph directly — making it the natural **design format** for flow-based skills.\n\nLLMs execute best from sequential prose with conditionals — making linearized formats (speclist, markdown) the natural **execution format**.\n\nThese are different jobs. A meta-skill bridges them: reads D2 design intent, produces whatever skill layout CC will execute most reliably from.\n\n## What the Meta-Skill Does\n\n**Input:** A `.d2` file specifying flow intent (nodes, edges, containers, markdown block strings with tables/code/notes)\n\n**Output:** An optimal skill layout — file structure, format choices, progressive disclosure — that CC will execute reliably from.\n\n### Operations\n\n1. **Greenfield** — Generate a new skill from a D2 spec\n2. **Brownfield** — Update an existing skill after D2 spec changes (targeted edits, not full regeneration)\n3. **Validation** — Check that a skill's implementation aligns with its D2 spec, report drift\n\n## D2 as Spec Format\n\nD2 block strings make it expressive enough for skill specs:\n- `|md ... |` — markdown (headers, lists, bold)\n- `||md ... ||` — markdown with tables (double-pipe escapes inner pipes)\n- `|sh ... |` — shell commands with syntax highlighting\n- `|`md ... `|` — alternative delimiter for complex content\n- Container names = operation/procedure names\n- Diamond shapes = decision points\n- Edge labels = conditions\n- Terminal nodes = HALT / END exit points\n- Comments (#) = context not in the flow\n\nD2 source text (not rendered ASCII/SVG) is what agents read. ASCII rendering drops all rich content to empty boxes.\n\n## What We Don't Know Yet\n\nLayout decisions (progressive disclosure, file splitting, format selection, inline vs extracted content) need to be driven by **semantic meaning** — not by graph shape metrics like node count or nesting depth. The right heuristics are unknown and must be discovered empirically.\n\n**The writing-skills TDD principle applies:** Do this workflow manually 2-3 times before encoding as a skill. Each manual iteration should surface what layout decisions were made and WHY — building the heuristic vocabulary.\n\n### Suggested manual iterations\n1. Take git-sync's existing `reference/flow.d2` and try generating SKILL.md from it — note every decision and gap\n2. Design a NEW skill in D2 first, then produce the skill layout — note what D2 couldn't express and what layout choices felt obvious vs. ambiguous\n3. Edit the D2 for an existing skill and try brownfield sync — note where targeted edits worked and where full regeneration was needed\n\n## Dependencies\n\n- D2 skill (syntax, rendering, docs access via `gh api` against `terrastruct/d2-docs`)\n- speclist skill (flow format syntax — used when warranted, not always)\n- writing-skills (token budgets, CSO, anti-patterns, quality criteria)\n- writing-compact (formatting rules when compressing)\n\n## Prior Art\n\n- git-sync: complex flow-based skill (8 Plan steps, 6 Execute steps, 5 Procedures) — analyzed as test case\n- git-sync now has `reference/flow.d2` as a companion visual reference — candidate for first manual iteration\n- d2lang.com blocks automated fetches (403); use `gh api repos/terrastruct/d2-docs/contents/docs/tour/\u003cpage\u003e.md --jq '.content' | base64 -d` for docs","notes":"## Goal\n\nA validated design for the meta-skill, produced through manual iterations. **Done** means:\n\n1. 2-3 manual iterations completed (D2 → skill layout, each documenting decisions made and why)\n2. Heuristics for layout decisions discovered and documented (what drives format selection, progressive disclosure, file splitting — based on semantic meaning, not graph shape)\n3. A design doc describing the meta-skill's operations, inputs, outputs, and decision heuristics — ready to be encoded as a SKILL.md in a follow-up bead\n\n**Not in scope:** Building the actual skill. That's a follow-up after the design is validated.\n\n## Completed\n\nAll 3 iterations completed. Design doc written to `claude/skills/d2-skill-authoring/d2-skill-authoring.md`.\n\nIteration evidence in `claude/skills/d2-skill-authoring/reference/`:\n- `iteration-1-greenfield-git-sync.md` — Generated SKILL.md from git-sync's flow.d2\n- `iteration-2-d2-first-pr-ship.md` — Designed new pr-ship skill D2-first\n- `iteration-3-brownfield-sync.md` — Targeted edits after D2 modification\n\n### Key Discoveries\n1. D2 captures ~50% of skill info; enrichment gaps are predictable by node type\n2. Layout decisions are mostly mechanical (D2 structure → SKILL.md format)\n3. The hard part is enrichment, not layout\n4. Brownfield sync works for structural edits; topological edits need full regeneration\n5. Semantic signals (not graph shape metrics) should drive support file decisions","status":"closed","priority":1,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T10:25:05.704533-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T12:45:24.142149-05:00","closed_at":"2026-01-27T12:45:24.142149-05:00","close_reason":"All 3 manual iterations completed. Design doc with heuristics written to claude/skills/d2-skill-authoring/d2-skill-authoring.md. Ready for follow-up bead to encode as SKILL.md."}
{"id":"dotfiles-ifu","title":"Add teacher/doctor naming convention to skills rules","description":"Add naming convention to .claude/rules/skills.md:\n\n**teacher**: Educational, documentation, explaining concepts, reference material\n**doctor**: Setup, config checking, onboarding, linting, debugging, diagnostics\n\nThen rename 4 high-confidence skills:\n- cc:internals → cc:teacher-internals\n- audit → dotfiles:doctor  \n- cc:chrome-debugging → cc:doctor-chrome\n- reviewing-skills → skills:doctor","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:39:09.123599-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T22:46:39.179501-05:00","closed_at":"2026-01-28T22:46:39.179501-05:00","close_reason":"Added teacher/doctor naming convention to skills.md. Renamed 3 skills: cc_core → cc_teacher_core, reviewing-skills → skills_doctor, audit → dotfiles_doctor. Updated all internal cross-references. Skipped cc:chrome-debugging (it's reference material inside cc_teacher_core, not a standalone skill)."}
{"id":"dotfiles-imp","title":"CC skill to spawn new sessions in split view or fullscreen space","description":"Create a CC skill to spawn new CC sessions intelligently — either in a new fullscreen space or split on the current space.\n\n## Research Findings\n\n### macOS Limitations\n- No native terminal API for Split View (Apple private API)\n- Spaces can be controlled via yabai but not native Split View\n- Split View = special fullscreen space with two apps side-by-side (green button)\n\n### Solution: Hammerspoon + SplitView Spoon\n- GitHub: https://github.com/jdtsmith/SplitView\n- Works by simulating UI gestures (long green-button click → tile menu → second window click)\n- Requirements: Hammerspoon v0.9.79+, spaces module (asmagill), macOS 14.1+\n- Supports CLI invocation (not just hotkeys)\n- Caveat: timing-dependent, can be flaky\n\n### Current Working Command (fullscreen)\n```bash\nopen --new --background -a Ghostty.app --args --fullscreen=true -e bash -c 'echo \"hello world\"; exec fish'\n```\n- --fullscreen=true already creates a new fullscreen space (Ghostty handles this)\n\n## Proposed Skill Design\n\n```\n/spawn [--split | --fullscreen] [--prompt \"task description\"]\n```\n\n### Fullscreen mode (easy, no deps)\n```bash\nopen --new --background -a Ghostty.app --args --fullscreen=true -e bash -c 'claude --resume ... ; exec fish'\n```\n\n### Split mode (requires Hammerspoon)\n1. Launch Ghostty normally (not fullscreen)\n2. Call Hammerspoon CLI to trigger SplitView with current window + new Ghostty\n\n## Open Questions\n1. Hammerspoon as dependency — acceptable?\n2. Split with current Ghostty window or some other app?\n3. Context passing to new CC: resume ID? prompt/task? project path?\n4. Focus behavior: --split should focus new? --fullscreen shouldn't?\n\n## Dependencies to Install\n- brew install hammerspoon\n- Hammerspoon spaces module\n- SplitView spoon\n\n---\nMigrated from spark: 2026-01-15-cc-spawn-skill.yml\nOriginal context: Exploring terminal-based control of macOS Spaces and Split View for launching new Claude Code instances\nSession: ~/.claude/projects/-Users-jasonkuhrt/fc29f3bb-bf77-4525-823c-7d271934f5dc.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:31.837266-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:31.837266-05:00","labels":["skill"]}
{"id":"dotfiles-jih","title":"Convert role-pm-architect command to skill","description":"Convert claude/commands/role-pm-architect.md to a proper skill in claude/skills/. PM + Architect role for feature definition and design.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.933359-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.933359-05:00","labels":["skill"]}
{"id":"dotfiles-jlu","title":"Design + implement patch engine","description":"Core sync engine. Domain-specific BookmarkPatch types (add/remove/rename/move), generatePatches (three-way diff against last_sync), resolveConflicts (newest-wins by timestamp, loser to graveyard patches), applyPatches (apply patch set to BookmarkTree). URL is identity key. Needs design deep-dive for: move detection vs remove+add, duplicate URL handling, edge cases. See docs/plans/2026-02-01-bookmarks-v1-design.md.","status":"closed","priority":1,"issue_type":"task","assignee":"Jason Kuhrt/31e35ae4","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:44.631555Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:54:01.721916-05:00","closed_at":"2026-02-01T21:54:01.721916-05:00","close_reason":"Implemented the full patch engine: generatePatches, resolveConflicts, applyPatches (sync remains declare stub pending browser adapters).\n\n**Artifacts produced:**\n- `packages/bookmarks/src/lib/patch.ts` — BookmarkPatch as Data.TaggedEnum\u003c{Add, Remove, Rename, Move}\u003e with DateTime.Utc dates. Exports constructors, $is, $match. flatten (URL-keyed HashMap index), toTrie/fromTrie (path-keyed Trie↔BookmarkTree), generatePatches (three-way diff detecting add/remove/rename/move).\n- `packages/bookmarks/src/lib/sync.ts` — resolveConflicts (Array.groupBy by URL, DateTime.greaterThan newest-wins, YAML tie-break, graveyard output). applyPatches (tree→Trie, sorted patch application via $match, Trie→tree). sync remains declare.\n- `packages/bookmarks/src/lib/patch.test.ts` — 14 tests (flatten, toTrie/fromTrie round-trip, generatePatches).\n- `packages/bookmarks/src/lib/sync.test.ts` — 13 tests (resolveConflicts, applyPatches). All 27 pass.\n- `packages/bookmarks/CLAUDE.md` — Project rules: Effect data types, Data.TaggedEnum for unions, namespace imports.\n- `claude/skills/effect_review.md` — Global review skill: data structure exhaustiveness, tagged union discipline, import style, pattern quality, error handling.\n- `packages/bookmarks/src/lib/graveyard.ts` — Fixed to namespace import style.\n\n**Divergence from plan:** Human-in-the-loop drove three style refinements after initial implementation: (1) raw TS union → Data.TaggedEnum with $match/$is, (2) confirmed Data lib over Schema for domain-internal types, (3) destructured imports → namespace imports. All three codified in CLAUDE.md rules and effect_review.md skill.\n\n**Also created:** bead dotfiles-ddf for Effect data type audit fixes across stub modules (state.ts, graveyard.ts, daemon.ts) — 7 type issues tracked.","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-jlu","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.580659Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-jlu","depends_on_id":"dotfiles-a72","type":"blocks","created_at":"2026-02-01T20:13:10.734851Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-jlu","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.54604Z","created_by":"Jason Kuhrt"}],"comments":[{"id":3,"issue_id":"dotfiles-jlu","author":"Jason Kuhrt","text":"claimed by session 31e35ae4-100e-44c8-b0e2-90fd9d564361","created_at":"2026-02-01T22:20:25Z"}]}
{"id":"dotfiles-jyw","title":"notmuch skill: fat SKILL.md, description format, decorative content","description":"## Skill: notmuch\nPath: claude/skills/notmuch/SKILL.md\n\n### Findings\n\n1. **SKILL.md is not thin -- 401 lines with no progressive disclosure**\n   - Violates: \"SKILL.md is thin -- defers to reference files for details (progressive disclosure)\"\n   - SKILL.md is 401 lines and contains the entire skill content inline: core concepts, full command reference, complete search syntax, tags reference, configuration, hooks, API bindings, integration docs, strengths/limitations tables, common patterns, and version requirements.\n   - The only reference file is references/man-pages.md (389 lines of cached man pages).\n   - Fix: Extract the following sections to reference files:\n     - \"Search Syntax\" (lines 109-183) -\u003e reference/search-syntax.md\n     - \"Tags\" (lines 185-224) -\u003e reference/tags.md\n     - \"Configuration\" (lines 226-253) -\u003e reference/configuration.md\n     - \"Hooks\" (lines 255-270) -\u003e reference/hooks.md\n     - \"API \u0026 Bindings\" (lines 272-299) -\u003e reference/api-bindings.md\n     - \"Common Patterns\" (lines 346-379) -\u003e reference/common-patterns.md\n   - Keep in SKILL.md: CRITICAL section, Data Model, Threading, Basic Operations (commands), and a References section with links.\n\n2. **Description does not start with \"Use when...\"**\n   - Violates: \"description starts with 'Use when...'\"\n   - Current: \"notmuch email indexer - search, threading, tagging for local Maildir. Use when searching emails, understanding notmuch queries, or integrating with notmuch.\"\n   - The description starts with a product tagline, not a trigger condition.\n   - Fix: Reorder to start with \"Use when\":\n     ```\n     Use when searching emails, understanding notmuch queries, tagging messages, or integrating with the notmuch email indexer for local Maildir.\n     ```\n\n3. **\"Strengths (Don't Replicate)\" section is decorative/justification content**\n   - Violates: \"No 'Why X' justification sections or decorative content\"\n   - Lines 323-332 contain a \"Strengths (Don't Replicate)\" table with entries like \"Why It's Good\" and \"Battle-tested\". This is promotional/justification content.\n   - Fix: Delete the entire \"## Strengths (Don't Replicate)\" section (lines 323-332). This is decorative. If any point is operationally relevant, fold it into CRITICAL or a reference file.\n\n4. **\"Limitations\" section is decorative/justification content**\n   - Violates: \"No 'Why X' justification sections or decorative content\"\n   - Lines 334-345 contain a \"Limitations\" table. While limitations can be useful operationally, this reads as evaluation content (\"Impact\" column) rather than actionable guidance.\n   - Fix: Delete the section, or if retained, move to a reference file and make it actionable (e.g., \"When you hit this limitation, do X instead\").\n\n5. **Duplicate content between SKILL.md and references/man-pages.md**\n   - Violates: \"No redundant content repeated across files\"\n   - SKILL.md \"Search Syntax\" (lines 109-183) extensively covers search prefixes, boolean operators, date queries, regex, and thread queries.\n   - references/man-pages.md \"notmuch-search-terms(7)\" section (lines 191-285) covers the same search syntax in similar detail.\n   - Fix: After extracting search syntax to its own reference file (finding 1), remove the overlapping content from references/man-pages.md or merge into one canonical reference.\n\n6. **\"Attribution\" section at the bottom is unnecessary**\n   - Violates: \"No tutorial-style narrative or storytelling\" / token efficiency\n   - Lines 394-401 list source URLs as \"Attribution\". These URLs are already in the Documentation table at the top of the file.\n   - Fix: Delete the \"## Attribution\" section (lines 394-401). The Documentation table already provides these links.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:03.245255-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:04:32.421629-05:00","closed_at":"2026-01-29T14:04:32.421629-05:00","close_reason":"Fixed: Extracted 6 sections to reference/ (search-syntax, tags, configuration, hooks, api-bindings, common-patterns). Moved Strengths and Limitations to DESIGN.md. Deduplicated search syntax in man-pages.md with cross-reference. Removed Attribution section. SKILL.md reduced from 401 to 146 lines."}
{"id":"dotfiles-k57","title":"Add delete.ts script to Linear skill (issue + comment)","description":"## Problem\n\nThe Linear skill has no delete script. When asked to delete an issue, agents fall back to canceling it instead — wrong semantics.\n\nThe Linear API supports:\n- issueDelete(id: String!) { success }\n- commentDelete(id: String!) { success }\n- issueArchive(id: String!) { success }\n\nCurrently commentDelete is documented as a GQL escape hatch in comments.md, and issueArchive appears in a GQL example, but neither has a dedicated script.\n\n## Proposed\n\nAdd scripts/delete.ts that handles:\n- Issue deletion: bun delete.ts HEA-123\n- Comment deletion: bun delete.ts --comment COMMENT_UUID\n- Possibly archive as a flag: bun delete.ts HEA-123 --archive\n\nOr separate scripts if cleaner (delete-issue.ts, delete-comment.ts).\n\nUpdate SKILL.md script listing and managing-issues docs accordingly.\n\n## Context\n- Session: claude --resume e1cd23c3-214f-4c9c-936e-2fcdee19c3a6\n- Discovered when asked to delete test issue HEA-3964, agent canceled instead of deleting","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T16:27:12.796055Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T16:27:12.796055Z","labels":["linear"]}
{"id":"dotfiles-kos","title":"Convert writing-compact command to skill","description":"Convert claude/commands/writing-compact.md to a proper skill in claude/skills/. Reformats documentation to compact nested list style (dyslexia-friendly).","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:54.186146-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:54.186146-05:00","labels":["skill"]}
{"id":"dotfiles-ksl","title":"Fix configuring-zed skill description","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/configuring-zed/SKILL.md\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/configuring-zed/hidden-gems.md\n\n## Findings\n\n### 1. Description does not start with \"Use when\" (Frontmatter)\n**Current text:**\n```\ndescription: Provides guidance for configuring and customizing the Zed editor. Use when modifying Zed settings, keybindings, themes, or extensions.\n```\n\n**Violates:** \"description starts with 'Use when...'\" and \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n\nThe opening \"Provides guidance for configuring and customizing the Zed editor\" is a workflow summary, not a trigger condition.\n\n**Proposed fix:**\n```\ndescription: Use when modifying Zed settings, keybindings, themes, or extensions, or troubleshooting Zed editor configuration.\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:20.045569-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:08.517783-05:00","closed_at":"2026-01-29T14:02:08.517783-05:00","close_reason":"Fixed: Updated description to start with 'Use when' and removed workflow summary prefix.","dependencies":[{"issue_id":"dotfiles-ksl","depends_on_id":"dotfiles-rog.9","type":"blocks","created_at":"2026-01-29T01:03:23.210369-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-lba","title":"Fix uploading-to-gdrive skill description","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/uploading-to-gdrive/SKILL.md (45 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/uploading-to-gdrive/scripts/upload.sh (101 lines)\n\n## Findings\n\n### 1. Description does not start with \"Use when...\" (Frontmatter violation)\nCurrent description:\n```\ndescription: This skill should be used when the user asks to \"upload to Drive\", \"share via Google Drive\", \"get a Drive link\", \"upload screenshot\", \"upload recording\", \"share file\", or needs to upload files to Google Drive for embedding in Linear, GitHub, or other services.\n```\n\nProblems:\n- Starts with \"This skill should be used when\" instead of \"Use when\"\n- References \"the user\" (not third person from the system's perspective -- the description should describe triggering conditions impersonally)\n- Lists too many quoted trigger phrases rather than describing the condition concisely\n\n**Fix:** Replace description with:\n```\ndescription: Use when uploading files to Google Drive for shareable/embeddable links, including screenshots, recordings, or files to embed in Linear, GitHub, or other services\n```\n\n### 2. Skill is otherwise clean\n- SKILL.md is appropriately thin (45 lines)\n- Defers implementation to scripts/upload.sh\n- Has one excellent concrete example\n- No duplicate content","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:55.965729-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:15.63834-05:00","closed_at":"2026-01-29T14:01:15.63834-05:00","close_reason":"Fixed: Description already corrected in prior pass. No other findings -- skill is clean."}
{"id":"dotfiles-le0","title":"Create linear_uploading skill (upload, attach, download files)","description":"Create claude/skills/linear_uploading/ with SKILL.md + reference/. Three workflows: (1) Upload for embed — upload file, get assetUrl, use \\![](assetUrl) in markdown. (2) Attach — paperclip attachment to issue (documents, PDFs). (3) Download — fetch issue attachments + embedded media to disk for analysis. References packages/linear upload.ts and download.ts helpers. Port decision logic from HB's uploading-to-linear skill (attachment vs embed choice).","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:20.350607-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:03:32.283116-05:00","closed_at":"2026-01-28T01:03:32.283116-05:00","close_reason":"linear_uploading skill created with upload-for-embed, attach, and download workflows","dependencies":[{"issue_id":"dotfiles-le0","depends_on_id":"dotfiles-dqa","type":"blocks","created_at":"2026-01-28T00:31:27.36764-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-le0","depends_on_id":"dotfiles-ret","type":"blocks","created_at":"2026-01-28T00:31:27.436891-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-lh2","title":"Implement graveyard management and GC","description":"Graveyard is a _graveyard folder under 'other' bookmarks. Self-describing folder names: YYYY-MM-DD_{source}_{reason}/. Original bookmark path preserved as nested dirs inside event folder. Sources: safari, chrome-personal, etc. Reasons: conflict, deleted, reorganized. GC: age-based 90-day default, parse date from folder names, auto-run at end of sync. See docs/plans/2026-02-01-bookmarks-v1-design.md.\n\n## Convention notes (from patch engine)\n- `maxAge` parameter: use `Duration` from Effect (not `string`) — tracked in dotfiles-ddf\n- Use `Patch.$match` for exhaustive dispatch over BookmarkPatch variants\n- Use `Patch.$is(\"Variant\")` for filtering/type guards\n- All dates as `DateTime.Utc`, construct via `DateTime.unsafeMake` or `DateTime.now`\n- Namespace imports: `import * as Patch from \"./patch.js\"`\n- See `packages/bookmarks/CLAUDE.md` for full rules","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:49.222039Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:54:46.933605-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-lh2","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.650352Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-lh2","depends_on_id":"dotfiles-jlu","type":"blocks","created_at":"2026-02-01T20:13:10.816831Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-lh2","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.62573Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-lh2","depends_on_id":"dotfiles-ddf","type":"blocks","created_at":"2026-02-01T21:54:34.196202-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-m80","title":"Add 'save transcript' research variant with verbatim extraction","description":"## Summary\n\nNew research skill operation for saving transcript fragments verbatim from the current CC session, with stock metadata and optional user-directed enrichment.\n\n## Motivation\n\nCurrent \"save/flush research\" is analysis-heavy — Claude interprets and rewrites. Sometimes you want the raw exchange preserved as-is, with minimal editorial overhead. The transcript itself is the artifact.\n\n## Design\n\n### New operation: `save-transcript` (or similar)\n\n**Core behavior:**\n- Extract targeted segment of current session verbatim into a fenced codeblock\n- Minimal analysis by default (maybe a 1-line summary title, nothing more)\n- User can ask for bespoke enrichment (e.g. \"add tags\", \"summarize the takeaway\", \"annotate the key mistake\")\n\n**Stock metadata captured automatically:**\n- Timestamp (UTC)\n- Model (e.g. claude-opus-4-5-20251101)\n- Claude Code version\n- Session ID (from `claude -r \u003cid\u003e`)\n- Context window token consumption at time of save\n- Any other ambient data available\n\n**File format:**\n- Same naming convention as research (`YYYY-MM-DD-HHMM-\u003ctopic\u003e.md`)\n- Header with metadata block\n- Verbatim transcript in fenced codeblock\n- Optional enrichment section below (only if user asks)\n\n### Open questions\n- How to specify \"targeted segment\" — by turn count? keyword? \"last N exchanges\"? user points at it?\n- Where to get CC version and token count programmatically (may need `claude --version`, internal APIs, or hook data)\n- Should this be a separate operation in research.sh or a flag on existing save (e.g. `research.sh save --verbatim`)","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:32:58.604918-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:32:58.604918-05:00","labels":["research","skill"]}
{"id":"dotfiles-mh7","title":"Fix research skill quality issues","description":"## Skill Path\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/research/SKILL.md`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/research/research.sh`\n\n## Findings\n\n### 1. Missing H1 heading\n**Current:** After frontmatter, the document starts with `## Level` (H2). There is no H1 heading.\n**Violated:** \"Document has an H1 heading (#).\"\n**Fix:** Add `# Research` after the frontmatter closing `---`, before `## Level`.\n\n### 2. SKILL.md is not thin — 226 lines with heavy inline content\n**Current:** SKILL.md contains 226 lines including: Level section, Write section (with CRITICAL subsection, Operations, File Format, Notes), Prune section (with Use Cases, Scope, Conversational Heuristics table, Process), Format section (with Use Cases, Scope, Steps), and Flush CC Thread section (with Use Cases, Steps). This is a large, dense file.\n**Violated:** \"SKILL.md is thin — defers to reference files for details (progressive disclosure).\"\n**Fix:** Extract the following into reference files:\n- The Prune section (lines 113-158) with its conversational heuristics table (13 rows) into `reference/pruning.md`\n- The Format section (lines 159-197) into `reference/formatting.md`\n- The Flush CC Thread section (lines 199-226) into `reference/flush.md`\nKeep in SKILL.md: Level, Write (with Operations list and File Format), and short cross-references to the extracted sections.\n\n### 3. Description ends with workflow summary\n**Current:** `description: Use when working with research files (~/.claude/research/ by default, .claude/research/ for project level) — creating, importing, formatting, pruning conversational artifacts, or flushing session learnings before context loss. Covers research file lifecycle.`\n**Violated:** `description` does NOT summarize the skill workflow/process — triggering conditions only. The final sentence \"Covers research file lifecycle.\" is a summary of what the skill does, not a trigger condition.\n**Fix:** `description: Use when working with research files (~/.claude/research/ by default, .claude/research/ for project level) — creating, importing, formatting, pruning conversational artifacts, or flushing session learnings before context loss.`\n\n### 4. sort subcommand referenced in SKILL.md but not implemented in research.sh\n**Current (SKILL.md line 77):**\n```bash\n~/.claude/skills/research/research.sh sort\n```\n**Violated:** \"Code examples are complete and runnable, not fill-in-the-blank.\" The `sort` command is not implemented in research.sh — running it would print the usage message and do nothing.\n**Fix:** Either implement `cmd_sort` in research.sh, or remove the sort/renumber section from SKILL.md (lines 75-79). If the feature is not needed, remove it. If it is needed, implement it.\n\n### 5. Tutorial-style narrative in CRITICAL section\n**Current (lines 33-54):** The \"CRITICAL\" section contains tutorial-style narrative explaining two authorship paths with paragraph-length explanations:\n```\n**Two authorship paths — pick the right one:**\n- **Claude is the author** (flush, save, create-and-write) — write content in `writing-compact` format from the start. No separate formatting pass. No preview-iterate-apply. You're the author, so author it correctly the first time.\n- **Importing external content** (import, move) — run `writing-compact` as a separate formatting pass with preview-iterate-apply, because you're reformatting someone else's writing.\n\n**Skipping `writing-compact` entirely is a failure.** But invoking it as a separate preview-iterate step on your own freshly written content is also wrong — there's no delta to review.\n```\n**Violated:** \"No tutorial-style narrative or storytelling.\"\n**Fix:** Replace with a concise decision table:\n```\n| Authorship    | Operations              | writing-compact            |\n| ------------- | ----------------------- | -------------------------- |\n| Claude writes | flush, save, create     | Apply inline (no preview)  |\n| External      | import, move            | Preview-iterate-apply pass |\n```","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:04:08.635294-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:04:34.092841-05:00","closed_at":"2026-01-29T14:04:34.092841-05:00","close_reason":"Fixed: Extracted Prune, Format, Flush sections to reference files. Replaced tutorial narrative with decision table. Removed unimplemented sort subcommand reference. H1 and description already done."}
{"id":"dotfiles-myk","title":"Bookmarks Sync v1 MVP","description":"Bidirectional cross-browser bookmark sync from dotfiles. Bun/TS package at packages/bookmarks/. YAML source of truth with profile support (global base + profile-specific extensions), patch-based sync engine (newest-wins conflict resolution), graveyard for losers with self-describing naming and 90-day GC, launchd daemon with CLI lifecycle. Design: docs/plans/2026-02-01-bookmarks-v1-design.md","status":"open","priority":2,"issue_type":"epic","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:11:56.176358Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T20:11:56.176358Z","labels":["bookmarks"],"comments":[{"id":7,"issue_id":"dotfiles-myk","author":"Jason Kuhrt","text":"Session ccd7b52c: Safari adapter design (dotfiles-cq8) surfaced an architectural change.\n\nADAPTER API CHANGE: Browser adapters (Safari + Chrome) will use asymmetric API:\n- readBookmarks(path) → Effect\u003cBookmarkTree\u003e  (unchanged)  \n- applyPatches(path, patches: BookmarkPatch[]) → Effect\u003cvoid\u003e  (REPLACES writeBookmarks)\n\nReason: native browser formats carry per-node metadata (CloudKit Sync blobs, UUIDs, ServerIDs) that must be preserved. writeBookmarks(path, tree) would require re-diffing to figure out what changed. applyPatches receives the sync engine's patches directly and applies them surgically to the native format.\n\nThis affects: sync.ts (needs to call adapter.applyPatches not adapter.writeBookmarks), and dotfiles-3zv (Chrome adapter should use same pattern).","created_at":"2026-02-02T04:07:40Z"}]}
{"id":"dotfiles-myk.1","title":"Implement doctor CLI command for system diagnostics","description":"Add a `bookmarks doctor` CLI command that runs pre-flight diagnostics to verify the user's system is ready for bookmark sync.\n\n## Context\nUsers need a way to check their setup before running sync for the first time — or to diagnose why sync is failing. The `doctor` command is the \"is my system ready?\" counterpart to the runtime guards in dotfiles-08q (permissions/error handling). It runs all checks, reports results, and exits — no side effects.\n\n## Location\n- CLI entrypoint: `packages/bookmarks/src/bin/bookmarks.ts` — add `doctor` case to the command switch\n- New module: `packages/bookmarks/src/lib/doctor.ts` — orchestrates diagnostic checks\n- Imports from: `packages/bookmarks/src/lib/permissions.ts` (Full Disk Access check)\n- Imports from: `packages/bookmarks/src/lib/schema.ts` (YAML validation)\n\n## Approach\nThe doctor command should check:\n1. **Full Disk Access** — can we read Safari's Bookmarks.plist? (uses `permissions.checkFullDiskAccess()`)\n2. **Safari plist paths** — do the configured plist files exist for each target profile?\n3. **Chrome profile paths** — do the configured Chrome Bookmarks files exist?\n4. **YAML source of truth** — does bookmarks.yaml exist and parse/validate cleanly?\n5. **Write permissions** — can we write to the browser bookmark locations?\n\nOutput should be a checklist-style report: ✓ for passing, ✗ for failing, with actionable fix instructions for each failure. Use `@clack/prompts` for styled terminal output following the shan CLI pattern (Effect-based program structure).\n\n## Dependencies \u0026 Relations\n- Depends on: dotfiles-08q (permissions module must be implemented first — doctor imports from it)\n- Related: dotfiles-a72 (YAML schema validation — doctor uses schema validation as one of its checks)\n- Related: dotfiles-cq8, dotfiles-3zv (Safari/Chrome adapters — doctor checks the paths these adapters will use)\n- Produces: the `doctor` command in the CLI, available to all users before first sync\n\n## Acceptance\n- `bookmarks doctor` runs all checks and prints a pass/fail report\n- Each failing check includes a human-readable fix instruction\n- Exit code 0 if all checks pass, 1 if any fail\n- Works with `--dry-run` style: read-only, no side effects","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T17:05:44.648519-05:00","created_by":"Jason Kuhrt","updated_at":"2026-02-01T17:05:44.648519-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-myk.1","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T17:05:44.649142-05:00","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-myk.1","depends_on_id":"dotfiles-08q","type":"blocks","created_at":"2026-02-01T17:05:44.65001-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-n79","title":"Apply namespace to git-*, ts-*, research-* skills + merge shan-tasks into shan","description":"Rename remaining namespaced skill groups and merge shan-tasks.\n\ngit-* skills:\n- git-commit → git_commit (git:commit)\n- git-mode-control → git_mode-control (git:mode-control)\n- git-sync → git_sync (git:sync)\n- git-worktree → git_worktree (git:worktree)\n\nts-* skills:\n- ts-benchmarking-types → ts_benchmarking-types (ts:benchmarking-types)\n- ts-buildinfo → ts_buildinfo (ts:buildinfo)\n- ts-domain-modeling → ts_domain-modeling (ts:domain-modeling)\n- ts-exploring-packages → ts_exploring-packages (ts:exploring-packages)\n- ts-formatting-conditional-types → ts_formatting-conditional-types (ts:formatting-conditional-types)\n- ts-type-parameters → ts_type-parameters (ts:type-parameters)\n- ts-writing-jsdoc → ts_writing-jsdoc (ts:writing-jsdoc)\n- ts-writing-tests → ts_writing-tests (ts:writing-tests)\n\nresearch-* skills:\n- research-flush-cc-thread → research_flush-cc-thread (research:flush-cc-thread)\n- research-format → research_format (research:format)\n- research-prune → research_prune (research:prune)\n- research-write → research_write (research:write)\n\nshan-tasks merge:\n- Merge shan-tasks content into shan/SKILL.md as a new operation\n- Delete shan-tasks directory after merge\n\nFor each skill:\n1. Rename directory\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:16.823174-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.228948-05:00","closed_at":"2026-01-27T22:48:57.228948-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-n79","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:28.144042-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-nez","title":"Convert fix-types command to skill","description":"Convert claude/commands/fix-types.md to a proper skill in claude/skills/. Fixes all TypeScript errors in a specified path.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:06:53.678129-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:06:53.678129-05:00","labels":["skill"]}
{"id":"dotfiles-nzo","title":"Linear scripts: unify issue resolution to handle both UUIDs and identifiers","description":"## Problem\n\n`comment.ts` and `update.ts` in `linear_managing-issues` resolve issue parameters using `searchIssues` exclusively. This is a text search API — it searches issue titles, descriptions, and comments. When a UUID is passed instead of an identifier (e.g. `HEA-3849`), searchIssues treats it as a text query and can silently match the wrong issue.\n\n**Observed failure:** A comment intended for HEA-3849 was posted to HEA-2985 because the agent passed a UUID to comment.ts, which fed it to searchIssues as a text query. The text search matched a different issue entirely.\n\n## Root Cause\n\nInconsistent resolution patterns across scripts:\n- `get.ts` — correctly detects UUID vs identifier and uses direct `client.query.issue({ id })` for UUIDs\n- `comment.ts` — always uses `searchIssues` (broken for UUIDs)\n- `update.ts` — always uses `searchIssues` (broken for UUIDs)\n- `resolve.ts` (linear_current-issue) — always uses `searchIssues` (broken for UUIDs)\n\n## Solution\n\nExtract a shared `resolveIssue` utility (e.g. `packages/linear/src/resolve-issue.ts`) that:\n1. Detects if input matches UUID pattern (contains `-`, length \u003e 10, NOT matching `^[A-Z]+-\\d+$`) → uses `client.query.issue({ id })` for direct lookup\n2. Detects if input matches identifier pattern (`^[A-Z]+-\\d+$`) → uses `searchIssues`\n3. Returns the resolved issue ID or errors clearly\n\nUpdate all scripts to use this shared resolver:\n- `~/.claude/skills/linear_managing-issues/scripts/comment.ts`\n- `~/.claude/skills/linear_managing-issues/scripts/update.ts`\n- `~/.claude/skills/linear_managing-issues/scripts/get.ts` (already has the logic, refactor to use shared util)\n- `~/.claude/skills/linear_current-issue/scripts/resolve.ts`\n\n## Impact\n\nSilent data corruption — comments/updates land on wrong issues with no error. P2 because it requires an agent to accidentally pass a UUID (uncommon path) but the failure mode is severe (wrong-issue mutation with no warning).","status":"closed","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T12:53:48.974235-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T12:58:07.640727-05:00","closed_at":"2026-01-28T12:58:07.640727-05:00","close_reason":"Added shared resolve-issue.ts utility. Updated comment.ts, update.ts, get.ts, and resolve.ts to use unified UUID-vs-identifier detection."}
{"id":"dotfiles-ozp","title":"Consolidate beads_* user skills into single skill","description":"Merge 3 beads_* USER skills (teacher, fanout, teacher-refresh) into single beads-meta router skill. These are the user-level skills about beads methodology, NOT the plugin commands (which are untouchable).\n\nRegistry savings: ~2 entries (~90 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing sub-files → `reference/\u003ctopic\u003e/`\n\n### Plan: 3 beads_* USER skills → 1 router skill\n\n**IMPORTANT:** These are USER skills in dotfiles, NOT the beads plugin commands. The plugin commands (beads:create, beads:list, etc.) are untouchable.\n\n#### Router: `beads-meta/` (name: `beads-meta`)\n\nCannot use `beads/` as directory name since that could conflict with the plugin namespace.\n\n**Source skills (verify each for sub-files before migrating):**\n- `beads_teacher` — **LIKELY HAS PROGRESSIVE DISCLOSURE** (reported 9 files, verify structure)\n- `beads_fanout` — check for sub-files\n- `beads_teacher-refresh` — check for sub-files\n\n**Target structure:**\n```\nbeads-meta/\n├── SKILL.md\n├── reference/\n│   ├── teacher/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── fanout/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── teacher-refresh/\n│       └── overview.md (+ any existing sub-files)\n├── scripts/\n```\n\n**SKILL.md description:** `Use when onboarding beads for persistent agent memory, orchestrating parallel subagents for ready tasks, or verifying beads:teacher accuracy. Covers beads methodology, not beads CLI commands (those are in the beads plugin).`\n\n### Execution Steps\n\n1. Read all 3 source skill directories to check for sub-files\n2. Create `beads-meta/` directory and SKILL.md\n3. Migrate per merger rules\n4. Delete all 3 old `beads_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `beads-meta/` (avoids plugin namespace collision)\n- Frontmatter name: `beads-meta`\n- Topic subdirs: kebab-case matching former skill name without `beads_` prefix","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:19.547589-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.875251-05:00","closed_at":"2026-01-28T15:07:10.875251-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-pnd","title":"Review zerebos/ghostty-config for configuration ideas","description":"Check out https://github.com/zerebos/ghostty-config for Ghostty configuration ideas and patterns to potentially adopt.\n\nFound while collecting Ghostty + tmux integration resources. May have useful patterns for keybindings, themes, or workflow integrations.\n\nNext action: Review repo and extract useful patterns.\n\n---\nMigrated from spark: 2026-01-25-ghostty-config-reference.yml\nOriginal context: Found while collecting Ghostty + tmux integration resources.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:43.710014-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:43.710014-05:00","labels":["ghostty","learning"]}
{"id":"dotfiles-qb5","title":"beads_teacher skill review findings","description":"## Skill Review Findings: beads_teacher\n\n**Files reviewed:**\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/SKILL.md`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher/overview.md`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher/architecture.md`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher/architecture.d2`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher/architecture.txt`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher/comparison.md`\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_teacher/reference/teacher-refresh/overview.md`\n\n### Finding 1: name contains colon (special char)\n\n**Current:** `name: beads:teacher`\n**Checklist item:** name uses letters, numbers, hyphens only (no parens, special chars)\n**Proposed fix:** Change to `name: beads-teacher`\n\nNote: The colon is a CC plugin namespace convention. If accepted, disregard.\n\n### Finding 2: Missing H1 heading\n\n**Current:** SKILL.md starts with `## Topics` (H2)\n**Checklist item:** Document has an H1 heading (#)\n**Proposed fix:** Add an H1 heading before `## Topics`:\n\n```markdown\n# Beads Teacher\n```\n\n### Finding 3: description contains scope summary, not just triggering conditions\n\n**Current:**\n```\ndescription: Use when onboarding beads for persistent agent memory, orchestrating parallel subagents for ready tasks, or verifying beads:teacher accuracy. Covers beads methodology, not beads CLI commands (those are in the beads plugin).\n```\n\n**Checklist item:** description does NOT summarize the skill workflow/process -- triggering conditions only\n**Problem:** \"Covers beads methodology, not beads CLI commands (those are in the beads plugin).\" is scope clarification, not a triggering condition.\n**Proposed fix:**\n```\ndescription: Use when onboarding beads for persistent agent memory, orchestrating parallel subagents for ready tasks, or verifying beads:teacher accuracy.\n```\n\nRemove the scope summary sentence. The trigger conditions already make it clear what the skill covers.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:15.789557-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T10:27:02.476429-05:00","closed_at":"2026-01-29T10:27:02.476429-05:00","close_reason":"All findings already resolved: H1 fixed (trivial wave), description trimmed (trivial wave), colon in name accepted as valid namespace convention."}
{"id":"dotfiles-qg8","title":"Evaluate Tokyo Night tmux plugin","description":"Investigate if tmux-tokyonight plugin is needed.\n\n**Current state:**\n- Tokyo Night theme configured at Ghostty terminal level\n- tmux status bar uses minimal styling (bg=default, fg=white/cyan)\n\n**Question:**\nDoes Ghostty's Tokyo Night theme cascade into tmux adequately, or does tmux need its own theme plugin for:\n- Status bar colors\n- Pane borders\n- Copy mode highlighting\n- Message/prompt colors\n\n**Plugin:** https://github.com/janoamaern/tokyo-night-tmux (or similar)\n\n**Decision criteria:**\n- If current look is acceptable → skip plugin\n- If tmux UI elements look inconsistent → add plugin","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-25T14:07:54.6932-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-25T14:07:54.6932-05:00","labels":["learning","tmux"]}
{"id":"dotfiles-r6f","title":"Deep review and iterate Zed keybindings and keyboard-only workflow","description":"Revisit Zed keybinding configuration for maximum keyboard-only flow. Last deep pass was ~10 months ago (Apr 2025). The 2026 agentic workflow has changed what actions matter most.\n\nGoals:\n- Audit current Zed keybindings for gaps (what still requires mouse?)\n- Map all agent panel interactions to keybindings (if using it)\n- Optimize split/panel navigation for keyboard-only (terminal panel, project panel, outline)\n- Review diff review keybindings (accept/reject hunks via keyboard)\n- Check for new bindable actions added in recent Zed releases (v0.219-v0.221)\n- Evaluate whether keybinding improvements close the GUI/TUI seam gap enough to stay with Zed long-term\n- Document findings in research file\n\nContext: See ~/.claude/research/2026-02-01-2020-editor-ide-landscape-2026-agentic-workflows.md — the core tension is that Zed has GUI seams where keyboard flow breaks. This bead tests whether those seams are fixable via config or fundamental to the GUI model. Results inform whether to proceed with Helix/Neovim trials or stay with Zed.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T21:03:35.621052Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:03:35.621052Z","labels":["workflow"]}
{"id":"dotfiles-ret","title":"Implement file upload/download helpers in packages/linear","description":"Add src/upload.ts and src/download.ts to packages/linear. Upload: 3-step signed URL flow (fileUpload mutation → HTTP PUT binary to GCS signed URL → attachmentCreate mutation). Download: auth'd HTTP GET to uploads.linear.app with Bearer token, save to disk. These are the only non-GraphQL operations — everything else goes through the Graffle client. Reference StreamLinear source and existing HB scripts (attach.sh, upload.sh, linear-fetch) for the exact API flow.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T00:31:17.156078-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T01:00:51.012649-05:00","closed_at":"2026-01-28T01:00:51.012649-05:00","close_reason":"upload.ts (3-step signed URL flow) and download.ts (auth'd GET + save) implemented in packages/linear","dependencies":[{"issue_id":"dotfiles-ret","depends_on_id":"dotfiles-1gd","type":"blocks","created_at":"2026-01-28T00:31:27.070261-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog","title":"Review all skills against quality standards","description":"Two-phase skill quality review. Phase 1: fan out review agents per batch, each creates beads for skills with findings. Phase 2: fan out fix agents on approved beads.","status":"closed","priority":2,"issue_type":"epic","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:35.210716-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:03:33.873975-05:00","closed_at":"2026-01-29T01:03:33.873975-05:00","close_reason":"Reviewed 4 skills (beads_offload, beads_teacher, skills_doctor, tips). Note: \"reviewing-skills\" was interpreted as skills_doctor (which has H1 \"Reviewing Skills\").\n\nCreated 3 fix beads:\n- dotfiles-vri: beads_offload - description doesn't start with \"Use when...\", colon in name\n- dotfiles-qb5: beads_teacher - missing H1 heading, scope summary in description, colon in name\n- dotfiles-te5: skills_doctor - cross-references not using REQUIRED SUB-SKILL format, colon in name\n\n1 skill clean:\n- tips: No violations found. Clean structure, efficient tables, good CSO.\n\nRecurring pattern: 3/4 skills use colons in name field (beads:offload, beads:teacher, skills:doctor). This is a CC plugin namespace convention but violates the \"letters, numbers, hyphens only\" checklist rule. Decision needed: accept colons as valid namespace syntax or rename all to hyphens."}
{"id":"dotfiles-rog.1","title":"Review batch 1: CC ecosystem","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: cc_authoring, cc_core, cc_plugins\n\nThese have heavy reference trees. Read SKILL.md + all reference/ files for each.\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.430243-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:05:39.94226-05:00","closed_at":"2026-01-29T01:05:39.94226-05:00","close_reason":"Reviewed 3 skills. Created 3 fix beads: dotfiles-8mw (cc_authoring), dotfiles-1o3 (cc_teacher_core), dotfiles-21t (cc_plugins)","dependencies":[{"issue_id":"dotfiles-rog.1","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.433092-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.10","title":"Review batch 10: Services/APIs","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: tally, uploading-to-gdrive, loom-transcript-get, ref, gel\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:54.315079-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:03:34.832945-05:00","closed_at":"2026-01-29T01:03:34.832945-05:00","close_reason":"Reviewed 5 skills. Created 4 fix beads: dotfiles-3l9 (tally), dotfiles-lba (uploading-to-gdrive), dotfiles-vvu (ref), dotfiles-tm7 (gel). loom-transcript-get passed clean.","dependencies":[{"issue_id":"dotfiles-rog.10","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:54.316615-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.11","title":"Review batch 11: Misc utilities","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: env-update-secrets, view-symlink, sd-find-replace, serena_teacher, research\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:54.404493-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:15.708902-05:00","closed_at":"2026-01-29T01:04:15.708902-05:00","close_reason":"Reviewed 5 skills. Created 3 fix beads: dotfiles-7e5 (sd-find-replace), dotfiles-zcq (serena_teacher), dotfiles-mh7 (research). 2 skills clean: env-update-secrets, view-symlink.","dependencies":[{"issue_id":"dotfiles-rog.11","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:54.406145-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.2","title":"Review batch 2: CC meta + beads","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: beads_offload, beads_teacher, reviewing-skills, tips\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.522205-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:06:46.535323-05:00","closed_at":"2026-01-29T01:06:46.535323-05:00","close_reason":"Reviewed 4 skills (beads_offload, beads_teacher, skills_doctor, tips). Created 3 fix beads: dotfiles-vri, dotfiles-qb5, dotfiles-te5. tips passed clean.","dependencies":[{"issue_id":"dotfiles-rog.2","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.523296-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.3","title":"Review batch 3: Git/GitHub","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: git, gh_actions, gh_pr\n\ngh_pr has heavy reference tree with scripts and templates. Read all files.\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.613724-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:06.423109-05:00","closed_at":"2026-01-29T01:04:06.423109-05:00","close_reason":"Reviewed 3 skills. Created 3 fix beads: dotfiles-wbe (git), dotfiles-54r (gh_actions), dotfiles-5fj (gh_pr)","dependencies":[{"issue_id":"dotfiles-rog.3","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.614899-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.4","title":"Review batch 4: TypeScript/Node","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: ts_conventions, ts_tooling, nodejs-subpath-imports, pnpm, running-binaries\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.715356-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:03:48.239855-05:00","closed_at":"2026-01-29T01:03:48.239855-05:00","close_reason":"Reviewed 5 skills. Created 5 fix beads: dotfiles-ykv (ts_conventions), dotfiles-bl2 (ts_tooling), dotfiles-56b (nodejs-subpath-imports), dotfiles-4a9 (pnpm), dotfiles-36p (running-binaries)","dependencies":[{"issue_id":"dotfiles-rog.4","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.717352-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.5","title":"Review batch 5: Code patterns","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: kitz-table-testing, kitz-type-assertions, effect-schema-patterns, react-components\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.820606-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:02:51.018792-05:00","closed_at":"2026-01-29T01:02:51.018792-05:00","close_reason":"Reviewed 4 skills. Created 4 fix beads: dotfiles-rog.5.1 (kitz-table-testing), dotfiles-rog.5.2 (kitz-type-assertions), dotfiles-rog.5.3 (effect-schema-patterns), dotfiles-rog.5.4 (react-components)","dependencies":[{"issue_id":"dotfiles-rog.5","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.822012-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.5.1","title":"Fix kitz-table-testing skill","description":"## Skill Path\n/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/kitz-table-testing/SKILL.md\n\n## Findings\n\n### 1. Description does not start with \"Use when...\"\n**Current text:**\n```\ndescription: Table-driven testing patterns using @kitz/test. Triggers on creating test cases, parameterized tests, or when writing .test.ts files.\n```\n**Violates:** Frontmatter — `description` starts with \"Use when...\"\n**Proposed fix:**\n```\ndescription: Use when creating test cases, parameterized tests, or writing .test.ts files in projects using @kitz/test.\n```\n\n### 2. Description summarizes skill workflow/process\n**Current text:** \"Table-driven testing patterns using @kitz/test.\" is a summary of what the skill teaches, not a triggering condition.\n**Violates:** Frontmatter — `description` does NOT summarize the skill workflow/process — triggering conditions only\n**Proposed fix:** Addressed by fix #1 above — the \"Table-driven testing patterns using @kitz/test\" preamble is removed.\n\n### 3. Missing CSO keywords for discovery\n**Violates:** CSO — Keywords for error messages, symptoms, tools that would trigger discovery\n**Current state:** No mention of related tools/symptoms like \"vitest\", \"test.each\", \"parameterized testing\", \"snapshot testing\" that an agent might search for.\n**Proposed fix:** Add a line after the H1 heading:\n```\nKeywords: vitest, test.each, parameterized, snapshot, table-driven, @kitz/test\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:17.293673-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:08.544221-05:00","closed_at":"2026-01-29T14:01:08.544221-05:00","close_reason":"Fixed: Added CSO keywords (vitest, test.each, parameterized, snapshot, table-driven, @kitz/test). Description already fixed in prior pass.","dependencies":[{"issue_id":"dotfiles-rog.5.1","depends_on_id":"dotfiles-rog.5","type":"parent-child","created_at":"2026-01-29T01:02:17.295581-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.5.2","title":"Fix kitz-type-assertions skill","description":"## Skill Path\n/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/kitz-type-assertions/SKILL.md\n\n## Findings\n\n### 1. Description does not start with \"Use when...\"\n**Current text:**\n```\ndescription: Type assertion patterns using @kitz/assert. Triggers on type-level tests, .test-d.ts files, or when asserting TypeScript types.\n```\n**Violates:** Frontmatter — `description` starts with \"Use when...\"\n**Proposed fix:**\n```\ndescription: Use when writing type-level tests, .test-d.ts files, or asserting TypeScript types in projects using @kitz/assert.\n```\n\n### 2. Description summarizes skill workflow/process\n**Current text:** \"Type assertion patterns using @kitz/assert.\" is a summary, not a triggering condition.\n**Violates:** Frontmatter — `description` does NOT summarize the skill workflow/process — triggering conditions only\n**Proposed fix:** Addressed by fix #1 above.\n\n### 3. Missing CSO keywords for discovery\n**Violates:** CSO — Keywords for error messages, symptoms, tools that would trigger discovery\n**Current state:** No mention of related tools/symptoms like \"ts-expect-error\", \"type-level testing\", \"type equality\", \"Assert.exact\" that an agent might search for.\n**Proposed fix:** Add a line after the H1 heading:\n```\nKeywords: ts-expect-error, type-level testing, type equality, .test-d.ts, @kitz/assert\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:24.644342-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:09.502467-05:00","closed_at":"2026-01-29T14:01:09.502467-05:00","close_reason":"Fixed: Added CSO keywords (ts-expect-error, type-level testing, type equality, .test-d.ts, @kitz/assert). Description already fixed in prior pass.","dependencies":[{"issue_id":"dotfiles-rog.5.2","depends_on_id":"dotfiles-rog.5","type":"parent-child","created_at":"2026-01-29T01:02:24.645013-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.5.3","title":"Fix effect-schema-patterns skill","description":"## Skill Path\n/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/effect-schema-patterns/SKILL.md\n\n## Findings\n\n### 1. Description does not start with \"Use when...\"\n**Current text:**\n```\ndescription: Effect Schema conventions and patterns. Triggers on Schema class creation, tagged unions, enums, type guards, or test fixtures using Effect Schema.\n```\n**Violates:** Frontmatter — `description` starts with \"Use when...\"\n**Proposed fix:**\n```\ndescription: Use when creating Schema classes, tagged unions, enums, type guards, or test fixtures with Effect Schema.\n```\n\n### 2. Description summarizes skill workflow/process\n**Current text:** \"Effect Schema conventions and patterns.\" is a summary, not a triggering condition.\n**Violates:** Frontmatter — `description` does NOT summarize the skill workflow/process — triggering conditions only\n**Proposed fix:** Addressed by fix #1 above.\n\n### 3. Redundant \"Key Points\" section repeats content from above\n**Current text (lines 56-59):**\n```markdown\n## Key Points\n\n* Use `Schema.make()` for type-safe instantiation\n* Use `Schema.is()` for type predicates, never manual `_tag` checks\n* Inline enum values directly in `Schema.Enums()`\n* Access runtime enum values via `.enums` property\n```\n**Violates:** Token Efficiency — No redundant content repeated across files (the three rules are already stated as section headers/bold text in the sections above: \"ALWAYS use Schema.make()\", \"ALWAYS use Schema.is()\", \"ALWAYS inline enum values\")\n**Proposed fix:** Delete the entire \"## Key Points\" section (lines 56-60). The rules are already clearly stated in each section's bold intro line.\n\n### 4. Missing CSO keywords for discovery\n**Violates:** CSO — Keywords for error messages, symptoms, tools that would trigger discovery\n**Current state:** No mention of symptoms like \"Schema.Class\", \"_tag\", \"tagged struct\", \"Schema.TaggedStruct\" that an agent might search for.\n**Proposed fix:** Add a line after the H1 heading:\n```\nKeywords: Schema.Class, Schema.TaggedStruct, _tag, Schema.make, Schema.is, Schema.Enums, Effect Schema\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:36.577346-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:10.511784-05:00","closed_at":"2026-01-29T14:01:10.511784-05:00","close_reason":"Fixed: Removed redundant Key Points section (restated rules from code examples). Added CSO keywords. Description already fixed in prior pass.","dependencies":[{"issue_id":"dotfiles-rog.5.3","depends_on_id":"dotfiles-rog.5","type":"parent-child","created_at":"2026-01-29T01:02:36.579154-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.5.4","title":"Fix react-components skill","description":"## Skill Path\n/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/react-components/SKILL.md\n\n## Findings\n\n### 1. Description does not start with \"Use when...\"\n**Current text:**\n```\ndescription: React component structure and export conventions for personal projects. Triggers on component creation, refactoring, or when asking about React patterns.\n```\n**Violates:** Frontmatter — `description` starts with \"Use when...\"\n**Proposed fix:**\n```\ndescription: Use when creating React components, refactoring component structure, or establishing export conventions in personal projects.\n```\n\n### 2. Description summarizes skill workflow/process\n**Current text:** \"React component structure and export conventions for personal projects.\" is a summary, not a triggering condition.\n**Violates:** Frontmatter — `description` does NOT summarize the skill workflow/process — triggering conditions only\n**Proposed fix:** Addressed by fix #1 above.\n\n### 3. Redundant \"Key Points\" section repeats content from code example\n**Current text (lines 32-36):**\n```markdown\n## Key Points\n\n* __Named export__ with `export const`\n* __`React.FC\u003cProps\u003e`__ for type annotation\n* __Arrow function__ expression\n* __Destructure props__ in parameter\n```\n**Violates:** Token Efficiency — No redundant content repeated across files. These four points are already directly visible in the code example on lines 25-27 and the bullet list on lines 10-13.\n**Proposed fix:** Delete the \"## Key Points\" section (lines 32-36). The conventions are already visible in the code example and the Structure bullets above.\n\n### 4. Missing CSO keywords for discovery\n**Violates:** CSO — Keywords for error messages, symptoms, tools that would trigger discovery\n**Current state:** No mention of related terms like \"React.FC\", \"functional component\", \"props interface\", \"named export\" that an agent might search for.\n**Proposed fix:** Add a line after the H1 heading:\n```\nKeywords: React.FC, functional component, props interface, named export, component file structure\n```","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:45.404468-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:11.792709-05:00","closed_at":"2026-01-29T14:01:11.792709-05:00","close_reason":"Fixed: Removed redundant Key Points section (conventions already visible in code example and Structure bullets). Added CSO keywords. Description already fixed in prior pass.","dependencies":[{"issue_id":"dotfiles-rog.5.4","depends_on_id":"dotfiles-rog.5","type":"parent-child","created_at":"2026-01-29T01:02:45.405786-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.6","title":"Review batch 6: Writing/docs","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: writing-gherkin, writing-specs, speclist, markdown, mermaid\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:53.90813-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:10.251974-05:00","closed_at":"2026-01-29T01:04:10.251974-05:00","close_reason":"Reviewed 5 skills. Created 5 fix beads: dotfiles-h2x (writing-gherkin), dotfiles-4wv (writing-specs), dotfiles-0qg (speclist), dotfiles-s7r (markdown), dotfiles-1fw (mermaid)","dependencies":[{"issue_id":"dotfiles-rog.6","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:53.909765-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.7","title":"Review batch 7: Heavy reference tools","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: tmux, linear, notmuch\n\nAll have large reference trees (tmux has man-pages/, linear has scripts/). Read all files but focus the checklist on SKILL.md structure and token efficiency of the overall skill layout.\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:54.008944-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:09.041867-05:00","closed_at":"2026-01-29T01:04:09.041867-05:00","close_reason":"Reviewed 3 skills. Created 3 fix beads: dotfiles-uxw (tmux), dotfiles-i6z (linear), dotfiles-jyw (notmuch)","dependencies":[{"issue_id":"dotfiles-rog.7","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:54.013788-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.8","title":"Review batch 8: Dev tools","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: d2, dprint, just, starship, shan\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:54.10571-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:19.282741-05:00","closed_at":"2026-01-29T01:04:19.282741-05:00","close_reason":"Reviewed 5 skills. Created 4 fix beads: dotfiles-7g3 (just: thick SKILL.md), dotfiles-6ha (starship: thick SKILL.md), dotfiles-9tw (shan: frontmatter violations), dotfiles-h02 (dprint: moderately thick SKILL.md). d2 was clean -- no bead needed.","dependencies":[{"issue_id":"dotfiles-rog.8","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:54.107231-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rog.9","title":"Review batch 9: macOS/system","description":"Review these skills in /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills: macos-configuring, betterdisplay, dotfiles-system-config, configuring-zed, apple-shortcuts, cherri\n\n# Skill Review Checklist\n\nApply every item to each skill. Report only violations found.\n\n## Frontmatter\n- Only `name`, `description` (and optionally `allowed-tools`) fields\n- Total frontmatter under 1024 chars\n- `name` uses letters, numbers, hyphens only (no parens, special chars)\n- `description` starts with \"Use when...\"\n- `description` does NOT summarize the skill workflow/process — triggering conditions only\n- `description` in third person\n- `description` under 500 chars\n\n## Structure\n- Filename is `SKILL.md` (uppercase)\n- Document has an H1 heading (`#`)\n- SKILL.md is thin — defers to reference files for details (progressive disclosure)\n- No duplicate content between SKILL.md and reference files\n- Reference files only for heavy content (100+ lines) or reusable tools/scripts\n\n## Token Efficiency\n- No redundant content repeated across files\n- No tutorial-style narrative or storytelling\n- No \"Why X\" justification sections or decorative content\n- Cross-references other skills instead of duplicating their content\n- Details deferred to `--help` or tool docs where possible\n\n## CSO (Search Optimization)\n- Keywords for error messages, symptoms, tools that would trigger discovery\n- Cross-references use \"REQUIRED SUB-SKILL: \u003cname\u003e\" format, not @ links\n\n## Content Quality\n- One excellent example over many mediocre ones\n- Flowcharts only for non-obvious decision points\n- No generic labels (helper1, step2)\n- Code examples are complete and runnable, not fill-in-the-blank","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T00:59:54.195117-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T01:04:30.288002-05:00","closed_at":"2026-01-29T01:04:30.288002-05:00","close_reason":"Reviewed 6 skills. Created 6 fix beads: dotfiles-aoq (macos-configuring), dotfiles-1ff (betterdisplay), dotfiles-c2l (dotfiles-system-config), dotfiles-ksl (configuring-zed), dotfiles-33i (apple-shortcuts), dotfiles-a71 (cherri)","dependencies":[{"issue_id":"dotfiles-rog.9","depends_on_id":"dotfiles-rog","type":"parent-child","created_at":"2026-01-29T00:59:54.196821-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-rtr","title":"Investigate workspace download lifecycle and improvements","description":"## Scope\n\nInvestigate and improve the Linear workspace download (pull.ts) workflow across its full lifecycle.\n\n### 1. Current CLI Workflow on Workspace Download, Across Lifecycle\n- When is pull.ts invoked? (setup, manual, agent-triggered)\n- What triggers a re-pull? (user remembers, cache missing check)\n- What happens when data drifts? (new users, renamed states, changed names)\n- How do other scripts depend on the cache?\n\n### 2. CLI Help, Concepts, Reference, and Implementation Detail\nThree major sections to review/improve:\n- **Concepts**: What the workspace cache is, why it exists, freshness model\n- **Reference**: CLI flags, output format, cache schema, file location\n- **Implementation**: pull.ts internals, Graffle queries, YAML serialization\n\n### 3. Staleness Detection\n- Add pulledAt age check to scripts that read the cache\n- Warn agents when cache is \u003eN days old\n- Consider auto-triggering re-pull vs just warning\n\n### 4. Diff-Based Refreshing\n- Show what changed since last pull (new users, removed states, renamed fields)\n- Useful for agents to understand what workspace changes occurred\n- Could be as simple as diffing old vs new YAML before overwrite\n\n## Context\n- Session: claude --resume e1cd23c3-214f-4c9c-936e-2fcdee19c3a6\n- Discovered during mention rendering investigation: user's name field was stale email address in cache\n- The stale cache didn't break mention URLs (displayName was correct) but could mislead agents doing name lookups","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T16:27:09.854274Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T16:27:09.854274Z","labels":["learning","workflow"]}
{"id":"dotfiles-s5i","title":"Refactor linear_* skills: scripts over inline code","description":"## Context\n\nLinear skills currently use inline TypeScript code examples that Claude rewrites and executes via `bun -e`. This is token-inefficient - the code patterns are re-read on every skill invocation.\n\n### Current State\n\n- 4 skills: `linear_core`, `linear_managing-issues`, `linear_current-issue`, `linear_uploading`\n- Inline code examples show import + Graffle client usage\n- Import path issue: skills referenced `@jasonkuhrt/linear/client` which isn't globally resolvable\n- Temporary fix: absolute import path in skill markdown (bad - exposes implementation detail)\n\n### Target State\n\n- Each skill has `scripts/` with executable TS files\n- Scripts contain the absolute import path (implementation detail hidden)\n- SKILL.md files document workflows (\"when to search vs create\") and call scripts\n- New `linear_gql` escape hatch skill for arbitrary GraphQL\n\n## Design\n\n### Directory Structure\n\n```\nlinear_core/\n├── SKILL.md                    # Auth, config, mention rules (no code changes needed)\n└── reference/\n\nlinear_managing-issues/\n├── SKILL.md                    # Workflows: search-before-create, validation rules\n├── scripts/\n│   ├── search.ts               # bun scripts/search.ts \"query\" [--status open]\n│   ├── get.ts                  # bun scripts/get.ts HEA-123\n│   ├── create.ts               # bun scripts/create.ts --title \"...\" --team HEA [--assignee UUID]\n│   ├── update.ts               # bun scripts/update.ts HEA-123 --state \"In Progress\"\n│   └── comment.ts              # bun scripts/comment.ts HEA-123 \"comment body\"\n└── reference/\n\nlinear_current-issue/\n├── SKILL.md                    # Resolution logic (branch → context file → search → ask)\n└── scripts/\n    └── resolve.ts              # bun scripts/resolve.ts [--branch] [--context-file]\n\nlinear_uploading/\n├── SKILL.md                    # Upload vs attach decision tree\n└── scripts/\n    ├── upload.ts               # bun scripts/upload.ts /path/to/file\n    ├── attach.ts               # bun scripts/attach.ts HEA-123 /path/to/file\n    └── download.ts             # bun scripts/download.ts \u003curl\u003e [--output /path]\n\nlinear_gql/                     # NEW - escape hatch\n├── SKILL.md                    # Documents absolute import path for custom queries\n└── scripts/\n    └── query.ts                # bun scripts/query.ts '{ viewer { id name } }'\n```\n\n### Script Implementation Pattern\n\n```typescript\n#!/usr/bin/env bun\n// scripts/search.ts\nimport { client } from '/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/packages/linear/src/client.ts'\nimport { parseArgs } from 'util'\n\nconst { values, positionals } = parseArgs({\n  args: Bun.argv.slice(2),\n  options: { status: { type: 'string' } },\n  allowPositionals: true,\n})\n\nconst query = positionals[0]\nif (!query) { console.error('Usage: search.ts \u003cquery\u003e [--status open|closed]'); process.exit(1) }\n\nconst results = await client.query.issueSearch({\n  $: { query, first: 20 },\n  nodes: { id: true, identifier: true, title: true, url: true, state: { name: true, type: true } },\n})\n\n// Filter canceled unless explicitly requested\nconst filtered = results.nodes.filter(i =\u003e values.status || i.state.type !== 'canceled')\nconsole.log(JSON.stringify(filtered, null, 2))\n```\n\n### SKILL.md Pattern (no code, just workflows)\n\n```markdown\n## Search Issues\n\n\\`\\`\\`bash\nbun scripts/search.ts \"auth bug\"\nbun scripts/search.ts \"login\" --status open\n\\`\\`\\`\n\n**Default:** Excludes canceled issues. Results are JSON array.\n\n## Create Issue\n\n**CRITICAL:** Always search before creating to avoid duplicates.\n\n\\`\\`\\`bash\nbun scripts/search.ts \"topic of new issue\"\n# If no match:\nbun scripts/create.ts --title \"Issue title\" --team HEA --description \"Details\"\n\\`\\`\\`\n```\n\n## Tasks\n\n1. Create `linear_gql` escape hatch skill with `scripts/query.ts`\n2. Add `scripts/` to `linear_managing-issues` (search, get, create, update, comment)\n3. Add `scripts/` to `linear_current-issue` (resolve)\n4. Add `scripts/` to `linear_uploading` (upload, attach, download)\n5. Rewrite SKILL.md files to call scripts instead of showing inline code\n6. Remove absolute import path from all SKILL.md and reference/*.md files\n7. Test each script works standalone\n\n## References\n\n- Session context: discussed bun link vs absolute paths, settled on absolute paths in scripts\n- `cc_writing-skills` now documents \"Scripts Over Inline Code\" pattern\n- Absolute import: `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/packages/linear/src/client.ts`","status":"closed","priority":1,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T11:02:33.265002-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T11:11:55.769569-05:00","closed_at":"2026-01-28T11:11:55.769569-05:00","close_reason":"Refactored linear_* skills to use scripts instead of inline code. Created 11 scripts across 4 skills, updated all SKILL.md and reference files."}
{"id":"dotfiles-s7r","title":"Fix markdown skill quality issues","description":"## Files Reviewed\n\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/markdown/SKILL.md (47 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/markdown/reference/syntax.md (112 lines)\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/markdown/reference/compact-mode.md (169 lines)\n\n## Findings\n\n### 1. Description does not start with \"Use when...\" (Frontmatter checklist)\n\nCurrent (line 3):\n  description: Applies markdown syntax correctness and compact formatting when writing or editing markdown. Always evaluates heading density for compact mode.\n\nViolation: \"description starts with 'Use when...'\" and \"description does NOT summarize the skill workflow/process -- triggering conditions only\"\n\nThe current description summarizes what the skill does (\"Applies markdown syntax correctness...\") rather than when to trigger it.\n\nFix: Replace with:\n  description: Use when writing or editing markdown files, when markdown tables or code blocks render incorrectly, or when asked to \"make this compact\", \"reformat to lists\". Covers syntax pitfalls and compact mode formatting.\n\n### 2. \"Rationale\" section in compact-mode.md is a \"Why X\" justification (Token Efficiency checklist)\n\nCurrent (compact-mode.md lines 158-163):\n  ## Rationale\n  - Reduces vertical whitespace\n  - Improves scannability\n  - Keeps related information visually grouped\n  - Better for reference documents, checklists, and specs\n\nViolation: \"No 'Why X' justification sections or decorative content\"\n\nFix: Delete the entire \"## Rationale\" section (lines 158-163). The rationale is self-evident from the examples and rules already documented.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:43.317105-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:51.172822-05:00","closed_at":"2026-01-29T14:02:51.172822-05:00","close_reason":"Fixed: Moved Rationale section from reference/compact-mode.md to DESIGN.md","dependencies":[{"issue_id":"dotfiles-s7r","depends_on_id":"dotfiles-rog.6","type":"blocks","created_at":"2026-01-29T01:03:43.324072-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-szv","title":"Switch from manual Serena setup to official CC marketplace plugin","description":"## Context\n\nCurrently using a manual Serena MCP setup via dotfiles:\n- Global config: `serena/serena_config.yml`\n- Per-project config: `.serena/project.yml`\n- Migration script: `migrations/2026-01-28-serena-config-to-dotfiles.sh`\n- Skill docs: `claude/skills/serena_teacher/`\n\nAnthropic has an official Serena plugin in `anthropics/claude-plugins-official` that would simplify setup.\n\n## Blocker\n\nThe official plugin doesn't pass `--context claude-code` to the Serena MCP server, causing it to expose all tools including file/shell ops that duplicate CC built-ins. This wastes context tokens and causes potential conflicts.\n\n**Upstream issues:**\n- https://github.com/anthropics/claude-plugins-official/issues/19 (original, open)\n- https://github.com/anthropics/claude-plugins-official/issues/24 (filed by us, closed)\n- https://github.com/anthropics/claude-plugins-official/issues/121 (dupe, open)\n- https://github.com/anthropics/claude-plugins-official/issues/223 (dupe, open)\n\n## When unblocked\n\nOnce the upstream plugin ships with `--context claude-code`:\n1. Remove manual serena config from dotfiles (`serena/`, `.serena/`, migration script)\n2. Install the official plugin via CC marketplace\n3. Verify `serena_teacher` skill still works with plugin-managed server\n4. Update sync scripts if needed","status":"open","priority":4,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T18:51:08.435507-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T18:51:08.435507-05:00","labels":["infra"]}
{"id":"dotfiles-t5k","title":"Apply cc_ namespace to cc-* and claude-* skills","description":"Rename all cc-* and claude-* skill directories to use underscore namespace delimiter, and update frontmatter names to use colons.\n\ncc-* skills (dir rename + frontmatter update):\n- cc-ask-user-question → cc_ask-user-question (cc:ask-user-question)\n- cc-internals → cc_internals (cc:internals)\n- cc-managing-marketplaces → cc_managing-marketplaces (cc:managing-marketplaces)\n- cc-managing-mcp → cc_managing-mcp (cc:managing-mcp)\n- cc-managing-permissions → cc_managing-permissions (cc:managing-permissions)\n- cc-managing-plugins → cc_managing-plugins (cc:managing-plugins)\n- cc-session-get-id → cc_session-get-id (cc:session-get-id)\n- cc-session-search → cc_session-search (cc:session-search)\n- cc-tasks → cc_tasks (cc:tasks)\n- cc-writing-hooks → cc_writing-hooks (cc:writing-hooks)\n- cc-writing-rules → cc_writing-rules (cc:writing-rules)\n- cc-writing-skills → cc_writing-skills (cc:writing-skills)\n- cc-config-placement → cc_config-placement (cc:config-placement)\n\nclaude-* → cc_ (namespace change + dir rename):\n- claude-chrome-debugging → cc_chrome-debugging (cc:chrome-debugging)\n- claude-fork → cc_fork (cc:fork)\n- claude-markers → cc_markers (cc:markers)\n- claude-skills-tmp-dir → cc_skills-tmp-dir (cc:skills-tmp-dir)\n\nFor each skill:\n1. Rename directory (hyphen→underscore at namespace boundary)\n2. Update frontmatter name to use colon\n3. Grep for old name references in other skills/rules and update them","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T22:26:15.324353-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T22:48:57.230791-05:00","closed_at":"2026-01-27T22:48:57.230791-05:00","close_reason":"Closed","dependencies":[{"issue_id":"dotfiles-t5k","depends_on_id":"dotfiles-c8z","type":"blocks","created_at":"2026-01-27T22:26:27.930372-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-te5","title":"skills_doctor skill review findings","description":"## Skill Review Findings: skills_doctor\n\n**Files reviewed:**\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/skills_doctor/SKILL.md`\n\n### Finding 1: name contains colon (special char)\n\n**Current:** `name: skills:doctor`\n**Checklist item:** name uses letters, numbers, hyphens only (no parens, special chars)\n**Proposed fix:** Change to `name: skills-doctor`\n\nNote: The colon is a CC plugin namespace convention. If accepted, disregard.\n\n### Finding 2: Cross-references don't use \"REQUIRED SUB-SKILL: name\" format\n\n**Current (lines 22-23 of SKILL.md):**\n```\n1. `superpowers:writing-skills` - Structure, CSO, token efficiency, anti-patterns, quality criteria\n2. `superpowers-developing-for-claude-code:working-with-claude-code` - Official CC skill format, capabilities\n```\n\n**Checklist item:** Cross-references use \"REQUIRED SUB-SKILL: name\" format, not @ links\n**Proposed fix:**\n```\n1. REQUIRED SUB-SKILL: superpowers:writing-skills - Structure, CSO, token efficiency, anti-patterns, quality criteria\n2. REQUIRED SUB-SKILL: superpowers-developing-for-claude-code:working-with-claude-code - Official CC skill format, capabilities\n```","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:24.268726-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:09.369407-05:00","closed_at":"2026-01-29T14:02:09.369407-05:00","close_reason":"Fixed: cross-references now use REQUIRED SUB-SKILL: format. Colon in name is valid per convention."}
{"id":"dotfiles-tm7","title":"Fix gel skill: description format and massive SKILL.md","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/gel/SKILL.md (345 lines)\n- No reference files exist (everything is inline)\n\n## Findings\n\n### 1. Description does not start with \"Use when...\" (Frontmatter violation)\nCurrent description:\n```\ndescription: Gel (formerly EdgeDB) graph database schema design and querying. Use when designing Gel schemas, writing SDL, or querying with EdgeQL.\n```\n\nThe description starts with a noun phrase \"Gel (formerly EdgeDB) graph database...\" before getting to \"Use when...\".\n\n**Fix:** Replace description with:\n```\ndescription: Use when designing Gel schemas, writing SDL, querying with EdgeQL, or working with EdgeDB/Gel graph-relational database features like link properties, abstract types, and polymorphic queries\n```\n\n### 2. SKILL.md is not thin -- 345 lines with no reference files (Structure violation)\nSKILL.md contains: SDL Syntax with 6 subsections of code examples, Link Properties with querying/inserting examples, Abstract Types with 3 subsections, Polymorphic Queries, Project Setup, File Structure, Common Patterns (3 patterns), Notes, Attribution. Everything is inline.\n\n**Fix:** Decompose into reference files:\n- `reference/sdl-syntax.md` -- Extract SDL Syntax section (lines 32-101) and Common Patterns (lines 286-327)\n- `reference/link-properties.md` -- Extract Link Properties section (lines 105-157)\n- `reference/inheritance.md` -- Extract Abstract Types, Polymorphic Queries, Polymorphic Links (lines 159-248)\n\nSKILL.md should shrink to: intro, documentation URLs table, Project Setup, File Structure, key notes, and links to reference files.\n\n### 3. Duplicate HasTimestamps example (Token Efficiency violation)\nThe `HasTimestamps` abstract type appears twice:\n- Lines 168-173 (in Abstract Types section)\n- Lines 289-297 (in Common Patterns section, with `rewrite` addition)\n\n**Fix:** Keep only the more complete version (lines 289-297 with `rewrite`) and remove the simpler duplicate. Or consolidate when extracting to reference files.\n\n### 4. Attribution section is decorative (Token Efficiency violation)\nLines 339-344 list research sources. This is decorative content that consumes tokens without operational value.\n\n**Fix:** Delete the Attribution section. The documentation URLs table at lines 17-30 already provides all the source links.\n\n### 5. \"CRITICAL\" section contains generic instructions (Content Quality violation)\nLines 12-14:\n```\n- **Always verify against latest docs**: https://docs.geldata.com/\n- SDL syntax changed significantly in v3.0 - use current syntax\n- Gel is NOT the same as Neo4j/GraphQL - it has its own paradigms\n```\n\n\"Always verify against latest docs\" is a generic instruction, not Gel-specific knowledge. The third bullet is a \"what X is NOT\" negative definition that wastes tokens.\n\n**Fix:** Remove the \"CRITICAL\" section. Keep only \"SDL syntax changed significantly in v3.0\" as a note in the SDL reference file where it's contextually relevant. The docs URL is already in the Documentation table.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:29.085133-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:04:35.265104-05:00","closed_at":"2026-01-29T14:04:35.265104-05:00","close_reason":"Fixed: Extracted SDL syntax+patterns, link properties, inheritance to reference/. Removed duplicate HasTimestamps (kept complete version in sdl-syntax.md). Removed CRITICAL section (v3.0 note moved to sdl-syntax.md). Removed Attribution section. SKILL.md reduced from 345 to 74 lines."}
{"id":"dotfiles-u9q","title":"shan skill: inventory/equip system for CC skill management","description":"## Problem\n\nToo many CC skills (~85) cause:\n1. **Autocomplete pollution** — irrelevant skills clutter the `/` menu\n2. **Token waste** — ~8k tokens of skill descriptions injected into every system prompt turn\n3. **Silent skill dropout** — exceeding SLASH_COMMAND_TOOL_CHAR_BUDGET (default 15k chars) silently drops skills with no warning\n\n## Solution\n\nAdd a `shan skill` subcommand using RPG inventory/equip vocabulary:\n\n### Architecture\n\n- `~/.claude/skill-inventory/` — **inventory** (all skill dirs, source of truth)\n- `~/.claude/skills/` — **equipped** (symlinks into inventory; CC scans this)\n- `~/.claude/skill-loadouts.yml` — **loadout** definitions (named groups of skills to equip together)\n- CC hot-reloads on every turn (add AND remove verified in session b5fc667c)\n\n### Commands\n\n```\nshan skill equip \u003cloadout|skill\u003e   # add to equipped (additive)\nshan skill unequip \u003cloadout|skill\u003e # remove from equipped\nshan skill loadout                 # show current equipped skills + budget usage\nshan skill inventory               # all owned vs equipped\nshan skill loadouts                # list available loadout definitions\nshan skill reset                   # back to core-only loadout\n```\n\n### Loadout Config\n\n```yaml\n# ~/.claude/skill-loadouts.yml\ncore:      # always-on, never unequipped\n  - git, gh_pr, gh_actions, research, beads_*, cc_authoring, shan, tips\ntypescript:\n  - ts_conventions, ts_tooling, effect-schema-patterns, kitz-*\ndotfiles:\n  - dotfiles-system-config, macos-configuring, starship, configuring-zed, dprint\n```\n\n### Two Entry Points\n\n1. **Shell side:** `shan skill equip typescript` before launching `claude`\n2. **CC skill side:** `/shan skill equip typescript` mid-session (hot-reload kicks in next turn)\n\nBoth call the same shan CLI subcommand.\n\n### Key Constraints\n\n- The shan skill itself must always stay equipped (self-preservation)\n- Plugin skills (~/.claude/plugins/) are separate — this only manages user skills\n- Loadouts are additive (not mutually exclusive profiles)\n- Glob patterns supported in loadout definitions (e.g. `beads_*`, `kitz-*`)\n\n## Research\n\n- ~/.claude/research/2026-01-29-1635-cc-skill-autocomplete-subcommands.md\n- ~/.claude/research/2026-01-29-1745-cc-skill-profiles-token-budget.md\n\n## Related Issues\n\n- anthropics/claude-code#7075 — CC profiles feature request\n- anthropics/claude-code#14920 — Disable individual plugin skills\n- anthropics/claude-code#14843 — Bulk enable/disable plugins\n- anthropics/claude-code#13344 — Plugin enable/disable toggle broken","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-30T14:54:07.750292Z","created_by":"Jason Kuhrt","updated_at":"2026-01-30T22:24:33.48918Z","labels":["shan","skill"]}
{"id":"dotfiles-uor","title":"Consolidate linear_* user skills into single router skill","description":"Merge 6 linear_* skills (core, managing-issues, uploading, current-issue, gql, workspace-pull) into single linear router skill.\n\nlinear_managing-issues has progressive disclosure (reference/ + scripts/). Its files move under reference/managing-issues/ and scripts/ (prefixed if needed).\nlinear_core, linear_uploading also have multiple files.\n\nRegistry savings: ~5 entries (~230 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts → root `scripts/` (prefix on collision)\n\n### Plan: 6 linear_* skills → 1 router skill\n\n#### Router: `linear/` (name: `linear`)\n\n**Source skills:**\n- `linear_core` — **HAS SUB-FILES** (verify: likely scripts/ for config/auth)\n- `linear_managing-issues` — **HAS PROGRESSIVE DISCLOSURE** (reference/: comments.md, create.md, search.md, update.md; scripts/: comment.ts, create.ts, get.ts, search.ts, update.ts)\n- `linear_uploading` — **HAS SUB-FILES** (verify: likely scripts/)\n- `linear_current-issue` — check for sub-files\n- `linear_gql` — check for sub-files\n- `linear_workspace-pull` — check for sub-files\n\n**Target structure:**\n```\nlinear/\n├── SKILL.md\n├── reference/\n│   ├── core/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── managing-issues/\n│   │   ├── overview.md\n│   │   ├── comments.md\n│   │   ├── create.md\n│   │   ├── search.md\n│   │   └── update.md\n│   ├── uploading/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── current-issue/\n│   │   └── overview.md\n│   ├── gql/\n│   │   └── overview.md\n│   └── workspace-pull/\n│       └── overview.md\n├── scripts/\n│   ├── comment.ts          # From linear_managing-issues\n│   ├── create.ts           # From linear_managing-issues\n│   ├── get.ts              # From linear_managing-issues\n│   ├── search.ts           # From linear_managing-issues\n│   ├── update.ts           # From linear_managing-issues\n│   └── (any scripts from other source skills, prefixed on collision)\n```\n\n**SKILL.md description:** `Use when working with Linear — searching/creating/updating issues, uploading attachments, resolving current issue context, executing GraphQL queries, or pulling workspace settings. Covers API scripts, auth config, and mention syntax.`\n\n**SKILL.md body:** List all topics with all reference files. Include a Scripts section documenting all available scripts with their invocation syntax (since scripts are zero-token, document usage in router).\n\n### Execution Steps\n\n1. Create `linear/` directory and SKILL.md\n2. For each source skill, read directory contents first\n3. Migrate per merger rules; scripts go to root `scripts/` (prefix if collision)\n4. Ensure SKILL.md documents ALL scripts with invocation syntax\n5. Delete all 6 old `linear_*` directories\n6. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: `linear/` (no namespace prefix needed — \"linear\" is the namespace)\n- Frontmatter name: `linear`\n- Topic subdirs: kebab-case matching former skill name without `linear_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:15.431525-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.837833-05:00","closed_at":"2026-01-28T15:07:10.837833-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-uxw","title":"tmux skill: structural fixes","description":"## Skill: tmux\nPath: claude/skills/tmux/SKILL.md\n\n### Findings\n\n1. **Duplicate content: target format between SKILL.md and sending-commands.md**\n   - Violates: \"No duplicate content between SKILL.md and reference files\"\n   - SKILL.md lines 69-71 contain:\n     ```\n     Target format: `-t session:window.pane`\n     * `:.1` = current session, current window, pane 1\n     * `:.2` = pane 2, etc.\n     ```\n   - sending-commands.md lines 20-22 contain identical text.\n   - Fix: Remove the target format block from SKILL.md (lines 69-71). The \"Reading Pane Output\" section already links to sending-commands.md via \"Starting Processes in New Panes\" section. Add a brief note like \"See [sending-commands](./reference/sending-commands.md) for target format syntax.\" in the Reading Pane Output section after the capture-pane example.\n\n2. **Duplicate search tips between man-pages.md and INDEX.md**\n   - Violates: \"No redundant content repeated across files\"\n   - reference/man-pages.md lines 40-53 \"Searching\" section contains the same 4 grep examples as man-pages/INDEX.md lines 77-88 \"Search Tips\" section.\n   - Fix: Remove the \"Searching\" section from reference/man-pages.md. INDEX.md already contains the same search tips and is the canonical location for man-page navigation. Update man-pages.md to say \"See man-pages/INDEX.md for search tips.\"\n\n3. **\"Why Local Copy?\" justification section in man-pages.md**\n   - Violates: \"No 'Why X' justification sections or decorative content\"\n   - reference/man-pages.md lines 63-68 contain a \"Why Local Copy?\" section with 4 bullet points justifying the existence of local man pages.\n   - Fix: Delete the \"## Why Local Copy?\" section entirely (lines 63-68). The existence of local man pages is self-explanatory.\n\n4. **\"Structure Rationale\" justification section in man-pages.md**\n   - Violates: \"No 'Why X' justification sections or decorative content\"\n   - reference/man-pages.md lines 55-60 contain a \"Structure Rationale\" section explaining why directories are numbered.\n   - Fix: Delete the \"## Structure Rationale\" section entirely (lines 55-60). The numbering convention is self-explanatory from the directory listing.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:32.238418-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:23.442471-05:00","closed_at":"2026-01-29T14:01:23.442471-05:00","close_reason":"Fixed: Removed duplicate target format from SKILL.md (cross-ref to sending-commands.md). Removed duplicate search tips from man-pages.md (cross-ref to INDEX.md). Moved Why Local Copy and Structure Rationale to DESIGN.md."}
{"id":"dotfiles-vkm","title":"Consolidate gh_* user skills into 2 router skills","description":"Merge 8 gh_* skills into 2 routers:\n- gh_pr: pr-resolve-review, pr-checks, pr-comment-write, pr-ai-reviewers, pr-test-resolve-review\n- gh_actions: actions, actions-ts, issue-read\n\ngh_pr-resolve-review already has progressive disclosure (9 files including item-model.md, terminal-view.md, etc). Its files move under reference/pr-resolve-review/.\ngh_pr-checks has 15 files. Same treatment.\n\nRegistry savings: ~6 entries (~280 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 8 gh_* skills → 2 router skills\n\n#### Router 1: `gh_pr/` (name: `gh:pr`)\n\n**Source skills (verify each for sub-files before migrating):**\n- `gh_pr-resolve-review` — **HAS PROGRESSIVE DISCLOSURE** (files: item-model.md, terminal-view.md, file-view.md, api-reference.md, plus scripts/ and templates/)\n- `gh_pr-checks` — **HAS PROGRESSIVE DISCLOSURE** (verify sub-files)\n- `gh_pr-comment-write` — check for sub-files\n- `gh_pr-ai-reviewers` — check for sub-files\n- `gh_pr-test-resolve-review` — check for sub-files\n\n**Target structure:**\n```\ngh_pr/\n├── SKILL.md\n├── reference/\n│   ├── resolve-review/\n│   │   ├── overview.md\n│   │   ├── item-model.md\n│   │   ├── terminal-view.md\n│   │   ├── file-view.md\n│   │   └── api-reference.md\n│   ├── checks/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── comment-write/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── ai-reviewers/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── test-resolve-review/\n│       └── overview.md (+ any existing sub-files)\n├── scripts/         # Merged from all source skills, prefixed on collision\n└── templates/       # Merged from all source skills, prefixed on collision\n```\n\n**SKILL.md description:** `Use when working with GitHub PRs — resolving review comments, checking CI status, writing PR comments, triggering AI re-reviews, or running PR review integration tests. Covers gh CLI patterns and PR workflow automation.`\n\n**SKILL.md body must list ALL reference files per topic** (see cc_authoring design for format example).\n\n#### Router 2: `gh_actions/` (name: `gh:actions`)\n\n**Source skills:**\n- `gh_actions` — check for sub-files\n- `gh_actions-ts` — check for sub-files\n- `gh_issue-read` — check for sub-files\n\n**Target structure:**\n```\ngh_actions/\n├── SKILL.md\n├── reference/\n│   ├── workflows/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── typescript/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── issue-read/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when writing GitHub Actions workflows, TypeScript scripts for Actions, or reading GitHub issues/PRs via gh CLI. Covers workflow syntax, Actions TS patterns, and issue/PR data retrieval.`\n\n### Execution Steps\n\n1. For each router, create directory and SKILL.md\n2. For each source skill, read directory contents first (critical for multi-file skills)\n3. Migrate per merger rules above\n4. Delete all 8 old `gh_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`gh_pr`, `gh_actions`)\n- Frontmatter name: colon delimiter (`gh:pr`, `gh:actions`)\n- Topic subdirs: kebab-case matching former skill name without `gh_` prefix (strip `pr-` for pr subtopics, strip `actions-` for actions subtopics)","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:13.510947-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.810666-05:00","closed_at":"2026-01-28T15:07:10.810666-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-vri","title":"beads_offload skill review findings","description":"## Skill Review Findings: beads_offload\n\n**Files reviewed:**\n- `/Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/beads_offload/SKILL.md`\n\n### Finding 1: name contains colon (special char)\n\n**Current:** `name: beads:offload`\n**Checklist item:** name uses letters, numbers, hyphens only (no parens, special chars)\n**Proposed fix:** Change to `name: beads-offload`\n\nNote: The colon is a CC plugin namespace convention (`plugin:command`), so this may be intentional. If the convention is accepted, disregard this finding.\n\n### Finding 2: description does not start with \"Use when...\"\n\n**Current:**\n```\ndescription: Captures a drifting idea as a bead without derailing the current task. Use when the user or conversation veers into an adjacent idea worth tracking.\n```\n\n**Checklist item:** description starts with \"Use when...\"\n**Proposed fix:**\n```\ndescription: Use when the user or conversation veers into an adjacent idea worth tracking. Captures a drifting idea as a bead without derailing the current task.\n```\n\nReorder so it opens with the trigger condition, then the behavior summary.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:04.816589-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:02:17.515411-05:00","closed_at":"2026-01-29T14:02:17.515411-05:00","close_reason":"No remaining fixes: description already starts with 'Use when' (fixed in prior wave), colon in name is valid per convention"}
{"id":"dotfiles-vvu","title":"Fix ref skill: massive SKILL.md needs decomposition","description":"## Skill Path\n- /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/ref/SKILL.md (397 lines)\n- No reference files exist (everything is inline)\n\n## Findings\n\n### 1. SKILL.md is not thin -- 397 lines with no reference files (Structure violation)\nSKILL.md contains: How Ref Works, Doctor workflow, Dashboard Operations (6 sub-operations), Usage Reference, Decision Guide, Pricing \u0026 Credits, Session Caching, Ref vs Context7 comparison, Key URLs, Troubleshooting, Support. This is the largest SKILL.md reviewed and has zero reference files.\n\n**Fix:** Decompose into reference files:\n- `reference/doctor.md` -- Extract the Doctor section (lines 47-168, ~120 lines)\n- `reference/dashboard.md` -- Extract Dashboard Operations (lines 171-268, ~100 lines)\n- `reference/pricing.md` -- Extract Pricing \u0026 Credits + Session Caching (lines 306-334, ~30 lines)\n- `reference/comparison.md` -- Extract Ref vs Context7 (lines 338-363, ~25 lines) and Decision Guide: Local vs Ref (lines 286-302, ~17 lines)\n\nSKILL.md should shrink to: brief intro, \"How Ref Works\" summary, one-liner links to each reference file, Usage Reference table, Key URLs, Troubleshooting table.\n\n### 2. Cross-reference uses relative link instead of REQUIRED SUB-SKILL format (CSO violation)\nLine 258 says:\n```\n**Submission:** Use the [Tally skill](../tally/SKILL.md) with:\n```\n\n**Fix:** Replace with:\n```\n**Submission:** REQUIRED SUB-SKILL: tally\n```\n\n### 3. Ref vs Context7 is a \"Why X\" justification section (Token Efficiency violation)\nLines 338-363 compare Ref to Context7 with a detailed table and analysis. This is a decision justification section, not operational content. The user has already chosen Ref.\n\n**Fix:** Move to `reference/comparison.md` and reduce SKILL.md mention to a one-line cross-reference. Consider whether this content is even needed -- the user already uses Ref.\n\n### 4. Decision Guide is justification content (Token Efficiency violation)\nLines 286-302 compare local docs vs Ref upload. This is a \"Why X\" decision framework, not operational instructions.\n\n**Fix:** Move to `reference/comparison.md` alongside the Context7 comparison, or remove entirely.","notes":"DESIGN.md CONVENTION: Do NOT delete Why-X, justification, rationale, history, or aspirational sections. Instead, move them to a DESIGN.md file in the skill directory. DESIGN.md has no frontmatter, so CC skill loader ignores it — it is human-only documentation. Create DESIGN.md if it does not exist. Example structure:\n\nskills/\n  cherri/\n    SKILL.md      # Agent-facing: what to do, how to do it\n    DESIGN.md     # Human-facing: why it is this way, tradeoffs, history\n    reference/    # Agent-facing: heavy reference content\n\nThis applies to ALL findings in this bead that say \"delete\" a justification, rationale, \"Why X\", \"Key Learnings\", strengths/limitations, or aspirational section.","status":"closed","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:11.55269-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:04:34.121116-05:00","closed_at":"2026-01-29T14:04:34.121116-05:00","close_reason":"Fixed: Extracted Doctor, Dashboard, Pricing sections to reference/. Moved Ref vs Context7 and Decision Guide to DESIGN.md. Fixed tally cross-reference to REQUIRED SUB-SKILL format. SKILL.md reduced from 397 to 87 lines."}
{"id":"dotfiles-wbe","title":"Fix git skill checklist violations","description":"## Skill: git\nFiles reviewed:\n- claude/skills/git/SKILL.md\n- claude/skills/git/reference/sync/overview.md\n- claude/skills/git/reference/sync/flow.d2\n- claude/skills/git/reference/worktree/overview.md\n- claude/skills/git/reference/worktree/worktree-comparison.md\n- claude/skills/git/reference/commit/overview.md\n- claude/skills/git/reference/mode-control/overview.md\n- claude/skills/git/reference/parallel-commit/overview.md\n- claude/skills/git/scripts/ (all 8 scripts)\n- claude/skills/git/schemas/ (2 JSON schemas)\n- claude/skills/git/templates/ (5 templates)\n\n## Findings\n\n### 1. Missing H1 heading in SKILL.md\n**Violates:** Structure — \"Document has an H1 heading (#)\"\n**Current:** File starts with `## Topics` (line 6)\n**Fix:** Add H1 heading at line 6 before `## Topics`:\n```\n# Git\n```\n\n### 2. Description summarizes workflow instead of only triggering conditions\n**Violates:** Frontmatter — \"description does NOT summarize the skill workflow/process — triggering conditions only\"\n**Current:** `Use when performing git operations — syncing with remote, managing worktrees, committing changes, controlling commit mode, or running parallel commits. Covers sync workflows, worktree lifecycle, and commit conventions.`\n**Fix:** Remove the \"Covers...\" sentence:\n`Use when performing git operations — syncing with remote, managing worktrees, committing changes, controlling commit mode, or running parallel commits.`\n\n### 3. \"The Problem\" justification section in parallel-commit/overview.md\n**Violates:** Token Efficiency — 'No \"Why X\" justification sections or decorative content'\n**Current (lines 1-5):**\n```\n## The Problem\n\nGit's staging area (`.git/index`) is shared. Concurrent `git add` + `git commit` from parallel agents can cross-contaminate commits or hit `index.lock` errors.\n\n## The Solution\n```\n**Fix:** Remove \"The Problem\" and \"The Solution\" headings. Fold the context into the intro paragraph:\n```\n# Parallel Commit\n\nGit's staging area (`.git/index`) is shared — concurrent `git add` + `git commit` from parallel agents can cross-contaminate commits or hit `index.lock` errors. Use `git commit -- \u003cpaths\u003e` which defaults to `--only` mode:\n```\n\n### 4. Cross-reference format: speclist skill reference\n**Violates:** CSO — 'Cross-references use \"REQUIRED SUB-SKILL: name\" format, not @ links'\n**Current (sync/overview.md line 19):** `Read this speclist flow using the \\`speclist\\` skill (Reading operation).`\n**Fix:** `REQUIRED SUB-SKILL: speclist (Reading operation)`\n\n### 5. Cross-reference format: mode-control reference in commit\n**Violates:** CSO — 'Cross-references use \"REQUIRED SUB-SKILL: name\" format, not @ links'\n**Current (commit/overview.md line 11):** `**Check permission** -- invoke the mode-control topic (see \\`reference/mode-control/overview.md\\`)`\n**Note:** This is an intra-skill reference (topic within same skill), not a cross-skill reference. The \"REQUIRED SUB-SKILL\" format is for cross-skill references. This finding is informational only — no fix needed.","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:36.973931-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:36.478219-05:00","closed_at":"2026-01-29T14:00:36.478219-05:00","close_reason":"Fixed: Moved The Problem/The Solution to DESIGN.md, fixed speclist cross-reference format in sync/overview.md"}
{"id":"dotfiles-whf","title":"Auto-attach CC session metadata when creating beads","description":"Feature request for the beads CC plugin.\n\nWhen creating beads from within a Claude Code session, automatically attach metadata:\n1. **Session ID** — The CC session identifier (e.g. from ~/.claude/projects/\u003chash\u003e/\u003cid\u003e.jsonl path)\n2. **Message ID** (stretch goal) — A pinpoint reference to the specific conversation turn where the bead was created, not just the session\n\nThis enhances the papertrail for:\n- Tracing why an idea was created (what conversation spawned it)\n- Recovering context if the idea description is ambiguous\n- Linking back to research/discussion that motivated the work\n\nEspecially valuable when the user doesn't have the default 30-day session delete policy enabled, or is saving sessions via other means (e.g. shan transcripts).\n\nImplementation notes:\n- CC exposes session info via the tool results path pattern: ~/.claude/projects/\u003cproject-hash\u003e/\u003csession-id\u003e.jsonl\n- The session ID could be stored as a metadata field on the bead (e.g. `cc_session`, `cc_message_id`)\n- The plugin hook or command integration point would capture this at bead creation time\n\nMigrated context: This was identified while reviewing the sparks system (a predecessor idea-capture system that stored YAML files). Session tracing was one of the few features sparks had that beads lacks natively.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:54:51.01064-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:54:51.01064-05:00"}
{"id":"dotfiles-ws1","title":"Create tl CLI for CC task list inspection","description":"## Summary\n\nA `tl` CLI (Bun, in `packages/tl/`) for inspecting CC task list files from outside a session. Zero token cost — runs in shell, not inside CC.\n\n## Context\n\nCC task lists persist at `~/.claude/tasks/\u003clist-id\u003e/` as JSON files (one per task). Currently no way to browse/read them outside a CC session without manually `cat`-ing JSON files. Need a quick CLI for the human side.\n\n## Operations\n\n### `tl open [target]`\n\nOpen task JSON in editor.\n\n- **Target:** task number OR fuzzy match on subject\n- **Editor:** Use `$EDITOR` if set. If `$EDITOR=nvim`, open in terminal. If `zed`, opens as tab.\n- **List selection:** If `CLAUDE_CODE_TASK_LIST_ID` is set, use that. Otherwise, prompt or use most recently modified list dir.\n- **No target:** show picker (list all tasks, select one)\n\n### `tl dump [target]`\n\nDump formatted task to stdout (or to tmp file for piping).\n\n- **Target:** same as `open` — number or fuzzy match\n- **Output:** Human-readable formatted markdown, not raw JSON\n- **No target:** dump all tasks as formatted table (id, status, subject, blocked-by)\n- **Format:**\n  ```\n  # Task 4: Generate Playwright specs from D2 flows\n  Status: pending\n  Blocked by: #2, #3\n  \n  [full description]\n  ```\n\n## Design Decisions\n\n- **Bun CLI** — matches `shan` pattern in `packages/shan/`\n- **Package:** `packages/tl/` with `bin: { \"tl\": \"./src/bin/tl.ts\" }`\n- **Global availability:** Symlink into PATH via dotfiles sync (e.g. `ln -s $(pwd)/packages/tl/src/bin/tl.ts ~/.local/bin/tl` or add packages/tl to Brewfile as local formula)\n- **Task list discovery:** Read `CLAUDE_CODE_TASK_LIST_ID` env var → `~/.claude/tasks/$id/`. Fallback: list dirs in `~/.claude/tasks/`, pick most recently modified (or prompt).\n- **Fuzzy match:** Simple substring on subject field. Don't over-engineer — `tl open scaffold` matching \"Scaffold apps/e2e/ Nx app with Playwright\" is enough.\n\n## JSON Schema Reference (from cc-tasks skill)\n\nEach task is `~/.claude/tasks/\u003clist-id\u003e/\u003cn\u003e.json`:\n```json\n{\n  \"id\": \"4\",\n  \"subject\": \"Generate Playwright specs from D2 flows\",\n  \"description\": \"Read D2 flow files + codebase source to...\",\n  \"activeForm\": \"Generating Playwright specs from D2 flows\",\n  \"status\": \"pending\",\n  \"owner\": null,\n  \"blocks\": [],\n  \"blockedBy\": [\"2\", \"3\"],\n  \"metadata\": {}\n}\n```\n\n## Not in Scope (for now)\n\n- Inline viewing inside CC (eats context window)\n- Task mutation (that's CC's job)\n- Watch mode / live updates\n- Dependency graph visualization","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T14:57:44.897542-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T15:33:31.160071-05:00","closed_at":"2026-01-27T15:33:31.160071-05:00","close_reason":"Design complete. Original spec proposed a standalone `tl` CLI in `packages/tl/`. Revised to augment existing `packages/shan/` CLI instead — avoids duplicating infrastructure (Effect, Clack, session resolver, arg parsing).\n\n## Final Aligned Spec: `shan task`\n\n### Commands\n- `shan task dump [target] [--md] [--global/-g]` — copy raw task JSON to `.claude/tasks/\u003clist\u003e/` in project. `--md` for markdown formatting.\n- `shan task open [target] [--global/-g]` — open task JSON/dir in $EDITOR (Zed). No formatting.\n\n### Target Syntax\n- `\u003clist\u003e` — named list or UUID prefix match\n- `\u003clist\u003e@\u003ctask\u003e` — specific task within a list\n- `\u003csubject-substring\u003e` — fuzzy match on subject across in-scope lists\n- No target → flat Clack picker grouped by list, both list-headers and tasks selectable\n\n### Scoping\n- Default: project-scoped (UUID lists matching current project's sessions + all named lists)\n- `--global`/`-g`: all lists\n\n### Dir vs File targets\n- List target (dir): `open` → opens Zed to dir; `dump` → copies all JSON files\n- Task target (file): `open` → opens specific JSON; `dump` → copies single file\n\n### Picker Design\nFlat list grouped by list name. Status icons: ● in_progress, ◌ pending, ✓ completed. Named lists never truncated. Freshness filter: open + completed within 24h (v1 fallback: all states).\n\n### Modules\n- `src/lib/task-resolver.ts` — parse \u003clist\u003e@\u003ctask\u003e, resolve to fs paths\n- `src/lib/task-schema.ts` — Effect Schema (drafted, see execution bead)\n- `src/lib/task-picker.ts` — grouped Clack picker\n- `src/bin/task/dump.ts` — copy raw JSON (or --md) to .claude/tasks/\n- `src/bin/task/open.ts` — open in $EDITOR\n\n### Companion Skill\n`claude/skills/shan-tasks/SKILL.md` — documents commands for zero-cost task inspection outside CC. No slash command.\n\n### Effect Schema (drafted from real task files)\nSee execution bead description for full schema source. 8 fields: id, subject, description, activeForm, status, blocks, blockedBy + optional owner, metadata."}
{"id":"dotfiles-x3r","title":"Stripe Discord support automation skill","description":"Create a skill that automates posting support questions to Stripe Discord from CC sessions.\n\nThe form has structured fields:\n- Your Question (required)\n- Related Request ID(s) (required) — req_... IDs from dashboard\n- What have you already attempted? (required)\n- What are you working on?\n\nSkill would:\n1. Gather context from current research/conversation\n2. Format question for the structured form\n3. Open browser to Discord with pre-filled content (if possible) or clipboard\n4. Track pending questions and remind to check for responses\n\nCould generalize to other vendor Discord support channels with similar patterns.\n\n---\nMigrated from spark: 2026-01-23-stripe-discord-skill.yml\nOriginal context: Researching Stripe Connect rate limits, needed to post question to Stripe Discord #help channel\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat/7a342e2c-ccad-4d3a-be6f-67c3a4b875b1.jsonl","status":"open","priority":3,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:36.886899-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:56:36.886899-05:00","labels":["skill"]}
{"id":"dotfiles-x4q","title":"Improve save-research skill: signal-only output with strict format","description":"Enhance the research skill's save/flush operation to produce higher-signal research files:\n\n- **Prune to signal only** — strip opinions, insights, editorializing. Research files should capture objective facts and findings, not commentary. Raw object truths only.\n- **Track leaf fact dates** — each atomic fact should carry its own date/version context (e.g. 'as of Ghostty 1.2.3', 'added in CC v2.1.2'). Facts go stale; dating them at the leaf level makes staleness visible.\n- **Remove or bracket opinions** — if subjective assessment is preserved at all, it must be clearly demarcated (e.g. a separate 'Assessment' section) and never mixed with factual content.\n- **Strict ordered format** — define a consistent, methodical template for research files that optimizes for future reading/scanning. Consider: Summary → Facts (dated) → Sources → Assessment (optional, bracketed). Every file follows the same skeleton.\n- **Actionable for future sessions** — a future agent or person reading the file should be able to extract all facts without filtering noise.","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:28:29.522082-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:28:29.522082-05:00","labels":["research","skill"]}
{"id":"dotfiles-y49","title":"Add progressive disclosure guidance to writing-skills","description":"The superpowers:writing-skills skill implicitly follows progressive disclosure (Overview first, details later) but doesn't teach it as a design principle. Gap: skill authors might put critical \"do this\" information after lengthy \"why\" explanations, forcing agents to read everything.\n\nMissing guidance:\n- Frontload the 80% use case in first 50 words\n- Structure so agents can stop reading early once they have what they need\n- \"Lead with action, defer explanation\" pattern\n- Why the SKILL.md structure order matters (not just what it is)\n\nResearch needed: Look into existing literature on optimal design patterns for main file vs separate files brought in incrementally. How do documentation systems, man pages, or other agent-facing docs handle progressive disclosure? What's the cognitive load research say about chunking and layered information?\n\nCould be upstream PR to superpowers-marketplace or local supplement.\n\n---\nMigrated from spark: 2026-01-12-progressive-disclosure-in-skills.yml\nOriginal context: Reviewing dprint skill, noticed reviewing-skills and writing-skills lack explicit progressive disclosure principle\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-jasonkuhrt-dotfiles/d6a3870b-45ba-47a9-8d57-7d1726aa84f8.jsonl","status":"open","priority":2,"issue_type":"feature","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:55:10.178471-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:55:10.178471-05:00","labels":["skill"]}
{"id":"dotfiles-y4k","title":"CC docs: rules use paths: not globs: frontmatter key","description":"CC rules frontmatter key is paths:, not globs:. globs: is Cursor's key and CC silently ignores it, causing rules to load unconditionally. Also paths: values must be quoted YAML arrays, not comma-separated strings. Separately, upstream bug anthropics/claude-code#16299 means even correctly-keyed paths: rules may load globally. Fixed: typescript.md frontmatter, markdown-compact-mode.md frontmatter, cc_writing-rules skill updated.","status":"closed","priority":4,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:03:11.85181-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:23:31.449256-05:00","closed_at":"2026-01-28T13:23:31.449256-05:00","close_reason":"Fixed remaining 3 files using globs: instead of paths: frontmatter"}
{"id":"dotfiles-y9c","title":"Design + implement launchd daemon","description":"CLI-managed launchd daemon: bookmarks daemon start/stop/status. Generate launchd plist from template, install/unload via launchctl, logging to file, configurable schedule interval. Cleanly separable — just calls 'bookmarks sync' on schedule. See docs/plans/2026-02-01-bookmarks-v1-design.md.\n\n## Convention notes (from patch engine)\n- `lastRun`/`nextRun`: use `Option\u003cDateTime.Utc\u003e` (not `string | null`) — tracked in dotfiles-ddf\n- Schedule interval: use `Duration` from Effect (not `string`/`number`)\n- All internal domain types use Effect data types per `packages/bookmarks/CLAUDE.md`\n- Namespace imports: `import * as \u003cNS\u003e from \"./\u003cmodule\u003e.js\"`","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T20:12:53.248049Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:54:50.134699-05:00","labels":["bookmarks"],"dependencies":[{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-b1j","type":"blocks","created_at":"2026-02-01T20:13:04.738075Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-jlu","type":"blocks","created_at":"2026-02-01T20:13:10.896118Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-cq8","type":"blocks","created_at":"2026-02-01T20:13:10.970647Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-3zv","type":"blocks","created_at":"2026-02-01T20:13:11.043995Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-myk","type":"parent-child","created_at":"2026-02-01T20:13:33.704342Z","created_by":"Jason Kuhrt"},{"issue_id":"dotfiles-y9c","depends_on_id":"dotfiles-ddf","type":"blocks","created_at":"2026-02-01T21:54:35.134039-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ya2","title":"Install add-osc-8-hyperlink and integrate into dotfiles","description":"Install add-osc-8-hyperlink (https://github.com/sentriz/add-osc-8-hyperlink) on system and explore leveraging it in skills, rules, and dotfiles generally. Could wrap common commands (tsc, git status, etc.) to inject OSC 8 hyperlink sequences for clickable file paths in Ghostty terminal.","status":"open","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:23:41.36022-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T17:23:41.36022-05:00","labels":["infra"]}
{"id":"dotfiles-ybl","title":"Design experiment suite: D2 features × agent comprehension","description":"## Problem\n\nThe i83 design doc discovered heuristics through manual iterations, but those iterations had context contamination (the experimenter already knew the right answers). We need clean experiments using subagents as naive test subjects.\n\nAdditionally, i83 only explored flowcharts. D2 has sequence diagrams, layers, scenarios, steps, imports, classes, tooltips, and vars — all potentially relevant to skill authoring. We don't know which features agents actually benefit from.\n\n## What Needs Designing\n\nAn experiment suite that tests two axes:\n\n### Axis 1: Enrichment strategies\nHow much information does D2 need to carry for an agent to produce a good skill?\n\n- **Baseline:** D2 only (no conventions, no enrichment)\n- **Conventions:** D2 + authoring conventions from i83 design doc\n- **Light enrichment:** D2 + classes/tooltips for node typing (invisible in rendered output)\n- **Heavy enrichment:** D2 + vars for glossary + tooltips for commands + classes for node types\n- **Mapping guide:** D2 + explicit feature→concept mapping document\n\nKey question: Does a mapping guide help, hurt (over-constrain), or not matter?\n\n### Axis 2: D2 diagram types × skill patterns\nWhich D2 diagram type best serves which skill pattern?\n\n- **Flowcharts → procedural skills** (established baseline)\n- **Sequence diagrams → interaction-heavy skills** (e.g., pr-resolve-review, user↔agent↔tool protocols)\n- **Steps → state progression skills** (e.g., deploy pipelines, migration sequences)\n- **Layers → progressive disclosure** (overview → detail abstraction levels)\n- **Scenarios → degradation variants** (with/without optional tools)\n\n### Axis 3: Composition models\nHow should multi-operation skills organize their D2?\n\n- **Single file, containers = operations** (i83 approach)\n- **One file per operation, imports for shared procedures**\n- **One file with layers for abstraction levels**\n- **Mixed: flowchart for operations + sequence diagram for interaction sub-parts**\n\n## Experiment Design Constraints\n\n- Each experiment must use **subagents** as test subjects (context-clean)\n- Test subjects should receive ONLY the D2 + whatever enrichment strategy is being tested\n- Compare output against a known-good SKILL.md (that the subject never saw)\n- Need real skills as test cases across complexity tiers (minimal, simple, medium, complex)\n- Need skills across pattern types (procedural, interaction-heavy, reference-like)\n\n## Test Cases to Select\n\nNeed 4-6 skills spanning the experiment space:\n- 1 existing complex procedural skill (git-sync — known baseline from i83)\n- 1 existing interaction-heavy skill (pr-resolve-review?)\n- 1 simple procedural skill (git-commit or git-worktree?)\n- 1 new skill designed in D2-first (pr-ship from i83 iteration 2?)\n- 1 skill that degrades gracefully (with/without optional tools)\n- 1 skill with shared procedures across operations\n\n## Deliverable\n\nA structured experiment plan: test matrix, test cases, evaluation criteria, and execution order. NOT running the experiments yet — just the design.\n\n## Dependencies\n\n- i83 design doc (claude/skills/d2-skill-authoring/d2-skill-authoring.md) — provides baseline heuristics\n- D2 skill — syntax reference for all D2 features\n- writing-skills methodology — TDD baseline testing approach","status":"in_progress","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-27T14:05:59.522603-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-27T15:02:23.219214-05:00","dependencies":[{"issue_id":"dotfiles-ybl","depends_on_id":"dotfiles-i83","type":"blocks","created_at":"2026-01-27T14:06:03.681461-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ykv","title":"Fix ts_conventions skill quality issues","description":"## Skill Path\nclaude/skills/ts_conventions/SKILL.md\n\n## Findings\n\n### 1. name contains colon (violates: name uses letters, numbers, hyphens only)\n\n**Current:** `name: ts:conventions`\n**Fix:** `name: ts-conventions`\n\nFile: claude/skills/ts_conventions/SKILL.md, line 2\n\n### 2. Missing H1 heading (violates: Document has an H1 heading)\n\n**Current:** File starts with frontmatter then goes directly to `## Topics`\n**Fix:** Add `# TypeScript Conventions` between the frontmatter closing `---` and `## Topics`\n\nFile: claude/skills/ts_conventions/SKILL.md, after line 4 (frontmatter end)","status":"closed","priority":3,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:02:57.768211-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:00:45.215942-05:00","closed_at":"2026-01-29T14:00:45.215942-05:00","close_reason":"Fixed: All findings (colon rename, H1 heading) are either already done or valid per standing rules","dependencies":[{"issue_id":"dotfiles-ykv","depends_on_id":"dotfiles-rog.4","type":"blocks","created_at":"2026-01-29T01:02:57.770222-05:00","created_by":"Jason Kuhrt"}]}
{"id":"dotfiles-ymv","title":"Fix CC doc lookup priority: ref MCP and skills before web search","description":"When asked to look up documentation (e.g. CC rules frontmatter docs), Claude reaches for web search / Task(Research...) instead of:\n\n1. Using ref MCP (ref_search_documentation) which is configured and has docs indexed\n2. Using built-in skills like cc_internals, cc_writing-rules, etc. that already contain CC documentation\n\nExample failure: User asks 'find out the rules frontmatter docs' and Claude spawns a Task(Research CC rules frontmatter docs) agent that does web searches, when it should invoke the cc_writing-rules or cc_internals skill first, or use ref MCP.\n\nThis is a recurring pattern - the rules and skills exist but CC doesn't prioritize them over generic web research.\n\nFix approach: Add/improve rules that establish the doc lookup priority chain:\n1. Check if a skill covers the topic (invoke it)\n2. Use ref MCP (ref_search_documentation)  \n3. Only then fall back to web search\n\nRelated existing rules: ref.md (already says to use ref), using-superpowers skill (already says to check skills first). The problem may be that these aren't specific enough about doc lookup scenarios.","status":"open","priority":2,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T13:11:49.904152-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T13:11:49.904152-05:00","labels":["rule"]}
{"id":"dotfiles-yvc","title":"Debug skill auto-approve hook not firing","description":"The PreToolUse hook that should auto-approve skills is not working. Still being prompted:\n\n```\nUse skill \"capture-spark\"?\nClaude may use instructions, code, or files from this Skill.\n...\nDo you want to proceed?\n```\n\nNeed to investigate:\n- Is the hook configured correctly?\n- Is it firing but returning wrong value?\n- Is there a scope/path issue with worktrees?\n- Does the hook output format match what CC expects?\n\nNote: This was captured 2026-01-22. CC has evolved significantly since then — the auto-approve mechanism may have changed. Verify current CC skill approval behavior before investigating.\n\n---\nMigrated from spark: 2026-01-22-skill-auto-approve-hook-not-working.yml\nOriginal context: Capturing sparks when prompted to approve capture-spark skill despite having auto-approve hook\nSession: ~/.claude/projects/-Users-jasonkuhrt-projects-heartbeat-chat-Heartbeat--worktrees-feat-HEA-3751-tsgo-spike/946af728-0ef0-46e9-9648-4b7bf9317ac8.jsonl","status":"closed","priority":1,"issue_type":"bug","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T17:56:25.52165-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T22:48:39.593969-05:00","closed_at":"2026-01-28T22:48:39.593969-05:00","close_reason":"Hook is working correctly in CC 2.1.23. Tested all paths: local skills, plugin skills, project-local skills, and unknown skills all behave as expected. The original capture-spark skill no longer exists — it was likely the skill itself (not the hook) that was the issue. PermissionRequest hook type is still valid and documented in current CC."}
{"id":"dotfiles-zcq","title":"Fix serena_teacher skill quality issues","description":"## Skill reviewed\nserena_teacher: /Users/jasonkuhrt/projects/jasonkuhrt/dotfiles/claude/skills/serena_teacher/\n\nNOTE: This is a _teacher skill (educational reference for humans). The naming chain before _teacher is arbitrary — underscores are valid. Token efficiency rules about \"no narrative\" do NOT apply to teacher skills. Only universally-applicable findings retained.\n\n## Remaining Findings\n\n### Finding 1: Duplicate Key Tools section between SKILL.md and workflow reference\n**Violation:** No duplicate content between SKILL.md and reference files (universal — applies to all skills)\n**Current:** The \"Key Tools\" section in SKILL.md (lines 22-46) lists all tools with descriptions. The workflow reference (references/2026-01-28-workflow.md lines 5-61) repeats the same tool list with nearly identical descriptions.\n**Fix:** Remove the \"Key Tools\" section from SKILL.md. Replace with a reference link to the workflow file.\n\n### Finding 2: Duplicate \"When to Use\" table between SKILL.md and CLAUDE.md\n**Violation:** No redundant content repeated across files (universal)\n**Current:** The \"When to Use Serena vs Claude Code Built-ins\" table (SKILL.md lines 12-20) is the same table as in CLAUDE.md under \"Code Exploration: Prefer Serena\".\n**Fix:** Remove the table from SKILL.md. It is always loaded via CLAUDE.md already.\n\n## Already Fixed (trivial wave)\n- Description: workflow summary trimmed","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-29T01:03:41.971364-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-29T14:01:46.719367-05:00","closed_at":"2026-01-29T14:01:46.719367-05:00","close_reason":"Fixed: removed duplicate Key Tools section (replaced with link to workflow ref), removed duplicate When to Use table (already in CLAUDE.md)"}
{"id":"dotfiles-zpx","title":"Consolidate ts_* user skills into 2 router skills","description":"Merge 8 ts_* skills into 2 routers:\n- ts_conventions: type-parameters, formatting-conditional-types, writing-jsdoc, domain-modeling\n- ts_tooling: buildinfo, exploring-packages, benchmarking-types, writing-tests\n\nts_writing-jsdoc has progressive disclosure (6 files). Its files move under reference/writing-jsdoc/.\n\nRegistry savings: ~6 entries (~280 tokens).","design":"## Consolidation Pattern: Flat Router\n\nThe consolidated skill uses SKILL.md as a flat router listing ALL topics and ALL reference files. Preserves one-level-deep reads.\n\n### Merger Rules\n\n- **Single-file skill** (SKILL.md only): body → `reference/\u003ctopic\u003e/overview.md`\n- **Skill with sub-files**: SKILL.md body → `reference/\u003ctopic\u003e/overview.md`, existing reference/ files → `reference/\u003ctopic\u003e/`, scripts/templates/assets → root level (prefix filenames on collision)\n\n### Plan: 8 ts_* skills → 2 router skills\n\n#### Router 1: `ts_conventions/` (name: `ts:conventions`)\n\nSkills about TypeScript CODE STYLE and documentation.\n\n**Source skills (verify each for sub-files before migrating):**\n- `ts_type-parameters` — check for sub-files\n- `ts_formatting-conditional-types` — check for sub-files\n- `ts_writing-jsdoc` — **HAS PROGRESSIVE DISCLOSURE** (6 files, verify structure)\n- `ts_domain-modeling` — check for sub-files\n\n**Target structure:**\n```\nts_conventions/\n├── SKILL.md\n├── reference/\n│   ├── type-parameters/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── conditional-types/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── writing-jsdoc/\n│   │   └── overview.md (+ any existing sub-files from its progressive disclosure)\n│   └── domain-modeling/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when writing TypeScript — type parameter naming, conditional type formatting, JSDoc documentation, or domain modeling patterns. Covers style conventions and structured documentation approaches.`\n\n#### Router 2: `ts_tooling/` (name: `ts:tooling`)\n\nSkills about TypeScript BUILD TOOLS and development workflow.\n\n**Source skills (verify each for sub-files before migrating):**\n- `ts_buildinfo` — check for sub-files\n- `ts_exploring-packages` — check for sub-files\n- `ts_benchmarking-types` — check for sub-files\n- `ts_writing-tests` — check for sub-files\n\n**Target structure:**\n```\nts_tooling/\n├── SKILL.md\n├── reference/\n│   ├── buildinfo/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── exploring-packages/\n│   │   └── overview.md (+ any existing sub-files)\n│   ├── benchmarking-types/\n│   │   └── overview.md (+ any existing sub-files)\n│   └── writing-tests/\n│       └── overview.md (+ any existing sub-files)\n```\n\n**SKILL.md description:** `Use when working with TypeScript tooling — incremental build cache (tsbuildinfo), exploring npm package source code, benchmarking type instantiations, or writing tests. Covers build optimization and development workflow.`\n\n### Execution Steps\n\n1. For each router, create directory and SKILL.md\n2. For each source skill, read directory contents first\n3. Migrate per merger rules\n4. Delete all 8 old `ts_*` directories\n5. Verify: SKILL.md \u003c 500 lines, all files listed, no orphans\n\n### Naming Conventions\n\n- Directory: underscore delimiter (`ts_conventions`, `ts_tooling`)\n- Frontmatter name: colon delimiter (`ts:conventions`, `ts:tooling`)\n- Topic subdirs: kebab-case matching former skill name without `ts_` prefix","status":"closed","priority":2,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-01-28T14:44:14.623228-05:00","created_by":"Jason Kuhrt","updated_at":"2026-01-28T15:07:10.824476-05:00","closed_at":"2026-01-28T15:07:10.824476-05:00","close_reason":"Consolidated via parallel agents"}
{"id":"dotfiles-zrf","title":"Review and optimize Neovim + LazyVim setup for TypeScript IDE quality","description":"Deep review and configuration of Neovim + LazyVim as a potential Zed replacement. Goal: achieve non-compromising IDE experience for TypeScript development with agent-maintained config.\n\nPrerequisites:\n- Complete Helix trial first (if Helix works, this may be unnecessary)\n\nSteps:\n- Audit existing nvim config in dotfiles (if any)\n- Install Neovim \u003e= 0.11.2 + LazyVim distribution\n- Enable TypeScript extra (:LazyExtras → lazyvim.plugins.extras.lang.typescript)\n- Configure vtsls LSP, verify: completions, diagnostics, go-to-def, rename, inlay hints, organize imports\n- Set up supporting plugins: neo-tree, telescope/fzf, gitsigns, which-key, DAP debugging\n- Configure Ghostty split layout: CC | nvim | lazygit (ctrl+h/j/k/l navigation)\n- Tune for performance: lazy-loading, startup time \u003c 100ms target\n- Version control config in dotfiles repo\n- Test with real TypeScript project for 1-2 days\n- Document findings and comparison with Zed/Helix in research file\n\nContext: See research at ~/.claude/research/2026-02-01-2020-editor-ide-landscape-2026-agentic-workflows.md. Key risk: LazyVim has 3-month commit gap (last push Nov 2025) with bus factor of 1 (Folke). Monitor this. Agent (Opus 4.5) handles config complexity — the 2026 thesis is that config fatigue is eliminated by agents.","status":"open","priority":3,"issue_type":"task","owner":"jasonkuhrt@me.com","created_at":"2026-02-01T21:02:53.635118Z","created_by":"Jason Kuhrt","updated_at":"2026-02-01T21:02:53.635118Z","labels":["workflow"],"dependencies":[{"issue_id":"dotfiles-zrf","depends_on_id":"dotfiles-5r3","type":"blocks","created_at":"2026-02-01T21:02:57.947627Z","created_by":"Jason Kuhrt"}]}
