# Serena Workflow Reference

## Tool Quick Reference

### Navigation Tools

**`find_symbol`** — Global/local symbol search
- Search by name or substring
- Filter by symbol type (function, class, variable, etc.)
- Returns locations with file paths and line numbers

**`find_referencing_symbols`** — Find what references a symbol
- Given a file + position, find all references
- Optionally filter by reference type

**`get_symbols_overview`** — File structure at a glance
- Returns top-level symbols in a file
- Faster than reading entire file to understand structure

**`search_for_pattern`** — Text pattern search across project
- Similar to grep/ripgrep but project-aware
- Respects project boundaries

### Refactoring Tools

**`rename_symbol`** — LSP-powered rename
- Renames across entire codebase (all references updated)
- Uses language server refactoring — handles imports, re-exports, etc.
- Much safer than find-and-replace

**`replace_symbol_body`** — Replace a symbol's full definition
- Targets by symbol identity, not text match
- Handles multi-line definitions correctly

**`insert_before_symbol`** / **`insert_after_symbol`** — Positional insertion
- Insert content relative to a symbol definition
- Useful for adding related code near existing symbols

### Memory Tools

**`write_memory`** — Save named info for future sessions
- Project-specific persistent storage
- Use for: architecture decisions, discovered patterns, onboarding notes

**`read_memory`** / **`list_memories`** / **`delete_memory`** — Manage memories

**`onboarding`** — Project structure discovery
- Identifies build system, test framework, project layout
- Results stored as memories for future reference

### Session Management

**`switch_modes`** — Change modes mid-session
- Example: switch from `editing` to `planning` mode

**`restart_language_server`** — Fix stale state
- Required after external edits that Serena didn't track
- Rebuilds symbol index

**`get_current_config`** — Inspect active state
- Shows active project, context, modes, available tools

## Common Workflows

### Understand a codebase area

```
1. get_symbols_overview on the entry file
2. find_symbol for key types/functions
3. find_referencing_symbols to trace usage
```

### Safe rename

```
1. find_symbol to locate the target
2. find_referencing_symbols to understand impact
3. rename_symbol to execute
```

### Navigate unfamiliar code

```
1. onboarding (first time only — results persist as memories)
2. get_symbols_overview on relevant files
3. find_symbol to locate specific constructs
```

## All Tools (full list)

Tools marked with `*` are typically disabled in `claude-code` context:

| Tool | Purpose |
|------|---------|
| `activate_project` | Switch active project* |
| `check_onboarding_performed` | Check if onboarded |
| `create_text_file` | Create/overwrite file* |
| `delete_lines` | Delete line range* |
| `delete_memory` | Delete a memory |
| `execute_shell_command` | Run shell command* |
| `find_file` | Find files by path |
| `find_referencing_symbols` | Find symbol references |
| `find_symbol` | Search for symbols |
| `get_current_config` | Show current config |
| `get_symbols_overview` | File symbols overview |
| `initial_instructions` | Load Serena instructions |
| `insert_after_symbol` | Insert after symbol def |
| `insert_at_line` | Insert at line* |
| `insert_before_symbol` | Insert before symbol def |
| `list_dir` | List directory* |
| `list_memories` | List stored memories |
| `onboarding` | Project onboarding |
| `prepare_for_new_conversation` | Prep for new conversation |
| `read_file` | Read file content* |
| `read_memory` | Read a stored memory |
| `remove_project` | Remove project from config* |
| `rename_symbol` | LSP rename refactoring |
| `replace_content` | Replace in file* |
| `replace_lines` | Replace line range* |
| `replace_symbol_body` | Replace symbol definition |
| `restart_language_server` | Restart LSP |
| `search_for_pattern` | Pattern search |
| `summarize_changes` | Summarize codebase changes |
| `switch_modes` | Change active modes |
| `think_about_collected_information` | Thinking tool |
| `think_about_task_adherence` | Thinking tool |
| `think_about_whether_you_are_done` | Thinking tool |
| `write_memory` | Write a named memory |
