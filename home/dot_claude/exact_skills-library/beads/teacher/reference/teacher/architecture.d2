direction: down

jsonl: "issues.jsonl\n(source of truth, git-tracked)" {
  shape: document
}

sqlite: "beads.db (SQLite)\n(local cache, git-ignored)" {
  shape: cylinder
}

daemon: "bd daemon\n(WAL, IPC via bd.sock)" {
  shape: hexagon
}

cli: bd create / close / update

git: git push / pull

remote: remote_repo {
  shape: cloud
  label: Remote repo
}

cli -> daemon: IPC {style.stroke-dash: 3}
daemon -> sqlite: read/write
sqlite -> jsonl: bd sync (export)
jsonl -> sqlite: bd sync (import)
jsonl -> git
git -> remote
remote -> git: pull
git -> jsonl: updated JSONL
